# Open Notes Development Environment Configuration
#
# This template shows typical development environment settings.
# Copy to .env.yaml and customize as needed.

# ============================================================================
# CORE ENVIRONMENT
# ============================================================================

ENVIRONMENT: development
SERVICE: all
DEBUG: true
LOG_LEVEL: DEBUG

# ============================================================================
# DATABASE - PostgreSQL
# ============================================================================

POSTGRES_DB: opennotes
POSTGRES_USER: opennotes
POSTGRES_PASSWORD: opennotes_dev_password
DATABASE_URL: "postgresql+asyncpg://opennotes:opennotes_dev_password@postgres:5432/opennotes"

# ============================================================================
# CACHE - Redis
# ============================================================================

REDIS_URL: "redis://redis:6379/0"
REDIS_DB: 0
REDIS_MAX_CONNECTIONS: 10

# ============================================================================
# MESSAGE BROKER - NATS
# ============================================================================

NATS_URL: "nats://nats:4222"
NATS_STREAM_NAME: OPENNOTES
NATS_CONSUMER_NAME: opennotes-server

# ============================================================================
# BACKEND SERVER
# ============================================================================

SERVER_HOST: 0.0.0.0
SERVER_PORT: 8000
OPENNOTES_SERVICE_URL: "http://opennotes-server:8000"
PROJECT_NAME: "Open Notes Server"
VERSION: 1.0.0

CORS_ORIGINS: "http://localhost:3000,http://localhost:5173,http://localhost:8000"

# Worker configuration (reduced for development)
MAX_WORKERS: 2
WORKER_ENABLED: true
SCORING_ENABLED: true

# ============================================================================
# DISCORD BOT
# ============================================================================

DISCORD_TOKEN: your_discord_bot_token_here
DISCORD_CLIENT_ID: your_discord_client_id_here
DISCORD_PUBLIC_KEY: your_discord_public_key_here
DISCORD_APPLICATION_ID: your_discord_application_id_here

# Discord bot API key for server authentication
OPENNOTES_API_KEY: your_api_key_here

NODE_ENV: development
PORT: 3000

# ============================================================================
# SECURITY
# ============================================================================

# Development JWT secret (CHANGE IN PRODUCTION!)
JWT_SECRET_KEY: dev-secret-key-change-in-production
JWT_ALGORITHM: HS256
ACCESS_TOKEN_EXPIRE_MINUTES: 30
REFRESH_TOKEN_EXPIRE_DAYS: 7

# Rate limiting (permissive for development)
RATE_LIMIT_ENABLED: true
RATE_LIMIT_PER_MINUTE: 60

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================

ENABLE_METRICS: true
ENABLE_TRACING: false
ENABLE_JSON_LOGGING: false
ENABLE_CONSOLE_TRACING: true

# Sentry (disabled for development)
SENTRY_DSN: ""
SENTRY_DSN_DISCORD: ""

# ============================================================================
# DOCKER & DEPLOYMENT
# ============================================================================

IMAGE_TAG: latest
REGISTRY: ghcr.io
IMAGE_REPO: opennotes-ai/multiverse

# ============================================================================
# DEVELOPMENT TOOLS
# ============================================================================

TESTING: 0
