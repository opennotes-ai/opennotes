{
  "openapi": "3.1.0",
  "info": {
    "title": "Open Notes Scoring API",
    "version": "0.0.1"
  },
  "paths": {
    "/api/v1/auth/register": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Register",
        "operationId": "register_api_v1_auth_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Login",
        "operationId": "login_api_v1_auth_login_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_login_api_v1_auth_login_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/refresh": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Refresh Access Token",
        "description": "Refresh access token using a refresh token.\n\nThe refresh token must be provided in the request body (not as a query parameter)\nto prevent token leakage in server logs, browser history, and referrer headers.",
        "operationId": "refresh_access_token_api_v1_auth_refresh_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshTokenRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/logout": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Logout",
        "description": "Logout by revoking the provided refresh token and current access token.\n\nOnly revokes the token if it belongs to the current user, preventing\ncross-user token revocation attacks.",
        "operationId": "logout_api_v1_auth_logout_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "refresh_token",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Refresh Token"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/logout-all": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Logout All",
        "operationId": "logout_all_api_v1_auth_logout_all_post",
        "responses": {
          "204": {
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/auth/revoke-token": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Revoke Current Token",
        "operationId": "revoke_current_token_api_v1_auth_revoke_token_post",
        "responses": {
          "204": {
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/auth/revoke-all-tokens": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Revoke All Tokens",
        "operationId": "revoke_all_tokens_api_v1_auth_revoke_all_tokens_post",
        "responses": {
          "204": {
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/users/me": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Get Current User Profile",
        "operationId": "get_current_user_profile_api_v1_users_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      },
      "patch": {
        "tags": [
          "auth"
        ],
        "summary": "Update Current User Profile",
        "operationId": "update_current_user_profile_api_v1_users_me_patch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/users/me/login-history": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Get Login History",
        "operationId": "get_login_history_api_v1_users_me_login_history_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AuditLogResponse"
                  },
                  "title": "Response Get Login History Api V1 Users Me Login History Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/me/api-keys": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "List User Api Keys",
        "operationId": "list_user_api_keys_api_v1_users_me_api_keys_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/APIKeyResponse"
                  },
                  "type": "array",
                  "title": "Response List User Api Keys Api V1 Users Me Api Keys Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Create User Api Key",
        "operationId": "create_user_api_key_api_v1_users_me_api_keys_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/APIKeyCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIKeyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/users/me/api-keys/{api_key_id}": {
      "delete": {
        "tags": [
          "auth"
        ],
        "summary": "Revoke User Api Key",
        "operationId": "revoke_user_api_key_api_v1_users_me_api_keys__api_key_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "api_key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Api Key Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/profile/auth/discord/init": {
      "get": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Init Discord Oauth",
        "description": "Initialize Discord OAuth2 flow with CSRF protection.\n\nThis endpoint:\n1. Generates a cryptographically secure state parameter\n2. Stores the state in Redis with a 10-minute TTL\n3. Returns the Discord authorization URL with the state parameter\n\nThe client should:\n1. Store the returned state value\n2. Redirect the user to the authorization_url\n3. On callback, send both the code AND state to register/login endpoints\n\nSecurity: The state parameter prevents CSRF attacks by ensuring the OAuth\ncallback was initiated by this application.",
        "operationId": "init_discord_oauth_api_v1_profile_auth_discord_init_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DiscordOAuthInitResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/profile/auth/register/discord": {
      "post": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Register Discord",
        "description": "Register a new user with Discord OAuth2.\n\nThis endpoint:\n1. Validates the state parameter against stored state (CSRF protection)\n2. Exchanges the authorization code for an access token\n3. Fetches the user's Discord information to verify identity\n4. Creates a new user profile with verified Discord credentials\n5. Stores OAuth tokens securely in the credentials field\n\nSecurity: Prevents CSRF attacks via state validation and identity spoofing\nby verifying Discord ownership via OAuth2.",
        "operationId": "register_discord_api_v1_profile_auth_register_discord_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DiscordOAuthRegisterRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/profile/auth/register/email": {
      "post": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Register Email",
        "operationId": "register_email_api_v1_profile_auth_register_email_post",
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Email"
            }
          },
          {
            "name": "password",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Password"
            }
          },
          {
            "name": "display_name",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Display Name"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/profile/auth/login/discord": {
      "post": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Login Discord",
        "description": "Login with Discord OAuth2.\n\nThis endpoint:\n1. Validates the state parameter against stored state (CSRF protection)\n2. Exchanges the authorization code for an access token\n3. Fetches the user's Discord information to verify identity\n4. Authenticates the user and issues JWT tokens\n\nSecurity: Prevents CSRF attacks via state validation and verifies\nDiscord account ownership via OAuth2 before login.",
        "operationId": "login_discord_api_v1_profile_auth_login_discord_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DiscordOAuthLoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/profile/auth/login/email": {
      "post": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Login Email",
        "operationId": "login_email_api_v1_profile_auth_login_email_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_login_email_api_v1_profile_auth_login_email_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/profile/auth/verify-email": {
      "post": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Verify Email",
        "description": "Verify a user's email address using the verification token.\n\nThis endpoint:\n1. Validates the verification token exists and hasn't expired\n2. Marks the email as verified\n3. Clears the verification token\n4. Returns the updated profile\n\nArgs:\n    token: The email verification token sent to the user's email\n    db: Database session\n\nReturns:\n    UserProfile: The verified user profile\n\nRaises:\n    HTTPException 400: If token is invalid or expired",
        "operationId": "verify_email_api_v1_profile_auth_verify_email_post",
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/profile/auth/resend-verification": {
      "post": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Resend Verification Email",
        "description": "Resend email verification to a user.\n\nThis endpoint:\n1. Finds the identity by email\n2. Checks if email is already verified\n3. Generates new verification token\n4. Sends new verification email\n\nArgs:\n    email: The email address to resend verification to\n    db: Database session\n\nReturns:\n    dict: Success message\n\nRaises:\n    HTTPException 400: If email not found or already verified",
        "operationId": "resend_verification_email_api_v1_profile_auth_resend_verification_post",
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Email"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Resend Verification Email Api V1 Profile Auth Resend Verification Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/profile/auth/migrate-profile": {
      "post": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Migrate Legacy User To Profile",
        "operationId": "migrate_legacy_user_to_profile_api_v1_profile_auth_migrate_profile_post",
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/profile/me": {
      "get": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Get Current Profile Endpoint",
        "operationId": "get_current_profile_endpoint_api_v1_profile_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      },
      "patch": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Update Current Profile Endpoint",
        "operationId": "update_current_profile_endpoint_api_v1_profile_me_patch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserProfileSelfUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/profile/auth/revoke": {
      "post": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Revoke Profile Token",
        "description": "Revoke the current profile access token.\n\nThis endpoint:\n1. Extracts the token from the Authorization header\n2. Adds the token's JTI to the Redis revocation blacklist\n3. The token will be rejected on future verification attempts\n\nUse this endpoint to invalidate the current access token after logout\nor when a token may be compromised.\n\nNote: Existing tokens without jti claim (created before this feature)\ncannot be revoked individually and will expire naturally.",
        "operationId": "revoke_profile_token_api_v1_profile_auth_revoke_post",
        "responses": {
          "204": {
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/admin/profiles/{profile_id}/opennotes-admin": {
      "patch": {
        "tags": [
          "admin"
        ],
        "summary": "Set Opennotes Admin Status",
        "description": "Grant or revoke Open Notes admin status for a user profile.\n\nOpen Notes admins have cross-community administrative privileges. This endpoint\nis restricted to service accounts only.\n\nArgs:\n    profile_id: UUID of the profile to modify\n    is_admin: True to grant admin status, False to revoke\n    db: Database session\n    service_account: Service account making the request\n\nReturns:\n    UserProfileResponse: Updated profile with new admin status\n\nRaises:\n    HTTPException 404: If profile not found\n    HTTPException 403: If requester is not a service account",
        "operationId": "set_opennotes_admin_status_api_v1_admin_profiles__profile_id__opennotes_admin_patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Profile Id"
            }
          },
          {
            "name": "is_admin",
            "in": "query",
            "required": true,
            "schema": {
              "type": "boolean",
              "title": "Is Admin"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get Opennotes Admin Status",
        "description": "Get the Open Notes admin status for a user profile.\n\nArgs:\n    profile_id: UUID of the profile to check\n    db: Database session\n    _service_account: Service account making the request (required)\n\nReturns:\n    dict: {\"is_opennotes_admin\": bool}\n\nRaises:\n    HTTPException 404: If profile not found\n    HTTPException 403: If requester is not a service account",
        "operationId": "get_opennotes_admin_status_api_v1_admin_profiles__profile_id__opennotes_admin_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Profile Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "boolean"
                  },
                  "title": "Response Get Opennotes Admin Status Api V1 Admin Profiles  Profile Id  Opennotes Admin Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/fusion-weights": {
      "get": {
        "tags": [
          "admin",
          "search"
        ],
        "summary": "Get All Fusion Weights",
        "description": "Get all configured fusion weights.\n\nReturns the global default weight and any dataset-specific overrides.\n\nReturns:\n    AllFusionWeightsResponse: All configured fusion weights",
        "operationId": "get_all_fusion_weights_api_v1_admin_fusion_weights_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AllFusionWeightsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "admin",
          "search"
        ],
        "summary": "Update Fusion Weight",
        "description": "Update a fusion weight (global or dataset-specific).\n\nArgs:\n    request: FusionWeightUpdate with alpha and optional dataset\n\nReturns:\n    FusionWeightResponse: Updated fusion weight\n\nRaises:\n    HTTPException 400: If alpha is out of range\n    HTTPException 500: If Redis update fails",
        "operationId": "update_fusion_weight_api_v1_admin_fusion_weights_put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FusionWeightUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FusionWeightResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/fusion-weights/default": {
      "get": {
        "tags": [
          "admin",
          "search"
        ],
        "summary": "Get Default Fusion Weight",
        "description": "Get the global default fusion weight.\n\nReturns:\n    FusionWeightResponse: Current default fusion weight",
        "operationId": "get_default_fusion_weight_api_v1_admin_fusion_weights_default_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FusionWeightResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/fusion-weights/{dataset}": {
      "get": {
        "tags": [
          "admin",
          "search"
        ],
        "summary": "Get Dataset Fusion Weight",
        "description": "Get the fusion weight for a specific dataset.\n\nArgs:\n    dataset: Dataset name (e.g., 'snopes', 'politifact')\n\nReturns:\n    FusionWeightResponse: Fusion weight for the dataset",
        "operationId": "get_dataset_fusion_weight_api_v1_admin_fusion_weights__dataset__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "dataset",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Dataset"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FusionWeightResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "admin",
          "search"
        ],
        "summary": "Delete Dataset Fusion Weight",
        "description": "Delete a dataset-specific fusion weight (revert to default).\n\nArgs:\n    dataset: Dataset name to remove override for\n\nReturns:\n    dict: Confirmation message",
        "operationId": "delete_dataset_fusion_weight_api_v1_admin_fusion_weights__dataset__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "dataset",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Dataset"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Delete Dataset Fusion Weight Api V1 Admin Fusion Weights  Dataset  Delete"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/notes": {
      "get": {
        "tags": [
          "notes-jsonapi"
        ],
        "summary": "List Notes Jsonapi",
        "description": "List notes with JSON:API format.\n\nSupports filtering and pagination per JSON:API specification.\n\nQuery Parameters:\n- page[number]: Page number (default: 1)\n- page[size]: Page size (default: 20, max: 100)\n\nFilter Parameters (equality):\n- filter[status]: Filter by note status (exact match)\n- filter[classification]: Filter by classification\n- filter[community_server_id]: Filter by community server UUID\n- filter[author_id]: Filter by author (user profile UUID)\n- filter[request_id]: Filter by request ID\n- filter[platform_message_id]: Filter by platform message ID (Discord snowflake)\n\nFilter Parameters (operators):\n- filter[status__neq]: Exclude notes with this status\n- filter[created_at__gte]: Notes created on or after this datetime\n- filter[created_at__lte]: Notes created on or before this datetime\n- filter[rater_id__not_in]: Exclude notes rated by these users\n  (comma-separated list of user profile UUIDs)\n- filter[rater_id]: Include only notes rated by this user (user profile UUID)\n\nReturns JSON:API formatted response with data, jsonapi, links, and meta.",
        "operationId": "list_notes_jsonapi_api_v2_notes_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page[number]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page[Number]"
            }
          },
          {
            "name": "page[size]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page[Size]"
            }
          },
          {
            "name": "filter[status]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/NoteStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Status]"
            }
          },
          {
            "name": "filter[status__neq]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/NoteStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Status  Neq]"
            }
          },
          {
            "name": "filter[classification]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/NoteClassification"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Classification]"
            }
          },
          {
            "name": "filter[community_server_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Community Server Id]"
            }
          },
          {
            "name": "filter[author_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Author Id]"
            }
          },
          {
            "name": "filter[request_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Request Id]"
            }
          },
          {
            "name": "filter[created_at__gte]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Created At  Gte]"
            }
          },
          {
            "name": "filter[created_at__lte]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Created At  Lte]"
            }
          },
          {
            "name": "filter[rater_id__not_in]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Rater Id  Not In]"
            }
          },
          {
            "name": "filter[rater_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Rater Id]"
            }
          },
          {
            "name": "filter[platform_message_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Platform Message Id]"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "notes-jsonapi"
        ],
        "summary": "Create Note Jsonapi",
        "description": "Create a new note with JSON:API format.\n\nJSON:API 1.0 requires:\n- Request body with 'data' object containing 'type' and 'attributes'\n- Response with 201 Created status\n- Response body with 'data' object containing created resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "create_note_jsonapi_api_v2_notes_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NoteCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/notes/{note_id}": {
      "get": {
        "tags": [
          "notes-jsonapi"
        ],
        "summary": "Get Note Jsonapi",
        "description": "Get a single note by ID with JSON:API format.\n\nReturns JSON:API formatted response with data and jsonapi keys.\nReturns JSON:API error format for 404 and other errors.",
        "operationId": "get_note_jsonapi_api_v2_notes__note_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Note Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "notes-jsonapi"
        ],
        "summary": "Update Note Jsonapi",
        "description": "Update a note with JSON:API format.\n\nJSON:API 1.0 requires:\n- Request body with 'data' object containing 'type', 'id', and 'attributes'\n- The 'id' in the body must match the URL parameter\n- Response with 200 OK status\n- Response body with 'data' object containing updated resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "update_note_jsonapi_api_v2_notes__note_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Note Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NoteUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "notes-jsonapi"
        ],
        "summary": "Delete Note Jsonapi",
        "description": "Delete a note with JSON:API format.\n\nJSON:API 1.0 requires:\n- Response with 204 No Content status on success\n- Response with JSON:API error format on failure\n\nReturns None (204 No Content) on success.",
        "operationId": "delete_note_jsonapi_api_v2_notes__note_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Note Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/notes/{note_id}/force-publish": {
      "post": {
        "tags": [
          "notes-jsonapi"
        ],
        "summary": "Force Publish Note Jsonapi",
        "description": "Force-publish a note with JSON:API format (admin only).\n\nThis endpoint allows administrators to manually publish notes that haven't met\nautomatic publication thresholds. The note is marked with force_published flags\nfor transparency, and the action is logged with admin user ID and timestamp.\n\nRequires admin authentication (service accounts, Open Notes admins, or community admins).\n\nReturns JSON:API formatted response with updated note resource.",
        "operationId": "force_publish_note_jsonapi_api_v2_notes__note_id__force_publish_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Note Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/ratings": {
      "post": {
        "tags": [
          "ratings-jsonapi"
        ],
        "summary": "Create Rating Jsonapi",
        "description": "Create or upsert a rating with JSON:API format.\n\nJSON:API 1.0 requires:\n- Request body with 'data' object containing 'type' and 'attributes'\n- Response with 201 Created status for new rating\n- Response body with 'data' object containing created/updated resource\n\nIf a rating already exists for the same note + rater, it will be updated (upsert).",
        "operationId": "create_rating_jsonapi_api_v2_ratings_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RatingCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RatingSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/notes/{note_id}/ratings": {
      "get": {
        "tags": [
          "ratings-jsonapi"
        ],
        "summary": "List Note Ratings Jsonapi",
        "description": "List all ratings for a note with JSON:API format.\n\nJSON:API 1.0 requires:\n- Response with 200 OK status\n- 'data' array containing rating resource objects\n- Each resource has 'type', 'id', and 'attributes'\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "list_note_ratings_jsonapi_api_v2_notes__note_id__ratings_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Note Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RatingListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/ratings/{rating_id}": {
      "put": {
        "tags": [
          "ratings-jsonapi"
        ],
        "summary": "Update Rating Jsonapi",
        "description": "Update an existing rating with JSON:API format.\n\nJSON:API 1.0 requires:\n- Request body with 'data' object containing 'type', 'id', and 'attributes'\n- Response with 200 OK status for updated resource\n- Response body with 'data' object containing updated resource\n\nUsers can only update ratings they submitted or if they are a community admin.\nService accounts can update any rating.",
        "operationId": "update_rating_jsonapi_api_v2_ratings__rating_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "rating_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Rating Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RatingUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RatingSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/notes/{note_id}/ratings/stats": {
      "get": {
        "tags": [
          "ratings-jsonapi"
        ],
        "summary": "Get Rating Stats Jsonapi",
        "description": "Get rating statistics for a note with JSON:API format.\n\nJSON:API 1.0 requires:\n- Response with 200 OK status\n- 'data' object containing singleton/aggregate resource\n- Resource has 'type', 'id', and 'attributes'\n\nUsers can only view rating stats for notes in communities they are members of.\nService accounts can view all rating stats.",
        "operationId": "get_rating_stats_jsonapi_api_v2_notes__note_id__ratings_stats_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Note Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RatingStatsSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/profiles/me": {
      "get": {
        "tags": [
          "profiles-jsonapi",
          "profiles-jsonapi"
        ],
        "summary": "Get Current Profile Jsonapi",
        "description": "Get the authenticated user's profile with JSON:API format.\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "get_current_profile_jsonapi_api_v2_profiles_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfileSingleResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      },
      "patch": {
        "tags": [
          "profiles-jsonapi",
          "profiles-jsonapi"
        ],
        "summary": "Update Profile Jsonapi",
        "description": "Update the authenticated user's profile with JSON:API format.\n\nAccepts JSON:API formatted request body with data object containing\ntype, id, and attributes.\n\nReturns JSON:API formatted response with updated profile.",
        "operationId": "update_profile_jsonapi_api_v2_profiles_me_patch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProfileUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfileSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v2/profiles/me/identities": {
      "get": {
        "tags": [
          "profiles-jsonapi",
          "profiles-jsonapi"
        ],
        "summary": "List User Identities Jsonapi",
        "description": "List all identities linked to the current user's profile with JSON:API format.\n\nReturns JSON:API formatted response with data array and jsonapi keys.\n\nQuery Parameters:\n    limit: Maximum number of identities to return (1-100, default 50)\n    offset: Number of identities to skip (>=0, default 0)",
        "operationId": "list_user_identities_jsonapi_api_v2_profiles_me_identities_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IdentityListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "profiles-jsonapi",
          "profiles-jsonapi"
        ],
        "summary": "Link Identity Jsonapi",
        "description": "Link a new authentication identity to the current user's profile.\n\nJSON:API POST request should use standard JSON:API request body format\nwith data object containing type and attributes.\n\nSecurity: Requires oauth_verified in credentials to prevent linking\naccounts the user doesn't own.",
        "operationId": "link_identity_jsonapi_api_v2_profiles_me_identities_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IdentityCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IdentitySingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/profiles/me/identities/{identity_id}": {
      "delete": {
        "tags": [
          "profiles-jsonapi",
          "profiles-jsonapi"
        ],
        "summary": "Unlink Identity Jsonapi",
        "description": "Unlink an authentication identity from the current user's profile.\n\nNote: Cannot unlink the last remaining identity. Users must have at least\none authentication method linked to their profile.\n\nReturns 204 No Content on success.",
        "operationId": "unlink_identity_jsonapi_api_v2_profiles_me_identities__identity_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "identity_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Identity Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/profiles/me/communities": {
      "get": {
        "tags": [
          "profiles-jsonapi",
          "profiles-jsonapi"
        ],
        "summary": "List User Communities Jsonapi",
        "description": "List all communities the current user is a member of with JSON:API format.\n\nReturns JSON:API formatted response with data array and jsonapi keys.\n\nQuery Parameters:\n    limit: Maximum number of communities to return (1-100, default 50)\n    offset: Number of communities to skip (>=0, default 0)",
        "operationId": "list_user_communities_jsonapi_api_v2_profiles_me_communities_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityMembershipListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/profiles/{profile_id}": {
      "get": {
        "tags": [
          "profiles-jsonapi",
          "profiles-jsonapi"
        ],
        "summary": "Get Public Profile Jsonapi",
        "description": "Get a public profile by ID with JSON:API format.\n\nReturns JSON:API formatted response with data and jsonapi keys.\nReturns JSON:API error format for 404 and other errors.",
        "operationId": "get_public_profile_jsonapi_api_v2_profiles__profile_id__get",
        "parameters": [
          {
            "name": "profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Profile Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfileSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/profiles/{profile_id}/opennotes-admin": {
      "get": {
        "tags": [
          "profiles-jsonapi",
          "profiles-jsonapi"
        ],
        "summary": "Get Admin Status Jsonapi",
        "description": "Get the Open Notes admin status for a user profile.\n\nReturns JSON:API formatted response with admin status data.\n\nSecurity: This endpoint is restricted to service accounts only.",
        "operationId": "get_admin_status_jsonapi_api_v2_profiles__profile_id__opennotes_admin_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Profile Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminStatusSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "profiles-jsonapi",
          "profiles-jsonapi"
        ],
        "summary": "Update Admin Status Jsonapi",
        "description": "Grant or revoke Open Notes admin status for a user profile.\n\nJSON:API PATCH request should use standard JSON:API request body format\nwith data object containing type, id, and attributes.\n\nSecurity: This endpoint is restricted to service accounts only.",
        "operationId": "update_admin_status_jsonapi_api_v2_profiles__profile_id__opennotes_admin_patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Profile Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdminStatusUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminStatusSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user-profiles/lookup": {
      "get": {
        "tags": [
          "profiles-jsonapi",
          "profiles-jsonapi"
        ],
        "summary": "Lookup User Profile Jsonapi",
        "description": "Look up a user profile by platform and platform user ID with JSON:API format.\n\nReturns the internal UUID for a user profile based on its platform-specific identifier.\nAuto-creates the profile if it doesn't exist (for service accounts/bots).\n\nArgs:\n    platform: Platform type (default: \"discord\")\n    platform_user_id: Platform-specific user ID (e.g., Discord user ID)\n\nReturns:\n    JSON:API formatted response with user profile details\n\nRaises:\n    404: If user profile not found and user is not a service account\n    400: If platform is not supported (currently only 'discord')",
        "operationId": "lookup_user_profile_jsonapi_api_v2_user_profiles_lookup_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Platform type",
              "default": "discord",
              "title": "Platform"
            },
            "description": "Platform type"
          },
          {
            "name": "platform_user_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Platform-specific user ID (e.g., Discord user ID)",
              "title": "Platform User Id"
            },
            "description": "Platform-specific user ID (e.g., Discord user ID)"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileLookupResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/community-servers/lookup": {
      "get": {
        "tags": [
          "community-servers-jsonapi",
          "community-servers-jsonapi"
        ],
        "summary": "Lookup Community Server Jsonapi",
        "description": "Look up a community server by platform and platform ID with JSON:API format.\n\nReturns the internal UUID for a community server based on its platform-specific identifier.\nAuto-creates the community server if it doesn't exist (for service accounts/bots).\n\nArgs:\n    platform: Platform type (default: \"discord\")\n    platform_community_server_id: Platform-specific ID (e.g., Discord guild ID)\n\nReturns:\n    JSON:API formatted response with community server details\n\nRaises:\n    404: If community server not found and user is not a service account",
        "operationId": "lookup_community_server_jsonapi_api_v2_community_servers_lookup_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Platform type",
              "default": "discord",
              "title": "Platform"
            },
            "description": "Platform type"
          },
          {
            "name": "platform_community_server_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Platform-specific ID (e.g., Discord guild ID)",
              "title": "Platform Community Server Id"
            },
            "description": "Platform-specific ID (e.g., Discord guild ID)"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityServerSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/community-servers/{server_id}": {
      "get": {
        "tags": [
          "community-servers-jsonapi",
          "community-servers-jsonapi"
        ],
        "summary": "Get Community Server Jsonapi",
        "description": "Get a community server by ID with JSON:API format.\n\nReturns JSON:API formatted response with data and jsonapi keys.\nReturns JSON:API error format for 404 and other errors.",
        "operationId": "get_community_server_jsonapi_api_v2_community_servers__server_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityServerSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/stats/notes": {
      "get": {
        "tags": [
          "stats-jsonapi"
        ],
        "summary": "Get Notes Stats Jsonapi",
        "description": "Get aggregated note statistics in JSON:API format.\n\nReturns statistics about notes including total count, helpful/not helpful counts,\npending count, and average helpfulness score.\n\nQuery Parameters:\n- filter[date_from]: Notes created on or after this datetime\n- filter[date_to]: Notes created on or before this datetime\n- filter[community_server_id]: Filter by community server UUID\n\nUsers can only see stats from communities they are members of.\nService accounts can see all stats.",
        "operationId": "get_notes_stats_jsonapi_api_v2_stats_notes_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "filter[date_from]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Date From]"
            }
          },
          {
            "name": "filter[date_to]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Date To]"
            }
          },
          {
            "name": "filter[community_server_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Community Server Id]"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteStatsSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/stats/author/{author_id}": {
      "get": {
        "tags": [
          "stats-jsonapi"
        ],
        "summary": "Get Author Stats Jsonapi",
        "description": "Get statistics for a specific author in JSON:API format.\n\nReturns statistics about an author including notes created, ratings given,\naverage helpfulness received, and top classification.\n\nPath Parameters:\n- author_id: The author's user profile UUID\n\nQuery Parameters:\n- filter[community_server_id]: Filter by community server UUID\n\nUsers can only see stats from communities they are members of.\nService accounts can see all stats.",
        "operationId": "get_author_stats_jsonapi_api_v2_stats_author__author_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "author_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Author Id"
            }
          },
          {
            "name": "filter[community_server_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Community Server Id]"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ParticipantStatsSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/requests": {
      "get": {
        "tags": [
          "requests-jsonapi"
        ],
        "summary": "List Requests Jsonapi",
        "description": "List requests with JSON:API format.\n\nSupports filtering and pagination per JSON:API specification.\n\nQuery Parameters:\n- page[number]: Page number (default: 1)\n- page[size]: Page size (default: 20, max: 100)\n\nFilter Parameters:\n- filter[status]: Filter by request status (PENDING, IN_PROGRESS, COMPLETED, FAILED)\n- filter[community_server_id]: Filter by community server UUID\n- filter[requested_by]: Filter by requester participant ID\n- filter[requested_at__gte]: Requests created on or after this datetime\n- filter[requested_at__lte]: Requests created on or before this datetime\n\nReturns JSON:API formatted response with data, jsonapi, links, and meta.",
        "operationId": "list_requests_jsonapi_api_v2_requests_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page[number]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page[Number]"
            }
          },
          {
            "name": "page[size]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page[Size]"
            }
          },
          {
            "name": "filter[status]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/RequestStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Status]"
            }
          },
          {
            "name": "filter[community_server_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Community Server Id]"
            }
          },
          {
            "name": "filter[requested_by]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Requested By]"
            }
          },
          {
            "name": "filter[requested_at__gte]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Requested At  Gte]"
            }
          },
          {
            "name": "filter[requested_at__lte]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Requested At  Lte]"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RequestListJSONAPIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "requests-jsonapi"
        ],
        "summary": "Create Request Jsonapi",
        "description": "Create a new request with JSON:API format.\n\nJSON:API 1.1 requires:\n- Request body with 'data' object containing 'type' and 'attributes'\n- Response with 201 Created status\n- Response body with 'data' object containing created resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "create_request_jsonapi_api_v2_requests_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RequestCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RequestSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/requests/{request_id}": {
      "get": {
        "tags": [
          "requests-jsonapi"
        ],
        "summary": "Get Request Jsonapi",
        "description": "Get a single request by ID with JSON:API format.\n\nReturns JSON:API formatted response with data and jsonapi keys.\nReturns JSON:API error format for 404 and other errors.",
        "operationId": "get_request_jsonapi_api_v2_requests__request_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Request Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RequestSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "requests-jsonapi"
        ],
        "summary": "Update Request Jsonapi",
        "description": "Update a request with JSON:API format.\n\nJSON:API 1.1 requires:\n- Request body with 'data' object containing 'type', 'id', and 'attributes'\n- The 'id' in the body must match the URL parameter\n- Response with 200 OK status\n- Response body with 'data' object containing updated resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "update_request_jsonapi_api_v2_requests__request_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Request Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RequestUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RequestSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/requests/{request_id}/ai-notes": {
      "post": {
        "tags": [
          "requests-jsonapi"
        ],
        "summary": "Generate Ai Note Jsonapi",
        "description": "Generate an AI-powered note for a specific request in JSON:API format.\n\nThis endpoint triggers on-demand AI note generation for requests that have\nassociated fact-check data. The AI will analyze the original message and\nthe matched fact-check information to generate a helpful community note.\n\nRequirements:\n- Request must exist and have fact-check metadata (dataset_item_id, similarity_score, dataset_name)\n- AI note writing must be enabled for the community server\n- Rate limits: 5 per minute, 20 per hour\n\nReturns JSON:API formatted response with the generated note resource.",
        "operationId": "generate_ai_note_jsonapi_api_v2_requests__request_id__ai_notes_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Request Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scoring/status": {
      "get": {
        "tags": [
          "scoring-jsonapi"
        ],
        "summary": "Get Scoring Status Jsonapi",
        "description": "Get system scoring status in JSON:API format.\n\nReturns a singleton resource with current scoring system status including:\n- Current note count\n- Active scoring tier\n- Data confidence level\n- Tier thresholds\n- Next tier upgrade information\n- Performance metrics\n- Warnings",
        "operationId": "get_scoring_status_jsonapi_api_v2_scoring_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScoringStatusJSONAPIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scoring/notes/{note_id}/score": {
      "get": {
        "tags": [
          "scoring-jsonapi"
        ],
        "summary": "Get Note Score Jsonapi",
        "description": "Get individual note score in JSON:API format.\n\nUsers can only view scores for notes in communities they are members of.\nService accounts can view all scores.\n\nReturns the calculated score for a specific note along with:\n- Algorithm used for scoring\n- Confidence level based on rating count\n- Current scoring tier information\n- Number of ratings\n- Timestamp of calculation",
        "operationId": "get_note_score_jsonapi_api_v2_scoring_notes__note_id__score_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Note Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteScoreSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scoring/notes/batch-scores": {
      "post": {
        "tags": [
          "scoring-jsonapi"
        ],
        "summary": "Get Batch Scores Jsonapi",
        "description": "Get scores for multiple notes in JSON:API format.\n\nJSON:API request body must contain:\n- data.type: \"batch-score-requests\"\n- data.attributes.note_ids: list of note UUIDs\n\nUsers can only get scores for notes in communities they are members of.\nNotes from other communities will be treated as \"not found\" in the response.\nService accounts can access all notes.\n\nReturns a list of note score resources with meta information about\ntotal requested vs found counts.",
        "operationId": "get_batch_scores_jsonapi_api_v2_scoring_notes_batch_scores_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchScoreRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteScoreListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scoring/notes/top": {
      "get": {
        "tags": [
          "scoring-jsonapi"
        ],
        "summary": "Get Top Notes Jsonapi",
        "description": "Get top-scored notes in JSON:API format.\n\nUsers can only see notes from communities they are members of.\nService accounts can see all notes.\n\nReturns the highest-scored notes with:\n- Score and confidence metadata\n- Tier information\n- Rating counts\n- Optional filtering by confidence level and tier\n\nQuery Parameters:\n- limit: Number of results (1-100, default 10)\n- min_confidence: Filter by confidence level (no_data, provisional, standard)\n- tier: Filter by scoring tier (0-5)\n- batch_size: Processing batch size (100-5000, default 1000)\n- community_server_id: Filter by community server UUID",
        "operationId": "get_top_notes_jsonapi_api_v2_scoring_notes_top_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum number of notes to return",
              "default": 10,
              "title": "Limit"
            },
            "description": "Maximum number of notes to return"
          },
          {
            "name": "min_confidence",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/ScoreConfidence"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Minimum confidence level filter",
              "title": "Min Confidence"
            },
            "description": "Minimum confidence level filter"
          },
          {
            "name": "tier",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 5,
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by scoring tier",
              "title": "Tier"
            },
            "description": "Filter by scoring tier"
          },
          {
            "name": "batch_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 5000,
              "minimum": 100,
              "description": "Batch size for processing",
              "default": 1000,
              "title": "Batch Size"
            },
            "description": "Batch size for processing"
          },
          {
            "name": "community_server_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by community server",
              "title": "Community Server Id"
            },
            "description": "Filter by community server"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteScoreListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scoring/score": {
      "post": {
        "tags": [
          "scoring-jsonapi"
        ],
        "summary": "Score Notes Jsonapi",
        "description": "Score notes using the external scoring adapter in JSON:API format.\n\nThis endpoint runs the Community Notes scoring algorithm on the provided\nnotes, ratings, and enrollment data.\n\nJSON:API request body must contain:\n- data.type: \"scoring-requests\"\n- data.attributes.notes: List of notes to score\n- data.attributes.ratings: List of ratings for the notes\n- data.attributes.enrollment: List of user enrollment data\n- data.attributes.status: Optional note status history\n\nReturns JSON:API formatted response with scored_notes, helpful_scores,\nand auxiliary_info.",
        "operationId": "score_notes_jsonapi_api_v2_scoring_score_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScoringRunRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScoringResultResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scoring/health": {
      "get": {
        "tags": [
          "scoring-jsonapi"
        ],
        "summary": "Scoring Health Jsonapi",
        "description": "Health check for the scoring service.\n\nReturns a simple health status for the scoring service.\nThis endpoint does not require authentication.",
        "operationId": "scoring_health_jsonapi_api_v2_scoring_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Scoring Health Jsonapi Api V2 Scoring Health Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/monitored-channels": {
      "get": {
        "tags": [
          "monitored-channels-jsonapi"
        ],
        "summary": "List Monitored Channels Jsonapi",
        "description": "List monitored channels with JSON:API format.\n\nSupports filtering and pagination per JSON:API specification.\n\nQuery Parameters:\n- page[number]: Page number (default: 1)\n- page[size]: Page size (default: 20, max: 100)\n\nFilter Parameters:\n- filter[community_server_id]: Filter by community server platform ID (required)\n- filter[enabled]: Filter by enabled status\n\nReturns JSON:API formatted response with data, jsonapi, links, and meta.",
        "operationId": "list_monitored_channels_jsonapi_api_v2_monitored_channels_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page[number]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page[Number]"
            }
          },
          {
            "name": "page[size]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page[Size]"
            }
          },
          {
            "name": "filter[community_server_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Community Server Id]"
            }
          },
          {
            "name": "filter[enabled]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Enabled]"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MonitoredChannelListJSONAPIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "monitored-channels-jsonapi"
        ],
        "summary": "Create Monitored Channel Jsonapi",
        "description": "Create a new monitored channel with JSON:API format.\n\nJSON:API 1.1 requires:\n- Request body with 'data' object containing 'type' and 'attributes'\n- Response with 201 Created status\n- Response body with 'data' object containing created resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "create_monitored_channel_jsonapi_api_v2_monitored_channels_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MonitoredChannelCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MonitoredChannelSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/monitored-channels/{channel_uuid}": {
      "get": {
        "tags": [
          "monitored-channels-jsonapi"
        ],
        "summary": "Get Monitored Channel Jsonapi",
        "description": "Get a single monitored channel by ID with JSON:API format.\n\nReturns JSON:API formatted response with data and jsonapi keys.\nReturns JSON:API error format for 404 and other errors.",
        "operationId": "get_monitored_channel_jsonapi_api_v2_monitored_channels__channel_uuid__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "channel_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Channel Uuid"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MonitoredChannelSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "monitored-channels-jsonapi"
        ],
        "summary": "Update Monitored Channel Jsonapi",
        "description": "Update a monitored channel with JSON:API format.\n\nJSON:API 1.1 requires:\n- Request body with 'data' object containing 'type', 'id', and 'attributes'\n- The 'id' in the body must match the URL parameter\n- Response with 200 OK status\n- Response body with 'data' object containing updated resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "update_monitored_channel_jsonapi_api_v2_monitored_channels__channel_uuid__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "channel_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Channel Uuid"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MonitoredChannelUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MonitoredChannelSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "monitored-channels-jsonapi"
        ],
        "summary": "Delete Monitored Channel Jsonapi",
        "description": "Delete a monitored channel with JSON:API format.\n\nJSON:API 1.1 requires:\n- Response with 204 No Content status on success\n- No response body on success\n- JSON:API error format for errors\n\nReturns 204 No Content on success, JSON:API error on failure.",
        "operationId": "delete_monitored_channel_jsonapi_api_v2_monitored_channels__channel_uuid__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "channel_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Channel Uuid"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/note-publisher-configs": {
      "get": {
        "tags": [
          "note-publisher-jsonapi"
        ],
        "summary": "List Note Publisher Configs Jsonapi",
        "description": "List note publisher configs with JSON:API format.\n\nSupports filtering and pagination per JSON:API specification.\n\nQuery Parameters:\n- page[number]: Page number (default: 1)\n- page[size]: Page size (default: 20, max: 100)\n\nFilter Parameters:\n- filter[community_server_id]: Filter by community server platform ID (required)\n- filter[enabled]: Filter by enabled status\n\nReturns JSON:API formatted response with data, jsonapi, links, and meta.",
        "operationId": "list_note_publisher_configs_jsonapi_api_v2_note_publisher_configs_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page[number]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page[Number]"
            }
          },
          {
            "name": "page[size]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page[Size]"
            }
          },
          {
            "name": "filter[community_server_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Community Server Id]"
            }
          },
          {
            "name": "filter[enabled]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Enabled]"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotePublisherConfigListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "note-publisher-jsonapi"
        ],
        "summary": "Create Note Publisher Config Jsonapi",
        "description": "Create a new note publisher config with JSON:API format.\n\nJSON:API 1.1 requires:\n- Request body with 'data' object containing 'type' and 'attributes'\n- Response with 201 Created status\n- Response body with 'data' object containing created resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "create_note_publisher_config_jsonapi_api_v2_note_publisher_configs_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotePublisherConfigCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotePublisherConfigSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/note-publisher-configs/{config_uuid}": {
      "get": {
        "tags": [
          "note-publisher-jsonapi"
        ],
        "summary": "Get Note Publisher Config Jsonapi",
        "description": "Get a single note publisher config by ID with JSON:API format.\n\nReturns JSON:API formatted response with data and jsonapi keys.\nReturns JSON:API error format for 404 and other errors.",
        "operationId": "get_note_publisher_config_jsonapi_api_v2_note_publisher_configs__config_uuid__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "config_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Config Uuid"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotePublisherConfigSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "note-publisher-jsonapi"
        ],
        "summary": "Update Note Publisher Config Jsonapi",
        "description": "Update a note publisher config with JSON:API format.\n\nJSON:API 1.1 requires:\n- Request body with 'data' object containing 'type', 'id', and 'attributes'\n- The 'id' in the body must match the URL parameter\n- Response with 200 OK status\n- Response body with 'data' object containing updated resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "update_note_publisher_config_jsonapi_api_v2_note_publisher_configs__config_uuid__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "config_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Config Uuid"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotePublisherConfigUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotePublisherConfigSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "note-publisher-jsonapi"
        ],
        "summary": "Delete Note Publisher Config Jsonapi",
        "description": "Delete a note publisher config with JSON:API format.\n\nJSON:API 1.1 requires:\n- Response with 204 No Content status on success\n- No response body on success\n- JSON:API error format for errors\n\nReturns 204 No Content on success, JSON:API error on failure.",
        "operationId": "delete_note_publisher_config_jsonapi_api_v2_note_publisher_configs__config_uuid__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "config_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Config Uuid"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/note-publisher-posts": {
      "get": {
        "tags": [
          "note-publisher-jsonapi"
        ],
        "summary": "List Note Publisher Posts Jsonapi",
        "description": "List note publisher posts with JSON:API format.\n\nSupports filtering and pagination per JSON:API specification.\n\nQuery Parameters:\n- page[number]: Page number (default: 1)\n- page[size]: Page size (default: 20, max: 100)\n\nFilter Parameters:\n- filter[community_server_id]: Filter by community server platform ID (required)\n- filter[channel_id]: Filter by Discord channel ID\n- filter[success]: Filter by success status\n\nReturns JSON:API formatted response with data, jsonapi, links, and meta.",
        "operationId": "list_note_publisher_posts_jsonapi_api_v2_note_publisher_posts_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page[number]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page[Number]"
            }
          },
          {
            "name": "page[size]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page[Size]"
            }
          },
          {
            "name": "filter[community_server_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Community Server Id]"
            }
          },
          {
            "name": "filter[channel_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Channel Id]"
            }
          },
          {
            "name": "filter[success]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Success]"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotePublisherPostListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "note-publisher-jsonapi"
        ],
        "summary": "Create Note Publisher Post Jsonapi",
        "description": "Create a new note publisher post record with JSON:API format.\n\nJSON:API 1.1 requires:\n- Request body with 'data' object containing 'type' and 'attributes'\n- Response with 201 Created status\n- Response body with 'data' object containing created resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "create_note_publisher_post_jsonapi_api_v2_note_publisher_posts_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotePublisherPostCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotePublisherPostSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/note-publisher-posts/{post_uuid}": {
      "get": {
        "tags": [
          "note-publisher-jsonapi"
        ],
        "summary": "Get Note Publisher Post Jsonapi",
        "description": "Get a single note publisher post by ID with JSON:API format.\n\nReturns JSON:API formatted response with data and jsonapi keys.\nReturns JSON:API error format for 404 and other errors.",
        "operationId": "get_note_publisher_post_jsonapi_api_v2_note_publisher_posts__post_uuid__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Post Uuid"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotePublisherPostSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/previously-seen-messages": {
      "get": {
        "tags": [
          "previously-seen-jsonapi"
        ],
        "summary": "List Previously Seen Messages Jsonapi",
        "description": "List previously seen messages with JSON:API format.\n\nSupports filtering and pagination per JSON:API specification.\n\nQuery Parameters:\n- page[number]: Page number (default: 1)\n- page[size]: Page size (default: 20, max: 100)\n\nFilter Parameters:\n- filter[community_server_id]: Filter by community server UUID (required)\n\nReturns JSON:API formatted response with data, jsonapi, links, and meta.",
        "operationId": "list_previously_seen_messages_jsonapi_api_v2_previously_seen_messages_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page[number]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page[Number]"
            }
          },
          {
            "name": "page[size]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page[Size]"
            }
          },
          {
            "name": "filter[community_server_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Community Server Id]"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PreviouslySeenMessageListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "previously-seen-jsonapi"
        ],
        "summary": "Create Previously Seen Message Jsonapi",
        "description": "Create a new previously seen message with JSON:API format.\n\nJSON:API 1.1 requires:\n- Request body with 'data' object containing 'type' and 'attributes'\n- Response with 201 Created status\n- Response body with 'data' object containing created resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "create_previously_seen_message_jsonapi_api_v2_previously_seen_messages_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PreviouslySeenMessageCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PreviouslySeenMessageSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/previously-seen-messages/{message_uuid}": {
      "get": {
        "tags": [
          "previously-seen-jsonapi"
        ],
        "summary": "Get Previously Seen Message Jsonapi",
        "description": "Get a single previously seen message by ID with JSON:API format.\n\nReturns JSON:API formatted response with data and jsonapi keys.\nReturns JSON:API error format for 404 and other errors.",
        "operationId": "get_previously_seen_message_jsonapi_api_v2_previously_seen_messages__message_uuid__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "message_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Message Uuid"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PreviouslySeenMessageSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/previously-seen-messages/check": {
      "post": {
        "tags": [
          "previously-seen-jsonapi"
        ],
        "summary": "Check Previously Seen Jsonapi",
        "description": "Check if a message has been seen before with JSON:API format.\n\nThis endpoint:\n1. Generates an embedding for the message text\n2. Searches for similar previously seen messages\n3. Resolves thresholds (channel override or global config)\n4. Returns action recommendations (auto-publish/auto-request)\n\nJSON:API 1.1 action endpoint that returns check results.",
        "operationId": "check_previously_seen_jsonapi_api_v2_previously_seen_messages_check_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PreviouslySeenCheckRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PreviouslySeenCheckResultResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/similarity-searches": {
      "post": {
        "tags": [
          "embeddings-jsonapi"
        ],
        "summary": "Similarity Search Jsonapi",
        "description": "Perform semantic similarity search on fact-check items.\n\nThis endpoint:\n1. Verifies user is authorized member of community server\n2. Validates community server has OpenAI configuration\n3. Generates embedding using text-embedding-3-small (1536 dimensions)\n4. Queries fact_check_items table with pgvector cosine similarity\n5. Filters by dataset_tags (e.g., 'snopes', 'politifact')\n6. Returns top matches above similarity threshold\n\nJSON:API 1.1 action endpoint that returns search results.\n\nRate Limiting:\n- Per-user rate limit: 100 requests/hour\n- Per-community rate limits: Based on configured LLM usage limits\n- OpenAI API rate limits: Automatic detection with retry guidance",
        "operationId": "similarity_search_jsonapi_api_v2_similarity_searches_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SimilaritySearchJSONAPIRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SimilaritySearchResultResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/hybrid-searches": {
      "post": {
        "tags": [
          "hybrid-searches-jsonapi"
        ],
        "summary": "Hybrid Search Jsonapi",
        "description": "Perform hybrid search on fact-check items combining FTS and semantic similarity.\n\nThis endpoint:\n1. Verifies user is authorized member of community server\n2. Validates community server has OpenAI configuration\n3. Generates embedding using text-embedding-3-small (1536 dimensions)\n4. Executes hybrid search combining:\n   - PostgreSQL full-text search (ts_rank_cd with weighted tsvector)\n   - pgvector embedding similarity (cosine distance)\n5. Uses Convex Combination (CC) to fuse semantic and keyword scores\n6. Returns top matches ranked by combined CC score\n\nThe CC formula: score = alpha * semantic_similarity + (1-alpha) * keyword_norm\nwhere alpha=0.7 by default (semantic-weighted).\n\nJSON:API 1.1 action endpoint that returns search results.\n\nRate Limiting:\n- Per-user rate limit: 100 requests/hour\n- Per-community rate limits: Based on configured LLM usage limits\n- OpenAI API rate limits: Automatic detection with retry guidance",
        "operationId": "hybrid_search_jsonapi_api_v2_hybrid_searches_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HybridSearchRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HybridSearchResultResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/bulk-scans": {
      "post": {
        "tags": [
          "bulk-scans-jsonapi"
        ],
        "summary": "Initiate Scan",
        "description": "Initiate a new bulk content scan.\n\nJSON:API request body must contain:\n- data.type: \"bulk-scans\"\n- data.attributes.community_server_id: UUID of community to scan\n- data.attributes.scan_window_days: Number of days to scan back (1-30)\n- data.attributes.channel_ids: Optional list of specific channel IDs\n\nAuthorization: Requires admin access to the target community.\nService accounts have unrestricted access.\n\nReturns a bulk-scans resource with scan_id and initial status.",
        "operationId": "initiate_scan_api_v2_bulk_scans_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkScanCreateJSONAPIRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkScanSingleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/bulk-scans/{scan_id}": {
      "get": {
        "tags": [
          "bulk-scans-jsonapi"
        ],
        "summary": "Get Scan Results",
        "description": "Get scan status and flagged results.\n\nAuthorization: Requires admin access to the community that was scanned.\nService accounts have unrestricted access.\n\nReturns the bulk scan resource with flagged messages included as related resources.\nUses JSON:API compound documents with 'included' array.",
        "operationId": "get_scan_results_api_v2_bulk_scans__scan_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "scan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Scan Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkScanResultsJSONAPIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/bulk-scans/communities/{community_server_id}/recent": {
      "get": {
        "tags": [
          "bulk-scans-jsonapi"
        ],
        "summary": "Check Recent Scan",
        "description": "Check if community has a recent scan within the configured window.\n\nAuthorization: Requires admin access to the specified community.\nService accounts have unrestricted access.\n\nReturns a bulk-scan-status singleton resource with has_recent_scan boolean.",
        "operationId": "check_recent_scan_api_v2_bulk_scans_communities__community_server_id__recent_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecentScanResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/bulk-scans/communities/{community_server_id}/latest": {
      "get": {
        "tags": [
          "bulk-scans-jsonapi"
        ],
        "summary": "Get Latest Scan",
        "description": "Get the most recent scan for a community server.\n\nReturns the latest bulk content scan with full details including:\n- Scan status (pending, in_progress, completed, failed)\n- Message counts (scanned and flagged)\n- Timestamps (initiated_at, completed_at)\n- Flagged messages with match details (if scan is completed)\n\nAuthorization: Requires admin access to the specified community.\nService accounts have unrestricted access.",
        "operationId": "get_latest_scan_api_v2_bulk_scans_communities__community_server_id__latest_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LatestScanJSONAPIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/bulk-scans/{scan_id}/note-requests": {
      "post": {
        "tags": [
          "bulk-scans-jsonapi"
        ],
        "summary": "Create Note Requests",
        "description": "Create note requests for selected flagged messages.\n\nJSON:API request body must contain:\n- data.type: \"note-requests\"\n- data.attributes.message_ids: List of message IDs from flagged results\n- data.attributes.generate_ai_notes: Whether to generate AI drafts\n\nAuthorization: User must be the scan initiator OR a community admin.\nService accounts have unrestricted access.\n\nReturns a note-request-batches resource with created count and IDs.",
        "operationId": "create_note_requests_api_v2_bulk_scans__scan_id__note_requests_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "scan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Scan Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NoteRequestsCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteRequestsResultResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/bulk-scans/explanations": {
      "post": {
        "tags": [
          "bulk-scans-jsonapi"
        ],
        "summary": "Generate Explanation",
        "description": "Generate an AI explanation for why a message was flagged.\n\nJSON:API request body must contain:\n- data.type: \"scan-explanations\"\n- data.attributes.original_message: The flagged message content\n- data.attributes.fact_check_item_id: UUID of the matched fact-check item\n- data.attributes.community_server_id: Community server UUID for context\n\nAuthorization: Requires admin access to the specified community.\nService accounts have unrestricted access.\n\nReturns a scan-explanations resource with the generated explanation.",
        "operationId": "generate_explanation_api_v2_bulk_scans_explanations_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExplanationCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExplanationResultResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/webhooks/register": {
      "post": {
        "tags": [
          "webhooks"
        ],
        "summary": "Register Webhook",
        "operationId": "register_webhook_api_v1_webhooks_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebhookCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookConfigSecure"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/webhooks/{platform_community_server_id}": {
      "get": {
        "tags": [
          "webhooks"
        ],
        "summary": "Get Webhooks By Community Server",
        "operationId": "get_webhooks_by_community_server_api_v1_webhooks__platform_community_server_id__get",
        "parameters": [
          {
            "name": "platform_community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Platform Community Server Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WebhookConfigResponse"
                  },
                  "title": "Response Get Webhooks By Community Server Api V1 Webhooks  Platform Community Server Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/webhooks/{webhook_id}": {
      "put": {
        "tags": [
          "webhooks"
        ],
        "summary": "Update Webhook",
        "operationId": "update_webhook_api_v1_webhooks__webhook_id__put",
        "parameters": [
          {
            "name": "webhook_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Webhook Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebhookUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "webhooks"
        ],
        "summary": "Delete Webhook",
        "operationId": "delete_webhook_api_v1_webhooks__webhook_id__delete",
        "parameters": [
          {
            "name": "webhook_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Webhook Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Delete Webhook Api V1 Webhooks  Webhook Id  Delete"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/webhooks/stats/{platform_community_server_id}": {
      "get": {
        "tags": [
          "webhooks"
        ],
        "summary": "Get Community Server Stats",
        "operationId": "get_community_server_stats_api_v1_webhooks_stats__platform_community_server_id__get",
        "parameters": [
          {
            "name": "platform_community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Platform Community Server Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Community Server Stats Api V1 Webhooks Stats  Platform Community Server Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/config/rating-thresholds": {
      "get": {
        "tags": [
          "config"
        ],
        "summary": "Get Rating Thresholds",
        "description": "Get rating threshold configuration values.\n\nThese values define the minimum number of ratings and unique raters required\nbefore a note can receive CURRENTLY_RATED_HELPFUL or CURRENTLY_RATED_NOT_HELPFUL status.\n\nThe thresholds should match the Community Notes scoring algorithm defaults.",
        "operationId": "get_rating_thresholds_api_v1_config_rating_thresholds_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RatingThresholdsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/community-config/{community_server_id}": {
      "get": {
        "tags": [
          "community-config"
        ],
        "summary": "Get Community Config",
        "description": "Get all configuration settings for a specific community server.\n\nAccepts a platform-specific community ID (e.g., Discord guild ID) and looks up\nthe corresponding community server.\n\nReturns a dictionary of config_key: config_value pairs for the community server.\nIf no configuration exists, returns an empty dictionary.\n\nRequires: User must be a member of the community server.\nService accounts can view all configs.",
        "operationId": "get_community_config_api_v1_community_config__community_server_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "community-config"
        ],
        "summary": "Set Community Config",
        "description": "Set or update a configuration value for a specific community server.\n\nAccepts a platform-specific community ID (e.g., Discord guild ID) and looks up\nthe corresponding community server. If the key already exists, it will be updated.\nOtherwise, a new entry is created. The updated_by field tracks who made the change\nfor audit purposes.\n\nRequires: User must be an admin or moderator of the community server.",
        "operationId": "set_community_config_api_v1_community_config__community_server_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetConfigRequest"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "community-config"
        ],
        "summary": "Reset Community Config",
        "description": "Reset community server configuration to defaults.\n\nAccepts a platform-specific community ID (e.g., Discord guild ID) and looks up\nthe corresponding community server. If config_key is provided, only that specific\nkey is deleted. If config_key is None, all configuration for the community server\nis deleted.\n\nRequires: User must be an admin or moderator of the community server.",
        "operationId": "reset_community_config_api_v1_community_config__community_server_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Community Server Id"
            }
          },
          {
            "name": "config_key",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Specific config key to reset (leave empty to reset all)",
              "title": "Config Key"
            },
            "description": "Specific config key to reset (leave empty to reset all)"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/community-servers/lookup": {
      "get": {
        "tags": [
          "community-servers"
        ],
        "summary": "Lookup Community Server",
        "description": "Look up a community server by platform and platform ID.\n\nReturns the internal UUID for a community server based on its platform-specific identifier.\nAuto-creates the community server if it doesn't exist (for service accounts/bots).\n\nArgs:\n    platform: Platform type (default: \"discord\")\n    platform_community_server_id: Platform-specific ID (e.g., Discord guild ID)\n\nReturns:\n    Community server details including internal UUID\n\nRaises:\n    404: If community server not found and user is not a service account",
        "operationId": "lookup_community_server_api_v1_community_servers_lookup_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Platform type",
              "default": "discord",
              "title": "Platform"
            },
            "description": "Platform type"
          },
          {
            "name": "platform_community_server_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Platform-specific ID (e.g., Discord guild ID)",
              "title": "Platform Community Server Id"
            },
            "description": "Platform-specific ID (e.g., Discord guild ID)"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityServerLookupResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/community-servers/{platform_community_server_id}/welcome-message": {
      "patch": {
        "tags": [
          "community-servers"
        ],
        "summary": "Update Welcome Message",
        "description": "Update the welcome message ID for a community server.\n\nThis endpoint is typically called by the Discord bot after posting and pinning\na welcome message in the bot channel. Only service accounts (bots) can call this.\n\nArgs:\n    platform_community_server_id: Platform-specific ID (e.g., Discord guild ID)\n    request_body: Contains the welcome_message_id to set (or null to clear)\n\nReturns:\n    Updated community server welcome message info\n\nRaises:\n    401: If not authenticated\n    403: If not a service account\n    404: If community server not found",
        "operationId": "update_welcome_message_api_v1_community_servers__platform_community_server_id__welcome_message_patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform_community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Platform Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WelcomeMessageUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WelcomeMessageUpdateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/community-servers/{platform_community_server_id}/flashpoint-detection": {
      "patch": {
        "tags": [
          "community-servers"
        ],
        "summary": "Update Flashpoint Detection",
        "description": "Update flashpoint detection setting for a community server.\n\nThis endpoint allows toggling the flashpoint detection feature that monitors\nconversations for potential misinformation escalation points.\n\nArgs:\n    platform_community_server_id: Platform-specific ID (e.g., Discord guild ID)\n    request_body: Contains the enabled flag\n    platform: Platform type (default: \"discord\")\n\nReturns:\n    Updated flashpoint detection status\n\nRaises:\n    401: If not authenticated\n    403: If not authorized (requires service account)\n    404: If community server not found",
        "operationId": "update_flashpoint_detection_api_v1_community_servers__platform_community_server_id__flashpoint_detection_patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform_community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Platform Community Server Id"
            }
          },
          {
            "name": "platform",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Platform type",
              "default": "discord",
              "title": "Platform"
            },
            "description": "Platform type"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FlashpointDetectionUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FlashpointDetectionUpdateResponse"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated"
          },
          "403": {
            "description": "Not authorized \u2014 requires service account"
          },
          "404": {
            "description": "Community server not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/community-servers/{community_server_id}/admins": {
      "post": {
        "tags": [
          "community-admin"
        ],
        "summary": "Add Community Admin",
        "description": "Add a user as admin for a specific community server.\n\nSets CommunityMember.role = 'admin' for the specified user. Requires the requester\nto have existing admin privileges (service account, Open Notes admin, community admin,\nor Discord Manage Server permission).\n\nArgs:\n    community_server_id: Discord guild ID\n    request_body: Request containing user_discord_id\n    db: Database session\n    current_user: Current authenticated user\n    http_request: FastAPI Request object\n\nReturns:\n    CommunityAdminResponse: Updated community member information\n\nRaises:\n    HTTPException 404: Community server or user not found\n    HTTPException 403: Not authorized (not an admin)\n    HTTPException 400: Invalid input",
        "operationId": "add_community_admin_api_v1_community_servers__community_server_id__admins_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddCommunityAdminRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityAdminResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "community-admin"
        ],
        "summary": "List Community Admins",
        "description": "List all admins for a specific community server.\n\nReturns admins with their sources of admin privileges:\n- Open Notes platform admin (is_opennotes_admin=True)\n- Community admin (role='admin')\n- Discord Manage Server permission (checked by Discord bot)\n\nArgs:\n    community_server_id: Discord guild ID\n    db: Database session\n    current_user: Current authenticated user\n    http_request: FastAPI Request object\n\nReturns:\n    List of CommunityAdminResponse with admin information\n\nRaises:\n    HTTPException 404: Community server not found\n    HTTPException 403: Not authorized",
        "operationId": "list_community_admins_api_v1_community_servers__community_server_id__admins_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CommunityAdminResponse"
                  },
                  "title": "Response List Community Admins Api V1 Community Servers  Community Server Id  Admins Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/community-servers/{community_server_id}/admins/{user_discord_id}": {
      "delete": {
        "tags": [
          "community-admin"
        ],
        "summary": "Remove Community Admin",
        "description": "Remove admin status from a user in a specific community server.\n\nSets CommunityMember.role = 'member'. Prevents removing the last admin to ensure\nthe community always has at least one admin.\n\nArgs:\n    community_server_id: Discord guild ID\n    user_discord_id: Discord ID of user to demote\n    db: Database session\n    current_user: Current authenticated user\n    http_request: FastAPI Request object\n\nReturns:\n    RemoveCommunityAdminResponse: Operation result\n\nRaises:\n    HTTPException 404: Community server or user not found\n    HTTPException 403: Not authorized (not an admin)\n    HTTPException 409: Cannot remove last admin",
        "operationId": "remove_community_admin_api_v1_community_servers__community_server_id__admins__user_discord_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Community Server Id"
            }
          },
          {
            "name": "user_discord_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Discord Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RemoveCommunityAdminResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/community-servers/{community_server_id}/clear-requests": {
      "delete": {
        "tags": [
          "community-clear"
        ],
        "summary": "Clear Requests",
        "description": "Clear note requests for a community server.\n\nDeletes requests based on the mode:\n- \"all\": Delete all requests\n- \"<days>\": Delete requests older than specified days\n\nRequires admin privileges for the community server.\n\nArgs:\n    community_server_id: Community server UUID\n    mode: Either \"all\" or number of days\n    db: Database session\n    current_user: Current authenticated user\n    http_request: FastAPI Request object\n    membership: Verified admin membership\n\nReturns:\n    ClearResponse with deleted count and message",
        "operationId": "clear_requests_api_v2_community_servers__community_server_id__clear_requests_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "mode",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "'all' or number of days (e.g., '30')",
              "title": "Mode"
            },
            "description": "'all' or number of days (e.g., '30')"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClearResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/community-servers/{community_server_id}/clear-requests/preview": {
      "get": {
        "tags": [
          "community-clear"
        ],
        "summary": "Preview Clear Requests",
        "description": "Preview clear requests operation (dry run).\n\nReturns the count of requests that would be deleted without actually deleting them.\n\nArgs:\n    community_server_id: Community server UUID\n    mode: Either \"all\" or number of days\n    db: Database session\n    current_user: Current authenticated user\n    http_request: FastAPI Request object\n    membership: Verified admin membership\n\nReturns:\n    ClearPreviewResponse with count of items that would be deleted",
        "operationId": "preview_clear_requests_api_v2_community_servers__community_server_id__clear_requests_preview_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "mode",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "'all' or number of days (e.g., '30')",
              "title": "Mode"
            },
            "description": "'all' or number of days (e.g., '30')"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClearPreviewResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/community-servers/{community_server_id}/clear-notes": {
      "delete": {
        "tags": [
          "community-clear"
        ],
        "summary": "Clear Notes",
        "description": "Clear unpublished notes for a community server.\n\nOnly deletes notes that are:\n- Status is \"NEEDS_MORE_RATINGS\" (unpublished)\n- NOT force-published (force_published=False)\n\nPublished notes (CURRENTLY_RATED_HELPFUL, CURRENTLY_RATED_NOT_HELPFUL)\nand force-published notes are preserved.\n\nDeletes based on the mode:\n- \"all\": Delete all unpublished notes\n- \"<days>\": Delete unpublished notes older than specified days\n\nRequires admin privileges for the community server.\n\nArgs:\n    community_server_id: Community server UUID\n    mode: Either \"all\" or number of days\n    db: Database session\n    current_user: Current authenticated user\n    http_request: FastAPI Request object\n    membership: Verified admin membership\n\nReturns:\n    ClearResponse with deleted count and message",
        "operationId": "clear_notes_api_v2_community_servers__community_server_id__clear_notes_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "mode",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "'all' or number of days (e.g., '30')",
              "title": "Mode"
            },
            "description": "'all' or number of days (e.g., '30')"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClearResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/community-servers/{community_server_id}/clear-notes/preview": {
      "get": {
        "tags": [
          "community-clear"
        ],
        "summary": "Preview Clear Notes",
        "description": "Preview clear notes operation (dry run).\n\nReturns the count of unpublished notes that would be deleted without\nactually deleting them.\n\nArgs:\n    community_server_id: Community server UUID\n    mode: Either \"all\" or number of days\n    db: Database session\n    current_user: Current authenticated user\n    http_request: FastAPI Request object\n    membership: Verified admin membership\n\nReturns:\n    ClearPreviewResponse with count of items that would be deleted",
        "operationId": "preview_clear_notes_api_v2_community_servers__community_server_id__clear_notes_preview_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "mode",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "'all' or number of days (e.g., '30')",
              "title": "Mode"
            },
            "description": "'all' or number of days (e.g., '30')"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClearPreviewResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/community-servers/{community_server_id}/llm-config": {
      "post": {
        "tags": [
          "llm-config"
        ],
        "summary": "Create Llm Config",
        "description": "Create a new LLM configuration for a community server.\n\nRequires admin or moderator access to the community server.",
        "operationId": "create_llm_config_api_v1_community_servers__community_server_id__llm_config_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LLMConfigCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LLMConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "llm-config"
        ],
        "summary": "List Llm Configs",
        "description": "List all LLM configurations for a community server.\n\nRequires admin or moderator access to the community server.",
        "operationId": "list_llm_configs_api_v1_community_servers__community_server_id__llm_config_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LLMConfigResponse"
                  },
                  "title": "Response List Llm Configs Api V1 Community Servers  Community Server Id  Llm Config Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/community-servers/{community_server_id}/llm-config/{provider}": {
      "get": {
        "tags": [
          "llm-config"
        ],
        "summary": "Get Llm Config",
        "description": "Get a specific LLM configuration.\n\nRequires admin or moderator access to the community server.",
        "operationId": "get_llm_config_api_v1_community_servers__community_server_id__llm_config__provider__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LLMConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "llm-config"
        ],
        "summary": "Update Llm Config",
        "description": "Update an existing LLM configuration.\n\nRequires admin or moderator access to the community server.",
        "operationId": "update_llm_config_api_v1_community_servers__community_server_id__llm_config__provider__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LLMConfigUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LLMConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "llm-config"
        ],
        "summary": "Delete Llm Config",
        "description": "Delete an LLM configuration.\n\nRequires admin or moderator access to the community server.",
        "operationId": "delete_llm_config_api_v1_community_servers__community_server_id__llm_config__provider__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/community-servers/{community_server_id}/llm-config/test": {
      "post": {
        "tags": [
          "llm-config"
        ],
        "summary": "Test Llm Config",
        "description": "Test an LLM configuration without saving it.\n\nValidates the API key and checks connectivity.\nRequires admin or moderator access to the community server.",
        "operationId": "test_llm_config_api_v1_community_servers__community_server_id__llm_config_test_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LLMConfigTestRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LLMConfigTestResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/community-servers/{community_server_id}/llm-config/{provider}/usage": {
      "get": {
        "tags": [
          "llm-config"
        ],
        "summary": "Get Usage Stats",
        "description": "Get usage statistics for an LLM configuration.\n\nRequires admin or moderator access to the community server.",
        "operationId": "get_usage_stats_api_v1_community_servers__community_server_id__llm_config__provider__usage_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LLMUsageStatsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/chunks/jobs/{job_id}": {
      "get": {
        "tags": [
          "chunks"
        ],
        "summary": "Get rechunk job status",
        "description": "Retrieve the current status and progress of a rechunk batch job. If the job is associated with a community server, requires admin or moderator access. If the job was started without a community server (global credentials), only requires authentication.",
        "operationId": "get_rechunk_job_status_api_v1_chunks_jobs__job_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Job Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchJobResponse"
                }
              }
            }
          },
          "403": {
            "description": "User lacks admin/moderator permission for the job's community"
          },
          "404": {
            "description": "Job not found or not a rechunk job"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "chunks"
        ],
        "summary": "Cancel a rechunk job",
        "description": "Cancel a rechunk job and release its lock. Jobs in terminal states (completed, failed, cancelled) cannot be cancelled. Requires admin/moderator permission for the job's community, or OpenNotes admin for global jobs.",
        "operationId": "cancel_rechunk_job_api_v1_chunks_jobs__job_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Job Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "403": {
            "description": "User lacks permission for the job's community or is not an OpenNotes admin"
          },
          "404": {
            "description": "Job not found or not a rechunk job"
          },
          "409": {
            "description": "Job is in terminal state and cannot be cancelled"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/chunks/fact-check/rechunk": {
      "post": {
        "tags": [
          "chunks"
        ],
        "summary": "Re-chunk and re-embed fact check items",
        "description": "Initiates a background task to re-chunk and re-embed all fact check items. Useful for updating embeddings after model changes or migration to chunk-based embeddings. When community_server_id is provided, requires admin or moderator access. When not provided, uses global LLM credentials and only requires authentication. Rate limited to 1 request per minute. Returns 429 if operation already in progress.",
        "operationId": "rechunk_fact_check_items_api_v1_chunks_fact_check_rechunk_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Community server ID for LLM credentials (optional, uses global fallback if not provided)",
              "title": "Community Server Id"
            },
            "description": "Community server ID for LLM credentials (optional, uses global fallback if not provided)"
          },
          {
            "name": "batch_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Number of items to process in each batch (1-1000)",
              "default": 100,
              "title": "Batch Size"
            },
            "description": "Number of items to process in each batch (1-1000)"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchJobResponse"
                }
              }
            }
          },
          "403": {
            "description": "User lacks admin/moderator permission for the community"
          },
          "429": {
            "description": "A rechunk operation is already in progress"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/chunks/previously-seen/rechunk": {
      "post": {
        "tags": [
          "chunks"
        ],
        "summary": "Re-chunk and re-embed previously seen messages",
        "description": "Initiates a background task to re-chunk and re-embed previously seen messages for the specified community. Useful for updating embeddings after model changes or migration to chunk-based embeddings. Requires admin or moderator access to the community server. Rate limited to 1 request per minute. Returns 429 if operation already in progress for this community.",
        "operationId": "rechunk_previously_seen_messages_api_v1_chunks_previously_seen_rechunk_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "Community server ID for filtering and LLM credentials",
              "title": "Community Server Id"
            },
            "description": "Community server ID for filtering and LLM credentials"
          },
          {
            "name": "batch_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Number of items to process in each batch (1-1000)",
              "default": 100,
              "title": "Batch Size"
            },
            "description": "Number of items to process in each batch (1-1000)"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchJobResponse"
                }
              }
            }
          },
          "403": {
            "description": "User lacks admin/moderator permission for the community"
          },
          "429": {
            "description": "A rechunk operation is already in progress for this community"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/chunks/jobs": {
      "get": {
        "tags": [
          "chunks"
        ],
        "summary": "List all rechunk jobs",
        "description": "List all rechunk batch jobs. Optionally filter by status. Requires authentication.",
        "operationId": "list_rechunk_jobs_api_v1_chunks_jobs_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/BatchJobStatus"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by job status (pending, in_progress, completed, failed, cancelled)",
              "title": "Status"
            },
            "description": "Filter by job status (pending, in_progress, completed, failed, cancelled)"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BatchJobResponse"
                  },
                  "title": "Response List Rechunk Jobs Api V1 Chunks Jobs Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/fact-checking/import/fact-check-bureau": {
      "post": {
        "tags": [
          "fact-checking-import"
        ],
        "summary": "Start fact-check-bureau import job",
        "description": "Start an asynchronous import of the fact-check-bureau dataset from HuggingFace. Returns immediately with a BatchJob that can be polled for status. Use GET /api/v1/batch-jobs/{job_id} to check progress.",
        "operationId": "import_fact_check_bureau_endpoint_api_v1_fact_checking_import_fact_check_bureau_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImportFactCheckBureauRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchJobResponse"
                }
              }
            }
          },
          "429": {
            "description": "An import job is already in progress (rate limited)"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/fact-checking/import/enqueue-scrapes": {
      "post": {
        "tags": [
          "fact-checking-import"
        ],
        "summary": "Enqueue scrape tasks for pending candidates",
        "description": "Enqueue scrape tasks for candidates with status=pending. This is a synchronous operation that returns the count of enqueued tasks.",
        "operationId": "enqueue_scrapes_endpoint_api_v1_fact_checking_import_enqueue_scrapes_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScrapeProcessingRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnqueueScrapeResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/fact-checking/import/scrape-candidates": {
      "post": {
        "tags": [
          "fact-checking-import"
        ],
        "summary": "Start candidate scraping batch job",
        "description": "Start an asynchronous batch job to scrape content for pending candidates. Returns immediately with a BatchJob that can be polled for status. Use GET /api/v1/batch-jobs/{job_id} to check progress.",
        "operationId": "scrape_candidates_endpoint_api_v1_fact_checking_import_scrape_candidates_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScrapeProcessingRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchJobResponse"
                }
              }
            }
          },
          "429": {
            "description": "A scrape job is already in progress (rate limited)"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/fact-checking/import/promote-candidates": {
      "post": {
        "tags": [
          "fact-checking-import"
        ],
        "summary": "Start candidate promotion batch job",
        "description": "Start an asynchronous batch job to promote scraped candidates to fact-check items. Returns immediately with a BatchJob that can be polled for status. Use GET /api/v1/batch-jobs/{job_id} to check progress.",
        "operationId": "promote_candidates_endpoint_api_v1_fact_checking_import_promote_candidates_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchProcessingRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchJobResponse"
                }
              }
            }
          },
          "429": {
            "description": "A promotion job is already in progress (rate limited)"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/fact-checking/candidates": {
      "get": {
        "tags": [
          "fact-checking-candidates"
        ],
        "summary": "List Candidates Jsonapi",
        "description": "List fact-check candidates with filtering and pagination.\n\nReturns a JSON:API formatted paginated list of candidates.\n\nQuery Parameters:\n- page[number]: Page number (default: 1)\n- page[size]: Page size (default: 20, max: 100)\n\nFilter Parameters:\n- filter[status]: Filter by candidate status (exact match)\n- filter[dataset_name]: Filter by dataset name (exact match)\n- filter[dataset_tags]: Filter by dataset tags (array overlap)\n- filter[rating]: Filter by rating - \"null\", \"not_null\", or exact value\n- filter[has_content]: Filter by whether content exists (true/false)\n- filter[published_date_from]: Filter by published_date >= datetime\n- filter[published_date_to]: Filter by published_date <= datetime",
        "operationId": "list_candidates_jsonapi_api_v1_fact_checking_candidates_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page[number]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page[Number]"
            }
          },
          {
            "name": "page[size]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page[Size]"
            }
          },
          {
            "name": "filter[status]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Status]"
            }
          },
          {
            "name": "filter[dataset_name]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Dataset Name]"
            }
          },
          {
            "name": "filter[dataset_tags]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Dataset Tags]"
            }
          },
          {
            "name": "filter[rating]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by rating: 'null', 'not_null', or exact value",
              "title": "Filter[Rating]"
            },
            "description": "Filter by rating: 'null', 'not_null', or exact value"
          },
          {
            "name": "filter[has_content]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Has Content]"
            }
          },
          {
            "name": "filter[published_date_from]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Published Date From]"
            }
          },
          {
            "name": "filter[published_date_to]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Published Date To]"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CandidateListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/fact-checking/candidates/{candidate_id}/rating": {
      "post": {
        "tags": [
          "fact-checking-candidates"
        ],
        "summary": "Set Rating Jsonapi",
        "description": "Set rating for a specific candidate.\n\nSets the human-approved rating on a candidate. Optionally triggers\npromotion if the candidate is ready (has content and rating).\n\nArgs:\n    candidate_id: UUID of the candidate to update.\n    body: JSON:API request with rating attributes.\n\nReturns:\n    JSON:API response with updated candidate resource.",
        "operationId": "set_rating_jsonapi_api_v1_fact_checking_candidates__candidate_id__rating_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "candidate_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Candidate Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetRatingRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CandidateSingleResponse"
                }
              }
            }
          },
          "404": {
            "description": "Candidate not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/fact-checking/candidates/approve-predicted": {
      "post": {
        "tags": [
          "fact-checking-candidates"
        ],
        "summary": "Start bulk approval job from predicted ratings",
        "description": "Start an asynchronous bulk approval job that processes candidates with predicted ratings above the threshold. Returns immediately with a BatchJob that can be polled for status. Use GET /api/v1/batch-jobs/{job_id} to check progress.",
        "operationId": "bulk_approve_predicted_jsonapi_api_v1_fact_checking_candidates_approve_predicted_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkApproveRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchJobResponse"
                }
              }
            }
          },
          "429": {
            "description": "A bulk approval job is already in progress (rate limited)"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/batch-jobs": {
      "post": {
        "tags": [
          "batch-jobs"
        ],
        "summary": "Create a new batch job",
        "description": "Create a new batch job entry. The job starts in PENDING status. Use this to register a job before dispatching tasks.",
        "operationId": "create_batch_job_api_v1_batch_jobs_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchJobCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchJobResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "batch-jobs"
        ],
        "summary": "List batch jobs",
        "description": "List batch jobs with optional filters for job type and status.",
        "operationId": "list_batch_jobs_api_v1_batch_jobs_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by job type",
              "title": "Job Type"
            },
            "description": "Filter by job type"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/BatchJobStatus"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by job status",
              "title": "Status"
            },
            "description": "Filter by job status"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum number of jobs to return",
              "default": 50,
              "title": "Limit"
            },
            "description": "Maximum number of jobs to return"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BatchJobResponse"
                  },
                  "title": "Response List Batch Jobs Api V1 Batch Jobs Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/batch-jobs/{job_id}": {
      "get": {
        "tags": [
          "batch-jobs"
        ],
        "summary": "Get batch job status",
        "description": "Get the current status and progress of a batch job.",
        "operationId": "get_batch_job_api_v1_batch_jobs__job_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Job Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchJobResponse"
                }
              }
            }
          },
          "404": {
            "description": "Batch job not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "batch-jobs"
        ],
        "summary": "Cancel a batch job",
        "description": "Cancel a running or pending batch job. Jobs in terminal states (completed, failed, cancelled) cannot be cancelled.",
        "operationId": "cancel_batch_job_api_v1_batch_jobs__job_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Job Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "404": {
            "description": "Batch job not found"
          },
          "409": {
            "description": "Job is in terminal state and cannot be cancelled"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/batch-jobs/{job_id}/progress": {
      "get": {
        "tags": [
          "batch-jobs"
        ],
        "summary": "Get real-time progress",
        "description": "Get real-time progress information from Redis cache. Includes processing rate and ETA when available.",
        "operationId": "get_batch_job_progress_api_v1_batch_jobs__job_id__progress_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Job Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchJobProgress"
                }
              }
            }
          },
          "404": {
            "description": "Batch job not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/version": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Version Info",
        "operationId": "version_info_version_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VersionResponse"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Health Check",
        "description": "Comprehensive health check that checks all registered components.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthCheckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/health/live": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Liveness Check",
        "description": "Kubernetes liveness probe endpoint.",
        "operationId": "liveness_check_health_live_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "boolean"
                  },
                  "type": "object",
                  "title": "Response Liveness Check Health Live Get"
                }
              }
            }
          }
        }
      }
    },
    "/health/ready": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Readiness Check",
        "description": "Kubernetes readiness probe endpoint.",
        "operationId": "readiness_check_health_ready_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "boolean"
                  },
                  "type": "object",
                  "title": "Response Readiness Check Health Ready Get"
                }
              }
            }
          }
        }
      }
    },
    "/health/distributed": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Distributed Health Check",
        "description": "Get aggregated health status across all instances.",
        "operationId": "distributed_health_check_health_distributed_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Distributed Health Check Health Distributed Get"
                }
              }
            }
          }
        }
      }
    },
    "/health/instances": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Instances Health Check",
        "description": "Get health status of all instances.",
        "operationId": "instances_health_check_health_instances_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Instances Health Check Health Instances Get"
                }
              }
            }
          }
        }
      }
    },
    "/health/instances/{instance_id}": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Instance Health Check",
        "description": "Get health status of a specific instance.",
        "operationId": "instance_health_check_health_instances__instance_id__get",
        "parameters": [
          {
            "name": "instance_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Instance Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Instance Health Check Health Instances  Instance Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/health/simple": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Simple Health Check",
        "description": "Simple health check that returns basic status without checking components.",
        "operationId": "simple_health_check_health_simple_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthCheckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/health/redis": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Redis Health",
        "operationId": "redis_health_health_redis_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceStatus"
                }
              }
            }
          }
        }
      }
    },
    "/health/nats": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Nats Health",
        "operationId": "nats_health_health_nats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceStatus"
                }
              }
            }
          }
        }
      }
    },
    "/health/taskiq": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Taskiq Health",
        "description": "Check taskiq broker health status.\n\nReturns status information about the taskiq background task system:\n- Whether the broker is initialized\n- The configured stream name\n- Number of registered tasks",
        "operationId": "taskiq_health_health_taskiq_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceStatus"
                }
              }
            }
          }
        }
      }
    },
    "/health/dbos": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Dbos Health",
        "description": "Check DBOS health and connectivity.\n\nReturns status information about the DBOS workflow system:\n- Whether DBOS is initialized\n- The schema name used for DBOS tables\n- Whether workflows are enabled",
        "operationId": "dbos_health_health_dbos_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceStatus"
                }
              }
            }
          }
        }
      }
    },
    "/health/batch-jobs": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Batch Jobs Health",
        "description": "Check for stuck batch jobs and update Prometheus metrics.\n\nReturns status information about batch job processing:\n- Number of jobs stuck with zero progress for >30 minutes\n- Details about each stuck job\n- Status is 'degraded' if any jobs are stuck\n\nAlso updates Prometheus metrics for monitoring dashboards.",
        "operationId": "batch_jobs_health_health_batch_jobs_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceStatus"
                }
              }
            }
          }
        }
      }
    },
    "/health/detailed": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Detailed Health",
        "operationId": "detailed_health_health_detailed_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthCheckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/health/circuit-breakers": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Circuit Breakers Status",
        "operationId": "circuit_breakers_status_health_circuit_breakers_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Circuit Breakers Status Health Circuit Breakers Get"
                }
              }
            }
          }
        }
      }
    },
    "/metrics": {
      "get": {
        "summary": "Metrics",
        "operationId": "metrics_metrics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "APIKeyCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "expires_in_days": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 365.0,
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires In Days"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "APIKeyCreate"
      },
      "APIKeyResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "key": {
            "type": "string",
            "title": "Key"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "key",
          "created_at",
          "expires_at"
        ],
        "title": "APIKeyResponse"
      },
      "AddCommunityAdminRequest": {
        "properties": {
          "user_discord_id": {
            "type": "string",
            "maxLength": 64,
            "minLength": 1,
            "title": "User Discord Id",
            "description": "Discord ID of the user to promote to admin"
          },
          "username": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Username",
            "description": "Discord username (for auto-creating profile if user doesn't exist)"
          },
          "display_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name",
            "description": "Display name (for auto-creating profile if user doesn't exist)"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "Avatar URL (for auto-creating profile if user doesn't exist)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "user_discord_id"
        ],
        "title": "AddCommunityAdminRequest",
        "description": "Request schema for adding a community admin."
      },
      "AdminSource": {
        "type": "string",
        "enum": [
          "opennotes_platform",
          "community_role",
          "discord_manage_server"
        ],
        "title": "AdminSource",
        "description": "Source of admin privileges."
      },
      "AdminStatusAttributes": {
        "properties": {
          "is_opennotes_admin": {
            "type": "boolean",
            "title": "Is Opennotes Admin"
          }
        },
        "type": "object",
        "required": [
          "is_opennotes_admin"
        ],
        "title": "AdminStatusAttributes",
        "description": "Admin status attributes for JSON:API resource."
      },
      "AdminStatusResource": {
        "properties": {
          "type": {
            "type": "string",
            "const": "admin-status",
            "title": "Type",
            "default": "admin-status"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/AdminStatusAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "AdminStatusResource",
        "description": "JSON:API resource object for admin status."
      },
      "AdminStatusSingleResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/AdminStatusResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "AdminStatusSingleResponse",
        "description": "JSON:API response for admin status resource."
      },
      "AdminStatusUpdateAttributes": {
        "properties": {
          "is_opennotes_admin": {
            "type": "boolean",
            "title": "Is Opennotes Admin"
          }
        },
        "type": "object",
        "required": [
          "is_opennotes_admin"
        ],
        "title": "AdminStatusUpdateAttributes",
        "description": "Attributes for admin status update request."
      },
      "AdminStatusUpdateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "admin-status",
            "title": "Type",
            "default": "admin-status"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/AdminStatusUpdateAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "AdminStatusUpdateData",
        "description": "JSON:API data object for admin status update request."
      },
      "AdminStatusUpdateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/AdminStatusUpdateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "AdminStatusUpdateRequest",
        "description": "JSON:API request for updating admin status."
      },
      "AllFusionWeightsResponse": {
        "properties": {
          "default": {
            "type": "number",
            "title": "Default",
            "description": "Global default fusion weight"
          },
          "datasets": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Datasets",
            "description": "Dataset-specific fusion weights"
          }
        },
        "type": "object",
        "required": [
          "default"
        ],
        "title": "AllFusionWeightsResponse",
        "description": "Response model for all fusion weights."
      },
      "AuditLogResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "action": {
            "type": "string",
            "title": "Action"
          },
          "resource": {
            "type": "string",
            "title": "Resource"
          },
          "resource_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resource Id"
          },
          "details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details"
          },
          "ip_address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ip Address"
          },
          "user_agent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Agent"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_id",
          "action",
          "resource",
          "resource_id",
          "details",
          "ip_address",
          "user_agent",
          "created_at"
        ],
        "title": "AuditLogResponse"
      },
      "AuthProvider": {
        "type": "string",
        "enum": [
          "discord",
          "github",
          "email"
        ],
        "title": "AuthProvider",
        "description": "Supported authentication providers."
      },
      "BatchJobCreate": {
        "properties": {
          "job_type": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Job Type",
            "description": "Type of batch job (e.g., 'fact_check_import')"
          },
          "total_tasks": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Tasks",
            "description": "Total number of tasks to process",
            "default": 0
          },
          "metadata": {
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                },
                {
                  "type": "boolean"
                },
                {
                  "type": "number"
                },
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": "object",
            "title": "Metadata",
            "description": "Job-specific metadata (e.g., source file, options)"
          },
          "workflow_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Workflow Id",
            "description": "DBOS workflow ID for linking batch job to workflow execution"
          }
        },
        "type": "object",
        "required": [
          "job_type"
        ],
        "title": "BatchJobCreate",
        "description": "Schema for creating a new batch job."
      },
      "BatchJobProgress": {
        "properties": {
          "job_id": {
            "type": "string",
            "format": "uuid",
            "title": "Job Id",
            "description": "Job identifier"
          },
          "processed_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Processed Count",
            "description": "Items processed so far",
            "default": 0
          },
          "error_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Error Count",
            "description": "Errors encountered",
            "default": 0
          },
          "current_item": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Item",
            "description": "Currently processing item"
          },
          "rate": {
            "type": "number",
            "minimum": 0.0,
            "title": "Rate",
            "description": "Processing rate (items/second)",
            "default": 0.0
          },
          "eta_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eta Seconds",
            "description": "Estimated time to completion"
          }
        },
        "type": "object",
        "required": [
          "job_id"
        ],
        "title": "BatchJobProgress",
        "description": "Real-time progress information from Redis cache."
      },
      "BatchJobResponse": {
        "properties": {
          "job_type": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Job Type",
            "description": "Type of batch job (e.g., 'fact_check_import')"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique job identifier"
          },
          "status": {
            "$ref": "#/components/schemas/BatchJobStatus",
            "description": "Current job status"
          },
          "total_tasks": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Tasks",
            "description": "Total tasks to process",
            "default": 0
          },
          "completed_tasks": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Completed Tasks",
            "description": "Tasks completed successfully",
            "default": 0
          },
          "failed_tasks": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Failed Tasks",
            "description": "Tasks that failed",
            "default": 0
          },
          "metadata_": {
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                },
                {
                  "type": "boolean"
                },
                {
                  "type": "number"
                },
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": "object",
            "title": "Metadata",
            "description": "Job-specific metadata"
          },
          "error_summary": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "items": {
                        "type": "string"
                      },
                      "type": "array"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Summary",
            "description": "Summary of errors if any"
          },
          "workflow_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Workflow Id",
            "description": "DBOS workflow ID for linking batch job to workflow execution"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At",
            "description": "When the job started processing"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "When the job finished"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When the job was created"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At",
            "description": "When the job was last updated"
          }
        },
        "type": "object",
        "required": [
          "job_type",
          "id",
          "status",
          "created_at"
        ],
        "title": "BatchJobResponse",
        "description": "Response schema for batch job with full details."
      },
      "BatchJobStatus": {
        "type": "string",
        "enum": [
          "pending",
          "in_progress",
          "completed",
          "failed",
          "cancelled"
        ],
        "title": "BatchJobStatus",
        "description": "Status states for a batch job."
      },
      "BatchProcessingRequest": {
        "properties": {
          "batch_size": {
            "type": "integer",
            "maximum": 10000.0,
            "minimum": 1.0,
            "title": "Batch Size",
            "description": "Maximum number of candidates to process in this batch",
            "default": 1000
          },
          "dry_run": {
            "type": "boolean",
            "title": "Dry Run",
            "description": "Count candidates only, do not perform operation",
            "default": false
          }
        },
        "type": "object",
        "title": "BatchProcessingRequest",
        "description": "Request parameters for batch processing operations without rate limiting (e.g., promote)."
      },
      "BatchScoreRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/BatchScoreRequestData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "BatchScoreRequest",
        "description": "JSON:API request body for batch scores."
      },
      "BatchScoreRequestAttributes": {
        "properties": {
          "note_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "maxItems": 100,
            "minItems": 1,
            "title": "Note Ids",
            "description": "List of note IDs to retrieve scores for"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "note_ids"
        ],
        "title": "BatchScoreRequestAttributes",
        "description": "Attributes for batch score request via JSON:API."
      },
      "BatchScoreRequestData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "batch-score-requests",
            "title": "Type",
            "description": "Resource type must be 'batch-score-requests'"
          },
          "attributes": {
            "$ref": "#/components/schemas/BatchScoreRequestAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "BatchScoreRequestData",
        "description": "JSON:API data object for batch score request."
      },
      "Body_login_api_v1_auth_login_post": {
        "properties": {
          "grant_type": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^password$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Grant Type"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "format": "password",
            "title": "Password"
          },
          "scope": {
            "type": "string",
            "title": "Scope",
            "default": ""
          },
          "client_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id"
          },
          "client_secret": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "format": "password",
            "title": "Client Secret"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "Body_login_api_v1_auth_login_post"
      },
      "Body_login_email_api_v1_profile_auth_login_email_post": {
        "properties": {
          "grant_type": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^password$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Grant Type"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "format": "password",
            "title": "Password"
          },
          "scope": {
            "type": "string",
            "title": "Scope",
            "default": ""
          },
          "client_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id"
          },
          "client_secret": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "format": "password",
            "title": "Client Secret"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "Body_login_email_api_v1_profile_auth_login_email_post"
      },
      "BulkApproveRequest": {
        "properties": {
          "threshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Threshold",
            "description": "Predictions >= threshold get approved",
            "default": 1.0
          },
          "auto_promote": {
            "type": "boolean",
            "title": "Auto Promote",
            "description": "Whether to promote approved candidates that are ready",
            "default": false
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CandidateStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "Filter by candidate status"
          },
          "dataset_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dataset Name",
            "description": "Filter by dataset name (exact match)"
          },
          "dataset_tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dataset Tags",
            "description": "Filter by dataset tags (array overlap)"
          },
          "has_content": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Has Content",
            "description": "Filter by whether candidate has content"
          },
          "published_date_from": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Published Date From",
            "description": "Filter by published_date >= this value"
          },
          "published_date_to": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Published Date To",
            "description": "Filter by published_date <= this value"
          },
          "limit": {
            "type": "integer",
            "maximum": 10000.0,
            "minimum": 1.0,
            "title": "Limit",
            "description": "Maximum number of candidates to approve (default 200)",
            "default": 200
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "BulkApproveRequest",
        "description": "Request body for bulk approval from predicted_ratings.\n\nNote: This is not wrapped in JSON:API data envelope since it's an action\nendpoint that accepts filter parameters, not a resource creation."
      },
      "BulkScanAttributes": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Scan status: pending, in_progress, completed, failed"
          },
          "initiated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Initiated At",
            "description": "When the scan was initiated"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "When the scan completed"
          },
          "messages_scanned": {
            "type": "integer",
            "title": "Messages Scanned",
            "description": "Total messages scanned",
            "default": 0
          },
          "messages_flagged": {
            "type": "integer",
            "title": "Messages Flagged",
            "description": "Number of flagged messages",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "status",
          "initiated_at"
        ],
        "title": "BulkScanAttributes",
        "description": "Attributes for a bulk scan resource."
      },
      "BulkScanCreateAttributes": {
        "properties": {
          "community_server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Community Server Id",
            "description": "Community server UUID to scan"
          },
          "scan_window_days": {
            "type": "integer",
            "maximum": 30.0,
            "minimum": 1.0,
            "title": "Scan Window Days",
            "description": "Number of days to scan back",
            "default": 7
          },
          "channel_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Channel Ids",
            "description": "Specific channel IDs to scan (empty = all channels)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "community_server_id"
        ],
        "title": "BulkScanCreateAttributes",
        "description": "Attributes for creating a bulk scan."
      },
      "BulkScanCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "bulk-scans",
            "title": "Type",
            "description": "Resource type must be 'bulk-scans'"
          },
          "attributes": {
            "$ref": "#/components/schemas/BulkScanCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "BulkScanCreateData",
        "description": "JSON:API data object for bulk scan creation."
      },
      "BulkScanCreateJSONAPIRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/BulkScanCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "BulkScanCreateJSONAPIRequest",
        "description": "JSON:API request body for creating a bulk scan."
      },
      "BulkScanResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "bulk-scans"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/BulkScanAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "BulkScanResource",
        "description": "JSON:API resource object for a bulk scan."
      },
      "BulkScanResultsAttributes": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Scan status"
          },
          "messages_scanned": {
            "type": "integer",
            "title": "Messages Scanned",
            "description": "Total messages scanned",
            "default": 0
          },
          "messages_flagged": {
            "type": "integer",
            "title": "Messages Flagged",
            "description": "Number of flagged messages",
            "default": 0
          },
          "error_summary": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ScanErrorSummarySchema"
              },
              {
                "type": "null"
              }
            ],
            "description": "Summary of errors encountered during scan"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "BulkScanResultsAttributes",
        "description": "Attributes for bulk scan results."
      },
      "BulkScanResultsJSONAPIResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/BulkScanResultsResource"
          },
          "included": {
            "items": {
              "$ref": "#/components/schemas/FlaggedMessageResource"
            },
            "type": "array",
            "title": "Included"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "BulkScanResultsJSONAPIResponse",
        "description": "JSON:API response for bulk scan results with included flagged messages."
      },
      "BulkScanResultsResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "bulk-scans"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/BulkScanResultsAttributes"
          },
          "relationships": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Relationships"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "BulkScanResultsResource",
        "description": "JSON:API resource object for bulk scan results."
      },
      "BulkScanSingleResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/BulkScanResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "BulkScanSingleResponse",
        "description": "JSON:API response for a single bulk scan resource."
      },
      "CandidateAttributes": {
        "properties": {
          "source_url": {
            "type": "string",
            "title": "Source Url",
            "description": "URL to the original article"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Article title from source"
          },
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content",
            "description": "Scraped article body"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary",
            "description": "Optional summary"
          },
          "rating": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating",
            "description": "Human-approved fact-check verdict"
          },
          "rating_details": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating Details",
            "description": "Original rating before normalization"
          },
          "predicted_ratings": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Predicted Ratings",
            "description": "ML/AI predicted ratings as {rating: probability}"
          },
          "published_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Published Date",
            "description": "Publication date"
          },
          "dataset_name": {
            "type": "string",
            "title": "Dataset Name",
            "description": "Source dataset identifier"
          },
          "dataset_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Dataset Tags",
            "description": "Tags for filtering"
          },
          "original_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Original Id",
            "description": "ID from source dataset"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Processing status"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error details if failed"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Record creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "source_url",
          "title",
          "dataset_name",
          "status",
          "created_at",
          "updated_at"
        ],
        "title": "CandidateAttributes",
        "description": "JSON:API attributes for a fact-check candidate."
      },
      "CandidateListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/CandidateResource"
            },
            "type": "array",
            "title": "Data"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          },
          "meta": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPIMeta"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "CandidateListResponse",
        "description": "JSON:API response for a list of candidates with pagination."
      },
      "CandidateResource": {
        "properties": {
          "type": {
            "type": "string",
            "const": "fact-check-candidates",
            "title": "Type",
            "default": "fact-check-candidates"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/CandidateAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "CandidateResource",
        "description": "JSON:API resource object for a fact-check candidate."
      },
      "CandidateSingleResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/CandidateResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "CandidateSingleResponse",
        "description": "JSON:API response for a single candidate."
      },
      "CandidateStatus": {
        "type": "string",
        "enum": [
          "pending",
          "scraping",
          "scraped",
          "scrape_failed",
          "promoting",
          "promoted"
        ],
        "title": "CandidateStatus",
        "description": "Status values for fact-checked item candidates."
      },
      "ClearPreviewResponse": {
        "properties": {
          "would_delete_count": {
            "type": "integer",
            "title": "Would Delete Count"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "would_delete_count",
          "message"
        ],
        "title": "ClearPreviewResponse",
        "description": "Response for clear preview (dry run) operations."
      },
      "ClearResponse": {
        "properties": {
          "deleted_count": {
            "type": "integer",
            "title": "Deleted Count"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "deleted_count",
          "message"
        ],
        "title": "ClearResponse",
        "description": "Response for clear operations."
      },
      "CommunityAdminResponse": {
        "properties": {
          "profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Profile Id",
            "description": "User profile identifier"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name",
            "description": "User's display name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "URL to user's avatar image"
          },
          "discord_id": {
            "type": "string",
            "title": "Discord Id",
            "description": "User's Discord ID"
          },
          "admin_sources": {
            "items": {
              "$ref": "#/components/schemas/AdminSource"
            },
            "type": "array",
            "title": "Admin Sources",
            "description": "Sources of admin privileges (can have multiple)"
          },
          "is_opennotes_admin": {
            "type": "boolean",
            "title": "Is Opennotes Admin",
            "description": "Whether user is an Open Notes platform admin",
            "default": false
          },
          "community_role": {
            "type": "string",
            "title": "Community Role",
            "description": "User's role in the community",
            "default": "member"
          },
          "joined_at": {
            "type": "string",
            "format": "date-time",
            "title": "Joined At",
            "description": "When the user joined the community"
          }
        },
        "type": "object",
        "required": [
          "profile_id",
          "display_name",
          "discord_id",
          "admin_sources",
          "joined_at"
        ],
        "title": "CommunityAdminResponse",
        "description": "Response schema for community admin information."
      },
      "CommunityConfigResponse": {
        "properties": {
          "community_server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Community Server Id"
          },
          "config": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Config",
            "description": "Community server configuration key-value pairs"
          }
        },
        "type": "object",
        "required": [
          "community_server_id"
        ],
        "title": "CommunityConfigResponse"
      },
      "CommunityMemberResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "community_id": {
            "type": "string",
            "format": "uuid",
            "title": "Community Id",
            "description": "Community identifier"
          },
          "is_external": {
            "type": "boolean",
            "title": "Is External",
            "description": "True for external participants, False for internal members",
            "default": false
          },
          "role": {
            "$ref": "#/components/schemas/CommunityRole",
            "description": "Member role in the community",
            "default": "member"
          },
          "permissions": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Permissions",
            "description": "Role-specific permissions (JSON object). Kept as dict[str, Any] - permission structures vary by community platform (Discord roles, Reddit mod powers, etc.)"
          },
          "invitation_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invitation Reason",
            "description": "Reason/context for invitation"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique membership identifier"
          },
          "profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Profile Id",
            "description": "User profile identifier"
          },
          "reputation_in_community": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reputation In Community",
            "description": "Community-specific reputation"
          },
          "joined_at": {
            "type": "string",
            "format": "date-time",
            "title": "Joined At",
            "description": "When the user joined"
          },
          "invited_by": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invited By",
            "description": "Profile ID of the user who invited this member"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether membership is active",
            "default": true
          },
          "banned_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Banned At",
            "description": "Ban timestamp"
          },
          "banned_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Banned Reason",
            "description": "Reason for ban"
          },
          "profile": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UserProfileResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "Associated user profile"
          },
          "inviter": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UserProfileResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "Profile of the user who invited this member"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "created_at",
          "community_id",
          "id",
          "profile_id",
          "joined_at"
        ],
        "title": "CommunityMemberResponse",
        "description": "API response schema for community membership with nested profile."
      },
      "CommunityMembershipAttributes": {
        "properties": {
          "community_id": {
            "type": "string",
            "title": "Community Id"
          },
          "role": {
            "type": "string",
            "title": "Role"
          },
          "is_external": {
            "type": "boolean",
            "title": "Is External",
            "default": false
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "joined_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Joined At"
          },
          "reputation_in_community": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reputation In Community"
          }
        },
        "type": "object",
        "required": [
          "community_id",
          "role"
        ],
        "title": "CommunityMembershipAttributes",
        "description": "Community membership attributes for JSON:API resource."
      },
      "CommunityMembershipListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/CommunityMembershipResource"
            },
            "type": "array",
            "title": "Data"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          },
          "meta": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPIMeta"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "CommunityMembershipListResponse",
        "description": "JSON:API response for a list of community membership resources."
      },
      "CommunityMembershipResource": {
        "properties": {
          "type": {
            "type": "string",
            "const": "community-memberships",
            "title": "Type",
            "default": "community-memberships"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/CommunityMembershipAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "CommunityMembershipResource",
        "description": "JSON:API resource object for a community membership."
      },
      "CommunityRole": {
        "type": "string",
        "enum": [
          "admin",
          "moderator",
          "member"
        ],
        "title": "CommunityRole",
        "description": "Community membership roles."
      },
      "CommunityServerAttributes": {
        "properties": {
          "platform": {
            "type": "string",
            "title": "Platform"
          },
          "platform_community_server_id": {
            "type": "string",
            "title": "Platform Community Server Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "is_public": {
            "type": "boolean",
            "title": "Is Public",
            "default": true
          },
          "flashpoint_detection_enabled": {
            "type": "boolean",
            "title": "Flashpoint Detection Enabled",
            "default": false
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "platform",
          "platform_community_server_id",
          "name"
        ],
        "title": "CommunityServerAttributes",
        "description": "Community server attributes for JSON:API resource."
      },
      "CommunityServerLookupResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Internal community server UUID"
          },
          "platform": {
            "type": "string",
            "title": "Platform",
            "description": "Platform type (e.g., 'discord')"
          },
          "platform_community_server_id": {
            "type": "string",
            "title": "Platform Community Server Id",
            "description": "Platform-specific ID (e.g., Discord guild ID)"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Community server name"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the community server is active"
          },
          "flashpoint_detection_enabled": {
            "type": "boolean",
            "title": "Flashpoint Detection Enabled",
            "description": "Whether flashpoint detection is enabled for this community"
          }
        },
        "type": "object",
        "required": [
          "id",
          "platform",
          "platform_community_server_id",
          "name",
          "is_active",
          "flashpoint_detection_enabled"
        ],
        "title": "CommunityServerLookupResponse",
        "description": "Response model for community server lookup."
      },
      "CommunityServerResource": {
        "properties": {
          "type": {
            "type": "string",
            "const": "community-servers",
            "title": "Type",
            "default": "community-servers"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/CommunityServerAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "CommunityServerResource",
        "description": "JSON:API resource object for a community server."
      },
      "CommunityServerSingleResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/CommunityServerResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "CommunityServerSingleResponse",
        "description": "JSON:API response for a single community server resource."
      },
      "ConversationFlashpointMatch": {
        "properties": {
          "scan_type": {
            "type": "string",
            "const": "conversation_flashpoint",
            "title": "Scan Type",
            "default": "conversation_flashpoint"
          },
          "derailment_score": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Derailment Score",
            "description": "Derailment risk score (0-100)"
          },
          "risk_level": {
            "$ref": "#/components/schemas/RiskLevel",
            "description": "Categorical risk assessment level"
          },
          "reasoning": {
            "type": "string",
            "title": "Reasoning",
            "description": "Explanation of detected escalation signals"
          },
          "context_messages": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Context Messages",
            "description": "Number of context messages analyzed"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "derailment_score",
          "risk_level",
          "reasoning",
          "context_messages"
        ],
        "title": "ConversationFlashpointMatch",
        "description": "Match result from conversation flashpoint detection scan."
      },
      "DiscordOAuthInitResponse": {
        "properties": {
          "authorization_url": {
            "type": "string",
            "title": "Authorization Url",
            "description": "Discord OAuth2 authorization URL to redirect user to"
          },
          "state": {
            "type": "string",
            "title": "State",
            "description": "OAuth2 state parameter for CSRF protection (store for callback validation)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "authorization_url",
          "state"
        ],
        "title": "DiscordOAuthInitResponse",
        "description": "Response schema for Discord OAuth2 flow initialization."
      },
      "DiscordOAuthLoginRequest": {
        "properties": {
          "code": {
            "type": "string",
            "minLength": 1,
            "title": "Code",
            "description": "OAuth2 authorization code from Discord"
          },
          "state": {
            "type": "string",
            "minLength": 1,
            "title": "State",
            "description": "OAuth2 state parameter for CSRF protection (must match state from init)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "code",
          "state"
        ],
        "title": "DiscordOAuthLoginRequest",
        "description": "Request schema for Discord OAuth2 login."
      },
      "DiscordOAuthRegisterRequest": {
        "properties": {
          "code": {
            "type": "string",
            "minLength": 1,
            "title": "Code",
            "description": "OAuth2 authorization code from Discord"
          },
          "state": {
            "type": "string",
            "minLength": 1,
            "title": "State",
            "description": "OAuth2 state parameter for CSRF protection (must match state from init)"
          },
          "display_name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Display Name",
            "description": "User's desired display name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "URL to user's avatar image (optional override)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "code",
          "state",
          "display_name"
        ],
        "title": "DiscordOAuthRegisterRequest",
        "description": "Request schema for Discord OAuth2 registration."
      },
      "EnqueueScrapeResponse": {
        "properties": {
          "enqueued": {
            "type": "integer",
            "title": "Enqueued",
            "description": "Number of scrape tasks enqueued"
          }
        },
        "type": "object",
        "required": [
          "enqueued"
        ],
        "title": "EnqueueScrapeResponse",
        "description": "Response for enqueue scrapes operation."
      },
      "EnrollmentData": {
        "properties": {
          "participantId": {
            "type": "string",
            "title": "Participantid"
          },
          "enrollmentState": {
            "type": "string",
            "title": "Enrollmentstate"
          },
          "successfulRatingNeededToEarnIn": {
            "type": "integer",
            "title": "Successfulratingneededtoearnin"
          },
          "timestampOfLastStateChange": {
            "type": "integer",
            "title": "Timestampoflaststatechange"
          }
        },
        "type": "object",
        "required": [
          "participantId",
          "enrollmentState",
          "successfulRatingNeededToEarnIn",
          "timestampOfLastStateChange"
        ],
        "title": "EnrollmentData"
      },
      "ExplanationCreateAttributes": {
        "properties": {
          "original_message": {
            "type": "string",
            "title": "Original Message",
            "description": "Original message content that was flagged"
          },
          "fact_check_item_id": {
            "type": "string",
            "format": "uuid",
            "title": "Fact Check Item Id",
            "description": "UUID of the matched FactCheckItem"
          },
          "community_server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Community Server Id",
            "description": "Community server UUID for context"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "original_message",
          "fact_check_item_id",
          "community_server_id"
        ],
        "title": "ExplanationCreateAttributes",
        "description": "Attributes for generating a scan explanation."
      },
      "ExplanationCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "scan-explanations",
            "title": "Type",
            "description": "Resource type must be 'scan-explanations'"
          },
          "attributes": {
            "$ref": "#/components/schemas/ExplanationCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "ExplanationCreateData",
        "description": "JSON:API data object for explanation generation."
      },
      "ExplanationCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ExplanationCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ExplanationCreateRequest",
        "description": "JSON:API request body for generating a scan explanation."
      },
      "ExplanationResultAttributes": {
        "properties": {
          "explanation": {
            "type": "string",
            "title": "Explanation",
            "description": "AI-generated explanation for why message was flagged"
          }
        },
        "type": "object",
        "required": [
          "explanation"
        ],
        "title": "ExplanationResultAttributes",
        "description": "Attributes for explanation result."
      },
      "ExplanationResultResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "scan-explanations"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/ExplanationResultAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "ExplanationResultResource",
        "description": "JSON:API resource for explanation result."
      },
      "ExplanationResultResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ExplanationResultResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ExplanationResultResponse",
        "description": "JSON:API response for explanation generation."
      },
      "FactCheckMatchResource": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Fact-check item UUID"
          },
          "dataset_name": {
            "type": "string",
            "title": "Dataset Name",
            "description": "Source dataset (e.g., 'snopes')"
          },
          "dataset_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Dataset Tags",
            "description": "Dataset tags"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Fact-check article title"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Fact-check content"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary",
            "description": "Brief summary"
          },
          "rating": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating",
            "description": "Fact-check verdict"
          },
          "source_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Url",
            "description": "URL to original article"
          },
          "published_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Published Date",
            "description": "Publication date"
          },
          "author": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Author",
            "description": "Author name"
          },
          "embedding_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding Provider",
            "description": "LLM provider used for embedding"
          },
          "embedding_model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding Model",
            "description": "Model name used for embedding"
          },
          "similarity_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Similarity Score",
            "description": "CC fusion score (0.0-1.0)"
          },
          "cosine_similarity": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Cosine Similarity",
            "description": "Raw cosine similarity score (0.0-1.0), None when no semantic match"
          }
        },
        "type": "object",
        "required": [
          "id",
          "dataset_name",
          "dataset_tags",
          "title",
          "content",
          "similarity_score"
        ],
        "title": "FactCheckMatchResource",
        "description": "JSON:API-compatible fact-check match in search results."
      },
      "FlaggedMessageAttributes": {
        "properties": {
          "channel_id": {
            "type": "string",
            "title": "Channel Id",
            "description": "Channel ID where message was found"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Message content"
          },
          "author_id": {
            "type": "string",
            "title": "Author Id",
            "description": "Author ID"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "Message timestamp"
          },
          "matches": {
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/SimilarityMatch"
                },
                {
                  "$ref": "#/components/schemas/OpenAIModerationMatch"
                },
                {
                  "$ref": "#/components/schemas/ConversationFlashpointMatch"
                }
              ],
              "discriminator": {
                "propertyName": "scan_type",
                "mapping": {
                  "conversation_flashpoint": "#/components/schemas/ConversationFlashpointMatch",
                  "openai_moderation": "#/components/schemas/OpenAIModerationMatch",
                  "similarity": "#/components/schemas/SimilarityMatch"
                }
              }
            },
            "type": "array",
            "title": "Matches",
            "description": "List of match results from different scan types"
          }
        },
        "type": "object",
        "required": [
          "channel_id",
          "content",
          "author_id",
          "timestamp"
        ],
        "title": "FlaggedMessageAttributes",
        "description": "Attributes for a flagged message resource."
      },
      "FlaggedMessageResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "flagged-messages"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/FlaggedMessageAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "FlaggedMessageResource",
        "description": "JSON:API resource object for a flagged message."
      },
      "FlashpointDetectionUpdateRequest": {
        "properties": {
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether to enable flashpoint detection for this community"
          }
        },
        "type": "object",
        "required": [
          "enabled"
        ],
        "title": "FlashpointDetectionUpdateRequest",
        "description": "Request model for updating flashpoint detection setting."
      },
      "FlashpointDetectionUpdateResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Internal community server UUID"
          },
          "platform_community_server_id": {
            "type": "string",
            "title": "Platform Community Server Id",
            "description": "Platform-specific ID (e.g., Discord guild ID)"
          },
          "flashpoint_detection_enabled": {
            "type": "boolean",
            "title": "Flashpoint Detection Enabled",
            "description": "Whether flashpoint detection is enabled"
          }
        },
        "type": "object",
        "required": [
          "id",
          "platform_community_server_id",
          "flashpoint_detection_enabled"
        ],
        "title": "FlashpointDetectionUpdateResponse",
        "description": "Response model for flashpoint detection update."
      },
      "FusionWeightResponse": {
        "properties": {
          "alpha": {
            "type": "number",
            "title": "Alpha",
            "description": "Current fusion weight alpha \u2208 [0, 1]"
          },
          "dataset": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dataset",
            "description": "Dataset name or None for global default"
          },
          "source": {
            "type": "string",
            "title": "Source",
            "description": "Source of the value: 'redis' or 'fallback'"
          }
        },
        "type": "object",
        "required": [
          "alpha",
          "source"
        ],
        "title": "FusionWeightResponse",
        "description": "Response model for fusion weight."
      },
      "FusionWeightUpdate": {
        "properties": {
          "alpha": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Alpha",
            "description": "Fusion weight alpha \u2208 [0, 1]. alpha=1.0 is pure semantic, alpha=0.0 is pure keyword."
          },
          "dataset": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dataset",
            "description": "Optional dataset name for dataset-specific override. None for global default."
          }
        },
        "type": "object",
        "required": [
          "alpha"
        ],
        "title": "FusionWeightUpdate",
        "description": "Request model for updating fusion weight."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthCheckResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Overall system status"
          },
          "timestamp": {
            "type": "number",
            "title": "Timestamp",
            "description": "Unix epoch timestamp"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "API version"
          },
          "environment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Environment",
            "description": "Environment name"
          },
          "components": {
            "additionalProperties": {
              "$ref": "#/components/schemas/ServiceStatus"
            },
            "type": "object",
            "title": "Components",
            "description": "Component statuses"
          },
          "uptime_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Uptime Seconds",
            "description": "Server uptime in seconds"
          }
        },
        "type": "object",
        "required": [
          "status",
          "version"
        ],
        "title": "HealthCheckResponse"
      },
      "HelpfulnessLevel": {
        "type": "string",
        "enum": [
          "HELPFUL",
          "SOMEWHAT_HELPFUL",
          "NOT_HELPFUL"
        ],
        "title": "HelpfulnessLevel"
      },
      "HybridSearchCreateAttributes": {
        "properties": {
          "text": {
            "type": "string",
            "maxLength": 50000,
            "minLength": 3,
            "title": "Text",
            "description": "Query text to search for (minimum 3 characters). Uses hybrid search combining FTS and semantic similarity."
          },
          "community_server_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Community Server Id",
            "description": "Community server (guild) ID"
          },
          "limit": {
            "type": "integer",
            "maximum": 20.0,
            "minimum": 1.0,
            "title": "Limit",
            "description": "Maximum number of results to return",
            "default": 10
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "text",
          "community_server_id"
        ],
        "title": "HybridSearchCreateAttributes",
        "description": "Attributes for performing a hybrid search via JSON:API."
      },
      "HybridSearchCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "hybrid-searches",
            "title": "Type",
            "description": "Resource type must be 'hybrid-searches'"
          },
          "attributes": {
            "$ref": "#/components/schemas/HybridSearchCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "HybridSearchCreateData",
        "description": "JSON:API data object for hybrid search."
      },
      "HybridSearchMatchResource": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Fact-check item UUID"
          },
          "dataset_name": {
            "type": "string",
            "title": "Dataset Name",
            "description": "Source dataset (e.g., 'snopes')"
          },
          "dataset_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Dataset Tags",
            "description": "Dataset tags"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Fact-check article title"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Fact-check content"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary",
            "description": "Brief summary"
          },
          "rating": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating",
            "description": "Fact-check verdict"
          },
          "source_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Url",
            "description": "URL to original article"
          },
          "published_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Published Date",
            "description": "Publication date"
          },
          "author": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Author",
            "description": "Author name"
          },
          "cc_score": {
            "type": "number",
            "minimum": 0.0,
            "title": "Cc Score",
            "description": "Convex Combination score fusing semantic and keyword rankings"
          }
        },
        "type": "object",
        "required": [
          "id",
          "dataset_name",
          "dataset_tags",
          "title",
          "content",
          "cc_score"
        ],
        "title": "HybridSearchMatchResource",
        "description": "JSON:API-compatible fact-check match in hybrid search results."
      },
      "HybridSearchRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/HybridSearchCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "HybridSearchRequest",
        "description": "JSON:API request body for performing a hybrid search."
      },
      "HybridSearchResultAttributes": {
        "properties": {
          "matches": {
            "items": {
              "$ref": "#/components/schemas/HybridSearchMatchResource"
            },
            "type": "array",
            "title": "Matches",
            "description": "Matching fact-check items ranked by CC score"
          },
          "query_text": {
            "type": "string",
            "title": "Query Text",
            "description": "Original query text"
          },
          "total_matches": {
            "type": "integer",
            "title": "Total Matches",
            "description": "Number of matches found"
          }
        },
        "type": "object",
        "required": [
          "matches",
          "query_text",
          "total_matches"
        ],
        "title": "HybridSearchResultAttributes",
        "description": "Attributes for hybrid search result."
      },
      "HybridSearchResultResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "hybrid-search-results"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/HybridSearchResultAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "HybridSearchResultResource",
        "description": "JSON:API resource object for hybrid search results."
      },
      "HybridSearchResultResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/HybridSearchResultResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "HybridSearchResultResponse",
        "description": "JSON:API response for hybrid search results."
      },
      "IdentityAttributes": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider"
          },
          "provider_user_id": {
            "type": "string",
            "title": "Provider User Id"
          },
          "email_verified": {
            "type": "boolean",
            "title": "Email Verified",
            "default": false
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "provider",
          "provider_user_id"
        ],
        "title": "IdentityAttributes",
        "description": "Identity attributes for JSON:API resource."
      },
      "IdentityCreateAttributes": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider"
          },
          "provider_user_id": {
            "type": "string",
            "title": "Provider User Id"
          },
          "credentials": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Credentials"
          }
        },
        "type": "object",
        "required": [
          "provider",
          "provider_user_id"
        ],
        "title": "IdentityCreateAttributes",
        "description": "Attributes for identity create request."
      },
      "IdentityCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "identities",
            "title": "Type",
            "default": "identities"
          },
          "attributes": {
            "$ref": "#/components/schemas/IdentityCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "attributes"
        ],
        "title": "IdentityCreateData",
        "description": "JSON:API data object for identity create request."
      },
      "IdentityCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/IdentityCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "IdentityCreateRequest",
        "description": "JSON:API request for creating an identity."
      },
      "IdentityListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/IdentityResource"
            },
            "type": "array",
            "title": "Data"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          },
          "meta": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPIMeta"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "IdentityListResponse",
        "description": "JSON:API response for a list of identity resources."
      },
      "IdentityResource": {
        "properties": {
          "type": {
            "type": "string",
            "const": "identities",
            "title": "Type",
            "default": "identities"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/IdentityAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "IdentityResource",
        "description": "JSON:API resource object for an identity."
      },
      "IdentitySingleResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/IdentityResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "IdentitySingleResponse",
        "description": "JSON:API response for a single identity resource."
      },
      "ImportFactCheckBureauRequest": {
        "properties": {
          "batch_size": {
            "type": "integer",
            "maximum": 10000.0,
            "minimum": 1.0,
            "title": "Batch Size",
            "description": "Batch size for import operations",
            "default": 1000
          },
          "dry_run": {
            "type": "boolean",
            "title": "Dry Run",
            "description": "Validate only, do not insert into database",
            "default": false
          },
          "enqueue_scrapes": {
            "type": "boolean",
            "title": "Enqueue Scrapes",
            "description": "Enqueue scrape tasks for pending candidates after import completes",
            "default": false
          }
        },
        "type": "object",
        "title": "ImportFactCheckBureauRequest",
        "description": "Request parameters for fact-check bureau import."
      },
      "JSONAPILinks": {
        "properties": {
          "self_": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Self"
          },
          "first": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "First"
          },
          "last": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last"
          },
          "prev": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prev"
          },
          "next_": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next"
          },
          "describedby": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Describedby"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "title": "JSONAPILinks",
        "description": "JSON:API links object for pagination and resource links.\n\nUses field aliases for 'self' and 'next' which are Python reserved words.\nAlways use by_alias=True when serializing.\nIncludes JSON:API 1.1 'describedby' link for API documentation."
      },
      "JSONAPIMeta": {
        "properties": {
          "count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Count"
          },
          "page": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page"
          },
          "pages": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pages"
          },
          "limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Limit"
          },
          "offset": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Offset"
          }
        },
        "type": "object",
        "title": "JSONAPIMeta",
        "description": "JSON:API meta object for pagination and collection metadata."
      },
      "LLMConfigCreate": {
        "properties": {
          "provider": {
            "type": "string",
            "enum": [
              "openai",
              "anthropic",
              "google",
              "cohere",
              "custom"
            ],
            "title": "Provider"
          },
          "api_key": {
            "type": "string",
            "minLength": 1,
            "title": "Api Key",
            "description": "API key for the LLM provider"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether this configuration is enabled",
            "default": true
          },
          "settings": {
            "additionalProperties": true,
            "type": "object",
            "title": "Settings",
            "description": "Provider-specific settings (model, temperature, etc.). Kept as dict[str, Any] - each LLM provider has different configuration options and parameters."
          },
          "daily_request_limit": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Request Limit",
            "description": "Maximum daily API requests (None = unlimited)"
          },
          "monthly_request_limit": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Request Limit",
            "description": "Maximum monthly API requests (None = unlimited)"
          },
          "daily_token_limit": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Token Limit",
            "description": "Maximum daily tokens (None = unlimited)"
          },
          "monthly_token_limit": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Token Limit",
            "description": "Maximum monthly tokens (None = unlimited)"
          },
          "daily_spend_limit": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Spend Limit",
            "description": "Maximum daily spending in USD (None = unlimited)"
          },
          "monthly_spend_limit": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Spend Limit",
            "description": "Maximum monthly spending in USD (None = unlimited)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "provider",
          "api_key"
        ],
        "title": "LLMConfigCreate",
        "description": "Schema for creating a new LLM configuration."
      },
      "LLMConfigResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "community_server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Community Server Id"
          },
          "provider": {
            "type": "string",
            "title": "Provider"
          },
          "api_key_preview": {
            "type": "string",
            "title": "Api Key Preview",
            "description": "Last 4 characters of API key"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled"
          },
          "settings": {
            "additionalProperties": true,
            "type": "object",
            "title": "Settings"
          },
          "daily_request_limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Request Limit"
          },
          "monthly_request_limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Request Limit"
          },
          "daily_token_limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Token Limit"
          },
          "monthly_token_limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Token Limit"
          },
          "daily_spend_limit": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Spend Limit"
          },
          "monthly_spend_limit": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Spend Limit"
          },
          "current_daily_requests": {
            "type": "integer",
            "title": "Current Daily Requests"
          },
          "current_monthly_requests": {
            "type": "integer",
            "title": "Current Monthly Requests"
          },
          "current_daily_tokens": {
            "type": "integer",
            "title": "Current Daily Tokens"
          },
          "current_monthly_tokens": {
            "type": "integer",
            "title": "Current Monthly Tokens"
          },
          "current_daily_spend": {
            "type": "number",
            "title": "Current Daily Spend"
          },
          "current_monthly_spend": {
            "type": "number",
            "title": "Current Monthly Spend"
          },
          "last_daily_reset": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Daily Reset"
          },
          "last_monthly_reset": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Monthly Reset"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "created_by": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created By"
          }
        },
        "type": "object",
        "required": [
          "id",
          "community_server_id",
          "provider",
          "api_key_preview",
          "enabled",
          "settings",
          "daily_request_limit",
          "monthly_request_limit",
          "daily_token_limit",
          "monthly_token_limit",
          "daily_spend_limit",
          "monthly_spend_limit",
          "current_daily_requests",
          "current_monthly_requests",
          "current_daily_tokens",
          "current_monthly_tokens",
          "current_daily_spend",
          "current_monthly_spend",
          "last_daily_reset",
          "last_monthly_reset",
          "created_at",
          "updated_at",
          "created_by"
        ],
        "title": "LLMConfigResponse",
        "description": "Schema for LLM configuration response (excludes full API key)."
      },
      "LLMConfigTestRequest": {
        "properties": {
          "provider": {
            "type": "string",
            "enum": [
              "openai",
              "anthropic",
              "google",
              "cohere",
              "custom"
            ],
            "title": "Provider"
          },
          "api_key": {
            "type": "string",
            "minLength": 1,
            "title": "Api Key"
          },
          "settings": {
            "additionalProperties": true,
            "type": "object",
            "title": "Settings"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "provider",
          "api_key"
        ],
        "title": "LLMConfigTestRequest",
        "description": "Schema for testing an LLM configuration."
      },
      "LLMConfigTestResponse": {
        "properties": {
          "valid": {
            "type": "boolean",
            "title": "Valid"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          }
        },
        "type": "object",
        "required": [
          "valid"
        ],
        "title": "LLMConfigTestResponse"
      },
      "LLMConfigUpdate": {
        "properties": {
          "api_key": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key"
          },
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled"
          },
          "settings": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Settings"
          },
          "daily_request_limit": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Request Limit"
          },
          "monthly_request_limit": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Request Limit"
          },
          "daily_token_limit": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Token Limit"
          },
          "monthly_token_limit": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Token Limit"
          },
          "daily_spend_limit": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Spend Limit"
          },
          "monthly_spend_limit": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Spend Limit"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "LLMConfigUpdate",
        "description": "Schema for updating an existing LLM configuration."
      },
      "LLMUsageStatsResponse": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider"
          },
          "daily_requests": {
            "additionalProperties": true,
            "type": "object",
            "title": "Daily Requests"
          },
          "monthly_requests": {
            "additionalProperties": true,
            "type": "object",
            "title": "Monthly Requests"
          },
          "daily_tokens": {
            "additionalProperties": true,
            "type": "object",
            "title": "Daily Tokens"
          },
          "monthly_tokens": {
            "additionalProperties": true,
            "type": "object",
            "title": "Monthly Tokens"
          },
          "daily_spend": {
            "additionalProperties": true,
            "type": "object",
            "title": "Daily Spend"
          },
          "monthly_spend": {
            "additionalProperties": true,
            "type": "object",
            "title": "Monthly Spend"
          },
          "last_daily_reset": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Daily Reset"
          },
          "last_monthly_reset": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Monthly Reset"
          }
        },
        "type": "object",
        "required": [
          "provider",
          "daily_requests",
          "monthly_requests",
          "daily_tokens",
          "monthly_tokens",
          "daily_spend",
          "monthly_spend",
          "last_daily_reset",
          "last_monthly_reset"
        ],
        "title": "LLMUsageStatsResponse"
      },
      "LatestScanAttributes": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Scan status: pending, in_progress, completed, failed"
          },
          "initiated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Initiated At",
            "description": "When the scan was initiated"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "When the scan completed"
          },
          "messages_scanned": {
            "type": "integer",
            "title": "Messages Scanned",
            "description": "Total messages scanned",
            "default": 0
          },
          "messages_flagged": {
            "type": "integer",
            "title": "Messages Flagged",
            "description": "Number of flagged messages",
            "default": 0
          },
          "error_summary": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ScanErrorSummarySchema"
              },
              {
                "type": "null"
              }
            ],
            "description": "Summary of errors encountered during scan"
          }
        },
        "type": "object",
        "required": [
          "status",
          "initiated_at"
        ],
        "title": "LatestScanAttributes",
        "description": "Attributes for the latest scan resource."
      },
      "LatestScanJSONAPIResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/LatestScanResource"
          },
          "included": {
            "items": {
              "$ref": "#/components/schemas/FlaggedMessageResource"
            },
            "type": "array",
            "title": "Included"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "LatestScanJSONAPIResponse",
        "description": "JSON:API response for the latest scan with included flagged messages."
      },
      "LatestScanResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "bulk-scans"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/LatestScanAttributes"
          },
          "relationships": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Relationships"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "LatestScanResource",
        "description": "JSON:API resource object for the latest scan."
      },
      "MonitoredChannelAttributes": {
        "properties": {
          "community_server_id": {
            "type": "string",
            "title": "Community Server Id"
          },
          "channel_id": {
            "type": "string",
            "title": "Channel Id"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled"
          },
          "similarity_threshold": {
            "type": "number",
            "title": "Similarity Threshold"
          },
          "dataset_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Dataset Tags"
          },
          "previously_seen_autopublish_threshold": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Previously Seen Autopublish Threshold"
          },
          "previously_seen_autorequest_threshold": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Previously Seen Autorequest Threshold"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By"
          }
        },
        "type": "object",
        "required": [
          "community_server_id",
          "channel_id",
          "enabled",
          "similarity_threshold",
          "dataset_tags"
        ],
        "title": "MonitoredChannelAttributes",
        "description": "Monitored channel attributes for JSON:API resource."
      },
      "MonitoredChannelCreateAttributes": {
        "properties": {
          "community_server_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Community Server Id",
            "description": "Discord server/guild ID (platform ID)"
          },
          "channel_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Channel Id",
            "description": "Discord channel ID"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether monitoring is active",
            "default": true
          },
          "similarity_threshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Similarity Threshold",
            "description": "Minimum similarity score (0.0-1.0) for matches"
          },
          "dataset_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Dataset Tags",
            "description": "Dataset tags to check against"
          },
          "previously_seen_autopublish_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Previously Seen Autopublish Threshold",
            "description": "Per-channel override for auto-publish threshold"
          },
          "previously_seen_autorequest_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Previously Seen Autorequest Threshold",
            "description": "Per-channel override for auto-request threshold"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By",
            "description": "Discord user ID of admin creating config"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "community_server_id",
          "channel_id"
        ],
        "title": "MonitoredChannelCreateAttributes",
        "description": "Attributes for creating a monitored channel via JSON:API."
      },
      "MonitoredChannelCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "monitored-channels",
            "title": "Type",
            "description": "Resource type must be 'monitored-channels'"
          },
          "attributes": {
            "$ref": "#/components/schemas/MonitoredChannelCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "MonitoredChannelCreateData",
        "description": "JSON:API data object for monitored channel creation."
      },
      "MonitoredChannelCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/MonitoredChannelCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "MonitoredChannelCreateRequest",
        "description": "JSON:API request body for creating a monitored channel."
      },
      "MonitoredChannelListJSONAPIResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/MonitoredChannelResource"
            },
            "type": "array",
            "title": "Data"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          },
          "meta": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPIMeta"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "MonitoredChannelListJSONAPIResponse",
        "description": "JSON:API response for a list of monitored channel resources."
      },
      "MonitoredChannelResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "monitored-channels"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/MonitoredChannelAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "MonitoredChannelResource",
        "description": "JSON:API resource object for a monitored channel."
      },
      "MonitoredChannelSingleResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/MonitoredChannelResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "MonitoredChannelSingleResponse",
        "description": "JSON:API response for a single monitored channel resource."
      },
      "MonitoredChannelUpdateAttributes": {
        "properties": {
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled",
            "description": "Whether monitoring is active"
          },
          "similarity_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Similarity Threshold",
            "description": "Minimum similarity score (0.0-1.0) for matches"
          },
          "dataset_tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dataset Tags",
            "description": "Dataset tags to check against"
          },
          "previously_seen_autopublish_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Previously Seen Autopublish Threshold",
            "description": "Per-channel override for auto-publish threshold"
          },
          "previously_seen_autorequest_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Previously Seen Autorequest Threshold",
            "description": "Per-channel override for auto-request threshold"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By",
            "description": "Discord user ID of admin updating config"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "MonitoredChannelUpdateAttributes",
        "description": "Attributes for updating a monitored channel via JSON:API."
      },
      "MonitoredChannelUpdateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "monitored-channels",
            "title": "Type",
            "description": "Resource type must be 'monitored-channels'"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Monitored channel ID"
          },
          "attributes": {
            "$ref": "#/components/schemas/MonitoredChannelUpdateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "id",
          "attributes"
        ],
        "title": "MonitoredChannelUpdateData",
        "description": "JSON:API data object for monitored channel update."
      },
      "MonitoredChannelUpdateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/MonitoredChannelUpdateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "MonitoredChannelUpdateRequest",
        "description": "JSON:API request body for updating a monitored channel."
      },
      "NextTierInfo": {
        "properties": {
          "tier": {
            "type": "string",
            "title": "Tier",
            "description": "Name of the next tier"
          },
          "notes_needed": {
            "type": "integer",
            "title": "Notes Needed",
            "description": "Total notes needed to reach next tier"
          },
          "notes_to_upgrade": {
            "type": "integer",
            "title": "Notes To Upgrade",
            "description": "Additional notes needed (negative means already exceeded)"
          }
        },
        "type": "object",
        "required": [
          "tier",
          "notes_needed",
          "notes_to_upgrade"
        ],
        "title": "NextTierInfo"
      },
      "NoteClassification": {
        "type": "string",
        "enum": [
          "NOT_MISLEADING",
          "MISINFORMED_OR_POTENTIALLY_MISLEADING"
        ],
        "title": "NoteClassification"
      },
      "NoteCreateAttributes": {
        "properties": {
          "summary": {
            "type": "string",
            "minLength": 1,
            "title": "Summary",
            "description": "Note summary text"
          },
          "classification": {
            "$ref": "#/components/schemas/NoteClassification",
            "description": "Note classification"
          },
          "community_server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Community Server Id",
            "description": "Community server ID"
          },
          "author_id": {
            "type": "string",
            "format": "uuid",
            "title": "Author Id",
            "description": "Author's user profile ID"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Discord channel ID"
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Id",
            "description": "Request ID this note responds to"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "summary",
          "classification",
          "community_server_id",
          "author_id"
        ],
        "title": "NoteCreateAttributes",
        "description": "Attributes for creating a note via JSON:API."
      },
      "NoteCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "notes",
            "title": "Type",
            "description": "Resource type must be 'notes'"
          },
          "attributes": {
            "$ref": "#/components/schemas/NoteCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "NoteCreateData",
        "description": "JSON:API data object for note creation."
      },
      "NoteCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/NoteCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NoteCreateRequest",
        "description": "JSON:API request body for creating a note."
      },
      "NoteData": {
        "properties": {
          "noteId": {
            "type": "integer",
            "title": "Noteid"
          },
          "noteAuthorParticipantId": {
            "type": "string",
            "title": "Noteauthorparticipantid"
          },
          "createdAtMillis": {
            "type": "integer",
            "title": "Createdatmillis"
          },
          "tweetId": {
            "type": "integer",
            "title": "Tweetid"
          },
          "summary": {
            "type": "string",
            "title": "Summary"
          },
          "classification": {
            "type": "string",
            "title": "Classification"
          }
        },
        "type": "object",
        "required": [
          "noteId",
          "noteAuthorParticipantId",
          "createdAtMillis",
          "tweetId",
          "summary",
          "classification"
        ],
        "title": "NoteData"
      },
      "NoteJSONAPIAttributes": {
        "properties": {
          "author_id": {
            "type": "string",
            "title": "Author Id"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id"
          },
          "summary": {
            "type": "string",
            "title": "Summary"
          },
          "classification": {
            "type": "string",
            "title": "Classification"
          },
          "helpfulness_score": {
            "type": "integer",
            "title": "Helpfulness Score",
            "default": 0
          },
          "status": {
            "type": "string",
            "title": "Status",
            "default": "NEEDS_MORE_RATINGS"
          },
          "ai_generated": {
            "type": "boolean",
            "title": "Ai Generated",
            "default": false
          },
          "ai_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ai Provider"
          },
          "force_published": {
            "type": "boolean",
            "title": "Force Published",
            "default": false
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Id"
          },
          "platform_message_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Message Id"
          },
          "force_published_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Force Published At"
          },
          "ratings_count": {
            "type": "integer",
            "title": "Ratings Count",
            "default": 0
          },
          "community_server_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Community Server Id"
          }
        },
        "type": "object",
        "required": [
          "author_id",
          "summary",
          "classification"
        ],
        "title": "NoteJSONAPIAttributes",
        "description": "Note attributes for JSON:API resource."
      },
      "NoteListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/NoteResource"
            },
            "type": "array",
            "title": "Data"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          },
          "meta": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPIMeta"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NoteListResponse",
        "description": "JSON:API response for a list of note resources."
      },
      "NotePublisherConfigAttributes": {
        "properties": {
          "community_server_id": {
            "type": "string",
            "title": "Community Server Id"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled"
          },
          "threshold": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Threshold"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By"
          }
        },
        "type": "object",
        "required": [
          "community_server_id",
          "enabled"
        ],
        "title": "NotePublisherConfigAttributes",
        "description": "Note publisher config attributes for JSON:API resource."
      },
      "NotePublisherConfigCreateAttributes": {
        "properties": {
          "community_server_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Community Server Id",
            "description": "Discord server/guild ID (platform ID)"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Discord channel ID (None for server-wide)"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether auto-publishing is enabled",
            "default": true
          },
          "threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Threshold",
            "description": "Score threshold for auto-publishing (0.0-1.0)"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By",
            "description": "Discord user ID of admin"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "community_server_id"
        ],
        "title": "NotePublisherConfigCreateAttributes",
        "description": "Attributes for creating a note publisher config via JSON:API."
      },
      "NotePublisherConfigCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "note-publisher-configs",
            "title": "Type",
            "description": "Resource type must be 'note-publisher-configs'"
          },
          "attributes": {
            "$ref": "#/components/schemas/NotePublisherConfigCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "NotePublisherConfigCreateData",
        "description": "JSON:API data object for config creation."
      },
      "NotePublisherConfigCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/NotePublisherConfigCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NotePublisherConfigCreateRequest",
        "description": "JSON:API request body for creating a config."
      },
      "NotePublisherConfigListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/NotePublisherConfigResource"
            },
            "type": "array",
            "title": "Data"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          },
          "meta": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPIMeta"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NotePublisherConfigListResponse",
        "description": "JSON:API response for a list of config resources."
      },
      "NotePublisherConfigResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "note-publisher-configs"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/NotePublisherConfigAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "NotePublisherConfigResource",
        "description": "JSON:API resource object for a note publisher config."
      },
      "NotePublisherConfigSingleResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/NotePublisherConfigResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NotePublisherConfigSingleResponse",
        "description": "JSON:API response for a single config resource."
      },
      "NotePublisherConfigUpdateAttributes": {
        "properties": {
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled",
            "description": "Whether auto-publishing is enabled"
          },
          "threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Threshold",
            "description": "Score threshold for auto-publishing (0.0-1.0)"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By",
            "description": "Discord user ID of admin"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "NotePublisherConfigUpdateAttributes",
        "description": "Attributes for updating a note publisher config via JSON:API."
      },
      "NotePublisherConfigUpdateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "note-publisher-configs",
            "title": "Type",
            "description": "Resource type must be 'note-publisher-configs'"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Config ID"
          },
          "attributes": {
            "$ref": "#/components/schemas/NotePublisherConfigUpdateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "id",
          "attributes"
        ],
        "title": "NotePublisherConfigUpdateData",
        "description": "JSON:API data object for config update."
      },
      "NotePublisherConfigUpdateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/NotePublisherConfigUpdateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NotePublisherConfigUpdateRequest",
        "description": "JSON:API request body for updating a config."
      },
      "NotePublisherPostAttributes": {
        "properties": {
          "note_id": {
            "type": "string",
            "title": "Note Id"
          },
          "original_message_id": {
            "type": "string",
            "title": "Original Message Id"
          },
          "auto_post_message_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auto Post Message Id"
          },
          "channel_id": {
            "type": "string",
            "title": "Channel Id"
          },
          "community_server_id": {
            "type": "string",
            "title": "Community Server Id"
          },
          "score_at_post": {
            "type": "number",
            "title": "Score At Post"
          },
          "confidence_at_post": {
            "type": "string",
            "title": "Confidence At Post"
          },
          "posted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Posted At"
          },
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          }
        },
        "type": "object",
        "required": [
          "note_id",
          "original_message_id",
          "channel_id",
          "community_server_id",
          "score_at_post",
          "confidence_at_post",
          "success"
        ],
        "title": "NotePublisherPostAttributes",
        "description": "Note publisher post attributes for JSON:API resource."
      },
      "NotePublisherPostCreateAttributes": {
        "properties": {
          "note_id": {
            "type": "string",
            "title": "Note Id",
            "description": "UUID of the published note"
          },
          "original_message_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Original Message Id",
            "description": "Original Discord message ID"
          },
          "auto_post_message_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64
              },
              {
                "type": "null"
              }
            ],
            "title": "Auto Post Message Id",
            "description": "Auto-posted Discord message ID"
          },
          "channel_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Channel Id",
            "description": "Discord channel ID"
          },
          "community_server_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Community Server Id",
            "description": "Discord server/guild ID (platform ID)"
          },
          "score_at_post": {
            "type": "number",
            "title": "Score At Post",
            "description": "Score at time of posting"
          },
          "confidence_at_post": {
            "type": "string",
            "maxLength": 32,
            "title": "Confidence At Post",
            "description": "Confidence level at posting"
          },
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether the post was successful"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error message if post failed"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "note_id",
          "original_message_id",
          "channel_id",
          "community_server_id",
          "score_at_post",
          "confidence_at_post",
          "success"
        ],
        "title": "NotePublisherPostCreateAttributes",
        "description": "Attributes for creating a note publisher post via JSON:API."
      },
      "NotePublisherPostCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "note-publisher-posts",
            "title": "Type",
            "description": "Resource type must be 'note-publisher-posts'"
          },
          "attributes": {
            "$ref": "#/components/schemas/NotePublisherPostCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "NotePublisherPostCreateData",
        "description": "JSON:API data object for post creation."
      },
      "NotePublisherPostCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/NotePublisherPostCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NotePublisherPostCreateRequest",
        "description": "JSON:API request body for creating a post record."
      },
      "NotePublisherPostListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/NotePublisherPostResource"
            },
            "type": "array",
            "title": "Data"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          },
          "meta": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPIMeta"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NotePublisherPostListResponse",
        "description": "JSON:API response for a list of post resources."
      },
      "NotePublisherPostResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "note-publisher-posts"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/NotePublisherPostAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "NotePublisherPostResource",
        "description": "JSON:API resource object for a note publisher post."
      },
      "NotePublisherPostSingleResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/NotePublisherPostResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NotePublisherPostSingleResponse",
        "description": "JSON:API response for a single post resource."
      },
      "NoteRequestsCreateAttributes": {
        "properties": {
          "message_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 1,
            "title": "Message Ids",
            "description": "List of message IDs to create note requests for"
          },
          "generate_ai_notes": {
            "type": "boolean",
            "title": "Generate Ai Notes",
            "description": "Whether to generate AI draft notes",
            "default": false
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "message_ids"
        ],
        "title": "NoteRequestsCreateAttributes",
        "description": "Attributes for creating note requests from flagged messages."
      },
      "NoteRequestsCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "note-requests",
            "title": "Type",
            "description": "Resource type must be 'note-requests'"
          },
          "attributes": {
            "$ref": "#/components/schemas/NoteRequestsCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "NoteRequestsCreateData",
        "description": "JSON:API data object for note requests creation."
      },
      "NoteRequestsCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/NoteRequestsCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NoteRequestsCreateRequest",
        "description": "JSON:API request body for creating note requests."
      },
      "NoteRequestsResultAttributes": {
        "properties": {
          "created_count": {
            "type": "integer",
            "title": "Created Count",
            "description": "Number of note requests created"
          },
          "request_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Request Ids",
            "description": "Created request IDs"
          }
        },
        "type": "object",
        "required": [
          "created_count"
        ],
        "title": "NoteRequestsResultAttributes",
        "description": "Attributes for note requests creation result."
      },
      "NoteRequestsResultResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "note-request-batches"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/NoteRequestsResultAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "NoteRequestsResultResource",
        "description": "JSON:API resource for note requests creation result."
      },
      "NoteRequestsResultResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/NoteRequestsResultResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NoteRequestsResultResponse",
        "description": "JSON:API response for note requests creation."
      },
      "NoteResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "notes"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/NoteJSONAPIAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "NoteResource",
        "description": "JSON:API resource object for a note."
      },
      "NoteScoreAttributes": {
        "properties": {
          "score": {
            "type": "number",
            "title": "Score",
            "description": "Normalized score value (0.0-1.0)"
          },
          "confidence": {
            "type": "string",
            "title": "Confidence",
            "description": "Confidence level: no_data, provisional, or standard"
          },
          "algorithm": {
            "type": "string",
            "title": "Algorithm",
            "description": "Scoring algorithm used"
          },
          "rating_count": {
            "type": "integer",
            "title": "Rating Count",
            "description": "Number of ratings contributing to the score"
          },
          "tier": {
            "type": "integer",
            "title": "Tier",
            "description": "Current scoring tier level (0-5)"
          },
          "tier_name": {
            "type": "string",
            "title": "Tier Name",
            "description": "Human-readable tier name"
          },
          "calculated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Calculated At",
            "description": "Timestamp when score was calculated"
          },
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content",
            "description": "Message content from archive"
          }
        },
        "type": "object",
        "required": [
          "score",
          "confidence",
          "algorithm",
          "rating_count",
          "tier",
          "tier_name"
        ],
        "title": "NoteScoreAttributes",
        "description": "Attributes for note score resource."
      },
      "NoteScoreListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/NoteScoreResource"
            },
            "type": "array",
            "title": "Data"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          },
          "meta": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Meta"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NoteScoreListResponse",
        "description": "JSON:API response for a list of note score resources."
      },
      "NoteScoreResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "note-scores"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/NoteScoreAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "NoteScoreResource",
        "description": "JSON:API resource object for a note score."
      },
      "NoteScoreSingleResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/NoteScoreResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NoteScoreSingleResponse",
        "description": "JSON:API response for a single note score resource."
      },
      "NoteSingleResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/NoteResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NoteSingleResponse",
        "description": "JSON:API response for a single note resource."
      },
      "NoteStatsAttributes": {
        "properties": {
          "total_notes": {
            "type": "integer",
            "title": "Total Notes"
          },
          "helpful_notes": {
            "type": "integer",
            "title": "Helpful Notes"
          },
          "not_helpful_notes": {
            "type": "integer",
            "title": "Not Helpful Notes"
          },
          "pending_notes": {
            "type": "integer",
            "title": "Pending Notes"
          },
          "average_helpfulness_score": {
            "type": "number",
            "title": "Average Helpfulness Score"
          }
        },
        "type": "object",
        "required": [
          "total_notes",
          "helpful_notes",
          "not_helpful_notes",
          "pending_notes",
          "average_helpfulness_score"
        ],
        "title": "NoteStatsAttributes",
        "description": "Attributes for note statistics resource."
      },
      "NoteStatsResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "note-stats"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "default": "aggregate"
          },
          "attributes": {
            "$ref": "#/components/schemas/NoteStatsAttributes"
          }
        },
        "type": "object",
        "required": [
          "attributes"
        ],
        "title": "NoteStatsResource",
        "description": "JSON:API resource object for note statistics."
      },
      "NoteStatsSingleResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/NoteStatsResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NoteStatsSingleResponse",
        "description": "JSON:API response for note statistics."
      },
      "NoteStatus": {
        "type": "string",
        "enum": [
          "NEEDS_MORE_RATINGS",
          "CURRENTLY_RATED_HELPFUL",
          "CURRENTLY_RATED_NOT_HELPFUL"
        ],
        "title": "NoteStatus"
      },
      "NoteUpdateAttributes": {
        "properties": {
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary",
            "description": "Updated note summary"
          },
          "classification": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/NoteClassification"
              },
              {
                "type": "null"
              }
            ],
            "description": "Updated classification"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "NoteUpdateAttributes",
        "description": "Attributes for updating a note via JSON:API."
      },
      "NoteUpdateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "notes",
            "title": "Type",
            "description": "Resource type must be 'notes'"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Note ID being updated"
          },
          "attributes": {
            "$ref": "#/components/schemas/NoteUpdateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "id",
          "attributes"
        ],
        "title": "NoteUpdateData",
        "description": "JSON:API data object for note update."
      },
      "NoteUpdateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/NoteUpdateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NoteUpdateRequest",
        "description": "JSON:API request body for updating a note."
      },
      "OpenAIModerationMatch": {
        "properties": {
          "scan_type": {
            "type": "string",
            "const": "openai_moderation",
            "title": "Scan Type",
            "default": "openai_moderation"
          },
          "max_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Max Score",
            "description": "Max moderation score"
          },
          "categories": {
            "additionalProperties": {
              "type": "boolean"
            },
            "type": "object",
            "title": "Categories",
            "description": "Moderation categories"
          },
          "scores": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Scores",
            "description": "Category scores"
          },
          "flagged_categories": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Flagged Categories",
            "description": "Flagged category names"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "max_score",
          "categories",
          "scores"
        ],
        "title": "OpenAIModerationMatch",
        "description": "Match result from OpenAI moderation scan."
      },
      "ParticipantStatsAttributes": {
        "properties": {
          "notes_created": {
            "type": "integer",
            "title": "Notes Created"
          },
          "ratings_given": {
            "type": "integer",
            "title": "Ratings Given"
          },
          "average_helpfulness_received": {
            "type": "number",
            "title": "Average Helpfulness Received"
          },
          "top_classification": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Top Classification"
          }
        },
        "type": "object",
        "required": [
          "notes_created",
          "ratings_given",
          "average_helpfulness_received"
        ],
        "title": "ParticipantStatsAttributes",
        "description": "Attributes for participant statistics resource."
      },
      "ParticipantStatsResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "participant-stats"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/ParticipantStatsAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "ParticipantStatsResource",
        "description": "JSON:API resource object for participant statistics."
      },
      "ParticipantStatsSingleResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ParticipantStatsResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ParticipantStatsSingleResponse",
        "description": "JSON:API response for participant statistics."
      },
      "PerformanceMetrics": {
        "properties": {
          "avg_scoring_time_ms": {
            "type": "number",
            "title": "Avg Scoring Time Ms",
            "description": "Average scoring time in milliseconds"
          },
          "last_scoring_time_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Scoring Time Ms",
            "description": "Last scoring operation time in milliseconds"
          },
          "scorer_success_rate": {
            "type": "number",
            "title": "Scorer Success Rate",
            "description": "Success rate for scoring operations (0.0-1.0)"
          },
          "total_scoring_operations": {
            "type": "integer",
            "title": "Total Scoring Operations",
            "description": "Total number of scoring operations performed",
            "default": 0
          },
          "failed_scoring_operations": {
            "type": "integer",
            "title": "Failed Scoring Operations",
            "description": "Number of failed scoring operations",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "avg_scoring_time_ms",
          "scorer_success_rate"
        ],
        "title": "PerformanceMetrics"
      },
      "PreviouslySeenCheckAttributes": {
        "properties": {
          "message_text": {
            "type": "string",
            "maxLength": 50000,
            "minLength": 1,
            "title": "Message Text",
            "description": "Message text to check"
          },
          "platform_community_server_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Platform Community Server Id",
            "description": "Platform-specific community server ID (e.g., Discord guild ID)"
          },
          "channel_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Channel Id",
            "description": "Discord channel ID"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "message_text",
          "platform_community_server_id",
          "channel_id"
        ],
        "title": "PreviouslySeenCheckAttributes",
        "description": "Attributes for checking previously seen messages via JSON:API."
      },
      "PreviouslySeenCheckData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "previously-seen-check",
            "title": "Type",
            "description": "Resource type must be 'previously-seen-check'"
          },
          "attributes": {
            "$ref": "#/components/schemas/PreviouslySeenCheckAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "PreviouslySeenCheckData",
        "description": "JSON:API data object for previously seen message check."
      },
      "PreviouslySeenCheckRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/PreviouslySeenCheckData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "PreviouslySeenCheckRequest",
        "description": "JSON:API request body for checking previously seen messages."
      },
      "PreviouslySeenCheckResultAttributes": {
        "properties": {
          "should_auto_publish": {
            "type": "boolean",
            "title": "Should Auto Publish"
          },
          "should_auto_request": {
            "type": "boolean",
            "title": "Should Auto Request"
          },
          "autopublish_threshold": {
            "type": "number",
            "title": "Autopublish Threshold"
          },
          "autorequest_threshold": {
            "type": "number",
            "title": "Autorequest Threshold"
          },
          "matches": {
            "items": {
              "$ref": "#/components/schemas/PreviouslySeenMatchResource"
            },
            "type": "array",
            "title": "Matches"
          },
          "top_match": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PreviouslySeenMatchResource"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "should_auto_publish",
          "should_auto_request",
          "autopublish_threshold",
          "autorequest_threshold",
          "matches"
        ],
        "title": "PreviouslySeenCheckResultAttributes",
        "description": "Attributes for previously seen check result."
      },
      "PreviouslySeenCheckResultResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "previously-seen-check-result"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/PreviouslySeenCheckResultAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "PreviouslySeenCheckResultResource",
        "description": "JSON:API resource object for check results."
      },
      "PreviouslySeenCheckResultResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/PreviouslySeenCheckResultResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "PreviouslySeenCheckResultResponse",
        "description": "JSON:API response for previously seen check results."
      },
      "PreviouslySeenMatchResource": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "community_server_id": {
            "type": "string",
            "title": "Community Server Id"
          },
          "original_message_id": {
            "type": "string",
            "title": "Original Message Id"
          },
          "published_note_id": {
            "type": "string",
            "title": "Published Note Id"
          },
          "embedding_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding Provider"
          },
          "embedding_model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding Model"
          },
          "extra_metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extra Metadata"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "similarity_score": {
            "type": "number",
            "title": "Similarity Score"
          }
        },
        "type": "object",
        "required": [
          "id",
          "community_server_id",
          "original_message_id",
          "published_note_id",
          "similarity_score"
        ],
        "title": "PreviouslySeenMatchResource",
        "description": "JSON:API resource for a match in check results."
      },
      "PreviouslySeenMessageAttributes": {
        "properties": {
          "community_server_id": {
            "type": "string",
            "title": "Community Server Id"
          },
          "original_message_id": {
            "type": "string",
            "title": "Original Message Id"
          },
          "published_note_id": {
            "type": "string",
            "title": "Published Note Id"
          },
          "embedding_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding Provider"
          },
          "embedding_model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding Model"
          },
          "extra_metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extra Metadata"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "community_server_id",
          "original_message_id",
          "published_note_id"
        ],
        "title": "PreviouslySeenMessageAttributes",
        "description": "Previously seen message attributes for JSON:API resource."
      },
      "PreviouslySeenMessageCreateAttributes": {
        "properties": {
          "community_server_id": {
            "type": "string",
            "title": "Community Server Id",
            "description": "Community server UUID"
          },
          "original_message_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Original Message Id",
            "description": "Platform-specific message ID"
          },
          "published_note_id": {
            "type": "string",
            "title": "Published Note Id",
            "description": "Note ID that was published for this message"
          },
          "embedding": {
            "anyOf": [
              {
                "items": {
                  "type": "number"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding",
            "description": "Vector embedding for semantic similarity search (1536 dimensions)"
          },
          "embedding_provider": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding Provider",
            "description": "LLM provider used for embedding generation"
          },
          "embedding_model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding Model",
            "description": "Model name used for embedding generation"
          },
          "extra_metadata": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extra Metadata",
            "description": "Additional context metadata"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "community_server_id",
          "original_message_id",
          "published_note_id"
        ],
        "title": "PreviouslySeenMessageCreateAttributes",
        "description": "Attributes for creating a previously seen message via JSON:API."
      },
      "PreviouslySeenMessageCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "previously-seen-messages",
            "title": "Type",
            "description": "Resource type must be 'previously-seen-messages'"
          },
          "attributes": {
            "$ref": "#/components/schemas/PreviouslySeenMessageCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "PreviouslySeenMessageCreateData",
        "description": "JSON:API data object for previously seen message creation."
      },
      "PreviouslySeenMessageCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/PreviouslySeenMessageCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "PreviouslySeenMessageCreateRequest",
        "description": "JSON:API request body for creating a previously seen message."
      },
      "PreviouslySeenMessageListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/PreviouslySeenMessageResource"
            },
            "type": "array",
            "title": "Data"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          },
          "meta": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPIMeta"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "PreviouslySeenMessageListResponse",
        "description": "JSON:API response for a list of previously seen message resources."
      },
      "PreviouslySeenMessageResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "previously-seen-messages"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/PreviouslySeenMessageAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "PreviouslySeenMessageResource",
        "description": "JSON:API resource object for a previously seen message."
      },
      "PreviouslySeenMessageSingleResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/PreviouslySeenMessageResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "PreviouslySeenMessageSingleResponse",
        "description": "JSON:API response for a single previously seen message resource."
      },
      "ProfileAttributes": {
        "properties": {
          "display_name": {
            "type": "string",
            "title": "Display Name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url"
          },
          "bio": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bio"
          },
          "reputation": {
            "type": "integer",
            "title": "Reputation",
            "default": 0
          },
          "is_opennotes_admin": {
            "type": "boolean",
            "title": "Is Opennotes Admin",
            "default": false
          },
          "is_human": {
            "type": "boolean",
            "title": "Is Human",
            "default": true
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "is_banned": {
            "type": "boolean",
            "title": "Is Banned",
            "default": false
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "display_name"
        ],
        "title": "ProfileAttributes",
        "description": "Profile attributes for JSON:API resource."
      },
      "ProfileResource": {
        "properties": {
          "type": {
            "type": "string",
            "const": "profiles",
            "title": "Type",
            "default": "profiles"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/ProfileAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "ProfileResource",
        "description": "JSON:API resource object for a profile."
      },
      "ProfileSingleResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ProfileResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ProfileSingleResponse",
        "description": "JSON:API response for a single profile resource."
      },
      "ProfileUpdateAttributes": {
        "properties": {
          "display_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url"
          },
          "bio": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bio"
          }
        },
        "type": "object",
        "title": "ProfileUpdateAttributes",
        "description": "Attributes for profile update request."
      },
      "ProfileUpdateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "profiles",
            "title": "Type",
            "default": "profiles"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/ProfileUpdateAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "ProfileUpdateData",
        "description": "JSON:API data object for profile update request."
      },
      "ProfileUpdateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ProfileUpdateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ProfileUpdateRequest",
        "description": "JSON:API request for updating a profile."
      },
      "RatingAttributes": {
        "properties": {
          "note_id": {
            "type": "string",
            "title": "Note Id"
          },
          "rater_id": {
            "type": "string",
            "title": "Rater Id"
          },
          "helpfulness_level": {
            "type": "string",
            "title": "Helpfulness Level"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "note_id",
          "rater_id",
          "helpfulness_level"
        ],
        "title": "RatingAttributes",
        "description": "Rating attributes for JSON:API resource."
      },
      "RatingCreateAttributes": {
        "properties": {
          "note_id": {
            "type": "string",
            "format": "uuid",
            "title": "Note Id",
            "description": "Note ID to rate"
          },
          "rater_id": {
            "type": "string",
            "format": "uuid",
            "title": "Rater Id",
            "description": "Rater's user profile ID"
          },
          "helpfulness_level": {
            "$ref": "#/components/schemas/HelpfulnessLevel",
            "description": "Rating level"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "note_id",
          "rater_id",
          "helpfulness_level"
        ],
        "title": "RatingCreateAttributes",
        "description": "Attributes for creating a rating via JSON:API."
      },
      "RatingCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "ratings",
            "title": "Type",
            "description": "Resource type must be 'ratings'"
          },
          "attributes": {
            "$ref": "#/components/schemas/RatingCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "RatingCreateData",
        "description": "JSON:API data object for rating creation."
      },
      "RatingCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/RatingCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "RatingCreateRequest",
        "description": "JSON:API request body for creating a rating."
      },
      "RatingData": {
        "properties": {
          "raterParticipantId": {
            "type": "string",
            "title": "Raterparticipantid"
          },
          "noteId": {
            "type": "integer",
            "title": "Noteid"
          },
          "createdAtMillis": {
            "type": "integer",
            "title": "Createdatmillis"
          },
          "helpfulnessLevel": {
            "type": "string",
            "title": "Helpfulnesslevel"
          }
        },
        "type": "object",
        "required": [
          "raterParticipantId",
          "noteId",
          "createdAtMillis",
          "helpfulnessLevel"
        ],
        "title": "RatingData"
      },
      "RatingListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/RatingResource"
            },
            "type": "array",
            "title": "Data"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "RatingListResponse",
        "description": "JSON:API response for a list of rating resources."
      },
      "RatingResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "ratings"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/RatingAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "RatingResource",
        "description": "JSON:API resource object for a rating."
      },
      "RatingSingleResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/RatingResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "RatingSingleResponse",
        "description": "JSON:API response for a single rating resource."
      },
      "RatingStatsAttributes": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of ratings"
          },
          "helpful": {
            "type": "integer",
            "title": "Helpful",
            "description": "Number of HELPFUL ratings"
          },
          "somewhat_helpful": {
            "type": "integer",
            "title": "Somewhat Helpful",
            "description": "Number of SOMEWHAT_HELPFUL ratings"
          },
          "not_helpful": {
            "type": "integer",
            "title": "Not Helpful",
            "description": "Number of NOT_HELPFUL ratings"
          },
          "average_score": {
            "type": "number",
            "title": "Average Score",
            "description": "Average score (1-3 scale)"
          }
        },
        "type": "object",
        "required": [
          "total",
          "helpful",
          "somewhat_helpful",
          "not_helpful",
          "average_score"
        ],
        "title": "RatingStatsAttributes",
        "description": "Attributes for rating statistics."
      },
      "RatingStatsResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "rating-stats"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/RatingStatsAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "RatingStatsResource",
        "description": "JSON:API resource object for rating statistics."
      },
      "RatingStatsSingleResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/RatingStatsResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "RatingStatsSingleResponse",
        "description": "JSON:API response for rating statistics."
      },
      "RatingThresholdsResponse": {
        "properties": {
          "min_ratings_needed": {
            "type": "integer",
            "title": "Min Ratings Needed",
            "description": "Minimum number of ratings before a note can receive CRH/CRNH status"
          },
          "min_raters_per_note": {
            "type": "integer",
            "title": "Min Raters Per Note",
            "description": "Minimum number of unique raters required per note"
          }
        },
        "type": "object",
        "required": [
          "min_ratings_needed",
          "min_raters_per_note"
        ],
        "title": "RatingThresholdsResponse"
      },
      "RatingUpdateAttributes": {
        "properties": {
          "helpfulness_level": {
            "$ref": "#/components/schemas/HelpfulnessLevel",
            "description": "Rating level"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "helpfulness_level"
        ],
        "title": "RatingUpdateAttributes",
        "description": "Attributes for updating a rating via JSON:API."
      },
      "RatingUpdateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "ratings",
            "title": "Type",
            "description": "Resource type must be 'ratings'"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Rating ID"
          },
          "attributes": {
            "$ref": "#/components/schemas/RatingUpdateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "id",
          "attributes"
        ],
        "title": "RatingUpdateData",
        "description": "JSON:API data object for rating update."
      },
      "RatingUpdateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/RatingUpdateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "RatingUpdateRequest",
        "description": "JSON:API request body for updating a rating."
      },
      "RecentScanAttributes": {
        "properties": {
          "has_recent_scan": {
            "type": "boolean",
            "title": "Has Recent Scan",
            "description": "Whether community has a recent scan"
          }
        },
        "type": "object",
        "required": [
          "has_recent_scan"
        ],
        "title": "RecentScanAttributes",
        "description": "Attributes for recent scan check."
      },
      "RecentScanResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "bulk-scan-status"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/RecentScanAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "RecentScanResource",
        "description": "JSON:API resource for recent scan status."
      },
      "RecentScanResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/RecentScanResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "RecentScanResponse",
        "description": "JSON:API response for recent scan check."
      },
      "RefreshTokenRequest": {
        "properties": {
          "refresh_token": {
            "type": "string",
            "title": "Refresh Token",
            "description": "The refresh token to use for getting a new access token"
          }
        },
        "type": "object",
        "required": [
          "refresh_token"
        ],
        "title": "RefreshTokenRequest",
        "description": "Request body for refresh token endpoint."
      },
      "RemoveCommunityAdminResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether the operation succeeded"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable result message"
          },
          "profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Profile Id",
            "description": "Profile ID of the affected user"
          },
          "previous_role": {
            "type": "string",
            "title": "Previous Role",
            "description": "User's previous role"
          },
          "new_role": {
            "type": "string",
            "title": "New Role",
            "description": "User's new role"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "success",
          "message",
          "profile_id",
          "previous_role",
          "new_role"
        ],
        "title": "RemoveCommunityAdminResponse",
        "description": "Response schema for admin removal."
      },
      "RequestAttributes": {
        "properties": {
          "request_id": {
            "type": "string",
            "title": "Request Id"
          },
          "requested_by": {
            "type": "string",
            "title": "Requested By"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "default": "PENDING"
          },
          "note_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note Id"
          },
          "community_server_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Community Server Id"
          },
          "requested_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Requested At"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content"
          },
          "platform_message_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Message Id"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          },
          "similarity_score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Similarity Score"
          },
          "dataset_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dataset Name"
          },
          "dataset_item_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dataset Item Id"
          }
        },
        "type": "object",
        "required": [
          "request_id",
          "requested_by"
        ],
        "title": "RequestAttributes",
        "description": "Request attributes for JSON:API resource."
      },
      "RequestCreateAttributes": {
        "properties": {
          "request_id": {
            "type": "string",
            "minLength": 1,
            "title": "Request Id",
            "description": "Unique request identifier"
          },
          "requested_by": {
            "type": "string",
            "title": "Requested By",
            "description": "Requester's participant ID"
          },
          "community_server_id": {
            "type": "string",
            "title": "Community Server Id",
            "description": "Community server ID (Discord guild ID, subreddit, etc.)"
          },
          "original_message_content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Original Message Content",
            "description": "Original message content"
          },
          "platform_message_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Message Id",
            "description": "Platform message ID"
          },
          "platform_channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Channel Id",
            "description": "Platform channel ID"
          },
          "platform_author_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Author Id",
            "description": "Platform author ID"
          },
          "platform_timestamp": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Timestamp",
            "description": "Platform message timestamp"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Request metadata"
          },
          "similarity_score": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Similarity Score",
            "description": "Match similarity score"
          },
          "dataset_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Dataset Name",
            "description": "Source dataset name"
          },
          "dataset_item_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 36
              },
              {
                "type": "null"
              }
            ],
            "title": "Dataset Item Id",
            "description": "Fact-check item ID"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "request_id",
          "requested_by",
          "community_server_id"
        ],
        "title": "RequestCreateAttributes",
        "description": "Attributes for creating a request via JSON:API."
      },
      "RequestCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "requests",
            "title": "Type",
            "description": "Resource type must be 'requests'"
          },
          "attributes": {
            "$ref": "#/components/schemas/RequestCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "RequestCreateData",
        "description": "JSON:API data object for request creation."
      },
      "RequestCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/RequestCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "RequestCreateRequest",
        "description": "JSON:API request body for creating a request."
      },
      "RequestListJSONAPIResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/RequestResource"
            },
            "type": "array",
            "title": "Data"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          },
          "meta": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPIMeta"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "RequestListJSONAPIResponse",
        "description": "JSON:API response for a list of request resources."
      },
      "RequestResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "requests"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/RequestAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "RequestResource",
        "description": "JSON:API resource object for a request."
      },
      "RequestSingleResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/RequestResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "RequestSingleResponse",
        "description": "JSON:API response for a single request resource."
      },
      "RequestStatus": {
        "type": "string",
        "enum": [
          "PENDING",
          "IN_PROGRESS",
          "COMPLETED",
          "FAILED"
        ],
        "title": "RequestStatus"
      },
      "RequestUpdateAttributes": {
        "properties": {
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RequestStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "Updated request status"
          },
          "note_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note Id",
            "description": "Associated note ID"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "RequestUpdateAttributes",
        "description": "Attributes for updating a request via JSON:API."
      },
      "RequestUpdateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "requests",
            "title": "Type",
            "description": "Resource type must be 'requests'"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Request ID being updated"
          },
          "attributes": {
            "$ref": "#/components/schemas/RequestUpdateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "id",
          "attributes"
        ],
        "title": "RequestUpdateData",
        "description": "JSON:API data object for request update."
      },
      "RequestUpdateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/RequestUpdateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "RequestUpdateRequest",
        "description": "JSON:API request body for updating a request."
      },
      "RiskLevel": {
        "type": "string",
        "enum": [
          "Low Risk",
          "Guarded",
          "Heated",
          "Hostile",
          "Dangerous"
        ],
        "title": "RiskLevel",
        "description": "Categorical risk level for conversation flashpoint detection."
      },
      "ScanErrorInfoSchema": {
        "properties": {
          "error_type": {
            "type": "string",
            "title": "Error Type",
            "description": "Type of error (e.g., 'TypeError')"
          },
          "message_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message Id",
            "description": "Message ID that caused error"
          },
          "batch_number": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Batch Number",
            "description": "Batch number where error occurred"
          },
          "error_message": {
            "type": "string",
            "title": "Error Message",
            "description": "Error message details"
          }
        },
        "type": "object",
        "required": [
          "error_type",
          "error_message"
        ],
        "title": "ScanErrorInfoSchema",
        "description": "Error information for a failed message scan."
      },
      "ScanErrorSummarySchema": {
        "properties": {
          "total_errors": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Errors",
            "description": "Total number of errors",
            "default": 0
          },
          "error_types": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Error Types",
            "description": "Count of errors by type"
          },
          "sample_errors": {
            "items": {
              "$ref": "#/components/schemas/ScanErrorInfoSchema"
            },
            "type": "array",
            "title": "Sample Errors",
            "description": "Sample of error messages (up to 5)"
          }
        },
        "type": "object",
        "title": "ScanErrorSummarySchema",
        "description": "Summary of errors encountered during scan."
      },
      "ScoreConfidence": {
        "type": "string",
        "enum": [
          "no_data",
          "provisional",
          "standard"
        ],
        "title": "ScoreConfidence"
      },
      "ScoringResultAttributes": {
        "properties": {
          "scored_notes": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Scored Notes",
            "description": "Scored notes output from the algorithm"
          },
          "helpful_scores": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Helpful Scores",
            "description": "Helpful scores for raters"
          },
          "auxiliary_info": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Auxiliary Info",
            "description": "Auxiliary information from scoring"
          }
        },
        "type": "object",
        "required": [
          "scored_notes",
          "helpful_scores",
          "auxiliary_info"
        ],
        "title": "ScoringResultAttributes",
        "description": "Attributes for scoring result resource."
      },
      "ScoringResultResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "scoring-results"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique identifier for this scoring run"
          },
          "attributes": {
            "$ref": "#/components/schemas/ScoringResultAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "ScoringResultResource",
        "description": "JSON:API resource object for scoring result."
      },
      "ScoringResultResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ScoringResultResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ScoringResultResponse",
        "description": "JSON:API response for scoring result."
      },
      "ScoringRunRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ScoringRunRequestData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ScoringRunRequest",
        "description": "JSON:API request body for scoring run."
      },
      "ScoringRunRequestAttributes": {
        "properties": {
          "notes": {
            "items": {
              "$ref": "#/components/schemas/NoteData"
            },
            "type": "array",
            "title": "Notes",
            "description": "List of community notes to score"
          },
          "ratings": {
            "items": {
              "$ref": "#/components/schemas/RatingData"
            },
            "type": "array",
            "title": "Ratings",
            "description": "List of ratings for the notes"
          },
          "enrollment": {
            "items": {
              "$ref": "#/components/schemas/EnrollmentData"
            },
            "type": "array",
            "title": "Enrollment",
            "description": "List of user enrollment data"
          },
          "status": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "description": "Optional note status history"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "notes",
          "ratings",
          "enrollment"
        ],
        "title": "ScoringRunRequestAttributes",
        "description": "Attributes for scoring run request via JSON:API."
      },
      "ScoringRunRequestData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "scoring-requests",
            "title": "Type",
            "description": "Resource type must be 'scoring-requests'"
          },
          "attributes": {
            "$ref": "#/components/schemas/ScoringRunRequestAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "ScoringRunRequestData",
        "description": "JSON:API data object for scoring run request."
      },
      "ScoringStatusAttributes": {
        "properties": {
          "current_note_count": {
            "type": "integer",
            "title": "Current Note Count",
            "description": "Current total number of notes in the system"
          },
          "active_tier": {
            "$ref": "#/components/schemas/TierInfo",
            "description": "Currently active scoring tier"
          },
          "data_confidence": {
            "type": "string",
            "title": "Data Confidence",
            "description": "Confidence level in scoring results"
          },
          "tier_thresholds": {
            "additionalProperties": {
              "$ref": "#/components/schemas/TierThreshold"
            },
            "type": "object",
            "title": "Tier Thresholds",
            "description": "Threshold information for all tiers"
          },
          "next_tier_upgrade": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/NextTierInfo"
              },
              {
                "type": "null"
              }
            ],
            "description": "Information about the next tier upgrade"
          },
          "performance_metrics": {
            "$ref": "#/components/schemas/PerformanceMetrics",
            "description": "Performance metrics for the scoring system"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Warnings",
            "description": "Any warnings about data quality"
          },
          "configuration": {
            "additionalProperties": true,
            "type": "object",
            "title": "Configuration",
            "description": "Current scoring configuration"
          }
        },
        "type": "object",
        "required": [
          "current_note_count",
          "active_tier",
          "data_confidence",
          "tier_thresholds",
          "performance_metrics"
        ],
        "title": "ScoringStatusAttributes",
        "description": "Attributes for scoring status resource."
      },
      "ScoringStatusJSONAPIResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ScoringStatusResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ScoringStatusJSONAPIResponse",
        "description": "JSON:API response for scoring status."
      },
      "ScoringStatusResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "scoring-status"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "default": "current"
          },
          "attributes": {
            "$ref": "#/components/schemas/ScoringStatusAttributes"
          }
        },
        "type": "object",
        "required": [
          "attributes"
        ],
        "title": "ScoringStatusResource",
        "description": "JSON:API resource object for scoring status."
      },
      "ScrapeProcessingRequest": {
        "properties": {
          "batch_size": {
            "type": "integer",
            "maximum": 10000.0,
            "minimum": 1.0,
            "title": "Batch Size",
            "description": "Maximum number of candidates to process in this batch",
            "default": 1000
          },
          "dry_run": {
            "type": "boolean",
            "title": "Dry Run",
            "description": "Count candidates only, do not perform operation",
            "default": false
          },
          "base_delay": {
            "type": "number",
            "maximum": 30.0,
            "minimum": 0.1,
            "title": "Base Delay",
            "description": "Minimum delay in seconds between requests to the same domain",
            "default": 1.0
          }
        },
        "type": "object",
        "title": "ScrapeProcessingRequest",
        "description": "Request parameters for scraping operations with rate limiting support."
      },
      "ServiceStatus": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Service status: 'healthy', 'degraded', or 'unhealthy'"
          },
          "latency_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latency Ms",
            "description": "Response latency in milliseconds"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Additional status message"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if unhealthy"
          },
          "details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details",
            "description": "Additional details"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "ServiceStatus"
      },
      "SetConfigRequest": {
        "properties": {
          "key": {
            "type": "string",
            "maxLength": 128,
            "minLength": 1,
            "pattern": "^[a-z][a-z0-9_]*$",
            "title": "Key",
            "description": "Configuration key to set (snake_case: lowercase letters, numbers, underscores, must start with letter)"
          },
          "value": {
            "type": "string",
            "maxLength": 10240,
            "title": "Value",
            "description": "Configuration value (stringified)"
          }
        },
        "type": "object",
        "required": [
          "key",
          "value"
        ],
        "title": "SetConfigRequest"
      },
      "SetRatingAttributes": {
        "properties": {
          "rating": {
            "type": "string",
            "minLength": 1,
            "title": "Rating",
            "description": "The rating to set"
          },
          "rating_details": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating Details",
            "description": "Original rating value if normalized"
          },
          "auto_promote": {
            "type": "boolean",
            "title": "Auto Promote",
            "description": "Whether to trigger promotion if candidate is ready",
            "default": false
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "rating"
        ],
        "title": "SetRatingAttributes",
        "description": "Attributes for setting rating on a candidate via JSON:API."
      },
      "SetRatingData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "fact-check-candidates",
            "title": "Type",
            "description": "Resource type must be 'fact-check-candidates'"
          },
          "attributes": {
            "$ref": "#/components/schemas/SetRatingAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "SetRatingData",
        "description": "JSON:API data object for setting rating."
      },
      "SetRatingRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/SetRatingData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SetRatingRequest",
        "description": "JSON:API request body for setting rating on a candidate."
      },
      "SimilarityMatch": {
        "properties": {
          "scan_type": {
            "type": "string",
            "const": "similarity",
            "title": "Scan Type",
            "default": "similarity"
          },
          "score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Score",
            "description": "Similarity score"
          },
          "matched_claim": {
            "type": "string",
            "title": "Matched Claim",
            "description": "Fact-check claim that matched"
          },
          "matched_source": {
            "type": "string",
            "title": "Matched Source",
            "description": "URL to the fact-check source"
          },
          "fact_check_item_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fact Check Item Id",
            "description": "UUID of the matched FactCheckItem"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "score",
          "matched_claim",
          "matched_source"
        ],
        "title": "SimilarityMatch",
        "description": "Match result from similarity scan."
      },
      "SimilaritySearchCreateAttributes": {
        "properties": {
          "text": {
            "type": "string",
            "maxLength": 50000,
            "minLength": 1,
            "title": "Text",
            "description": "Message text to search for similar fact-checks"
          },
          "community_server_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Community Server Id",
            "description": "Community server (guild) ID"
          },
          "dataset_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Dataset Tags",
            "description": "Dataset tags to filter by (e.g., ['snopes', 'politifact'])"
          },
          "similarity_threshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Similarity Threshold",
            "description": "Minimum cosine similarity (0.0-1.0) for semantic search pre-filtering"
          },
          "score_threshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Score Threshold",
            "description": "Minimum CC score (0.0-1.0) for post-fusion filtering",
            "default": 0.1
          },
          "limit": {
            "type": "integer",
            "maximum": 20.0,
            "minimum": 1.0,
            "title": "Limit",
            "description": "Maximum number of results to return",
            "default": 5
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "text",
          "community_server_id"
        ],
        "title": "SimilaritySearchCreateAttributes",
        "description": "Attributes for performing a similarity search via JSON:API."
      },
      "SimilaritySearchCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "similarity-searches",
            "title": "Type",
            "description": "Resource type must be 'similarity-searches'"
          },
          "attributes": {
            "$ref": "#/components/schemas/SimilaritySearchCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "SimilaritySearchCreateData",
        "description": "JSON:API data object for similarity search."
      },
      "SimilaritySearchJSONAPIRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/SimilaritySearchCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SimilaritySearchJSONAPIRequest",
        "description": "JSON:API request body for performing a similarity search."
      },
      "SimilaritySearchResultAttributes": {
        "properties": {
          "matches": {
            "items": {
              "$ref": "#/components/schemas/FactCheckMatchResource"
            },
            "type": "array",
            "title": "Matches",
            "description": "Matching fact-check items"
          },
          "query_text": {
            "type": "string",
            "title": "Query Text",
            "description": "Original query text"
          },
          "dataset_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Dataset Tags",
            "description": "Dataset tags used for filtering"
          },
          "similarity_threshold": {
            "type": "number",
            "title": "Similarity Threshold",
            "description": "Cosine similarity threshold applied"
          },
          "score_threshold": {
            "type": "number",
            "title": "Score Threshold",
            "description": "CC score threshold applied"
          },
          "total_matches": {
            "type": "integer",
            "title": "Total Matches",
            "description": "Number of matches found"
          }
        },
        "type": "object",
        "required": [
          "matches",
          "query_text",
          "dataset_tags",
          "similarity_threshold",
          "score_threshold",
          "total_matches"
        ],
        "title": "SimilaritySearchResultAttributes",
        "description": "Attributes for similarity search result."
      },
      "SimilaritySearchResultResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "similarity-search-results"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/SimilaritySearchResultAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "SimilaritySearchResultResource",
        "description": "JSON:API resource object for similarity search results."
      },
      "SimilaritySearchResultResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/SimilaritySearchResultResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SimilaritySearchResultResponse",
        "description": "JSON:API response for similarity search results."
      },
      "TierInfo": {
        "properties": {
          "level": {
            "type": "integer",
            "title": "Level",
            "description": "Numeric tier level (0-5)"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Human-readable tier name"
          },
          "scorer_components": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scorer Components",
            "description": "List of scorer components active in this tier"
          }
        },
        "type": "object",
        "required": [
          "level",
          "name",
          "scorer_components"
        ],
        "title": "TierInfo"
      },
      "TierThreshold": {
        "properties": {
          "min": {
            "type": "integer",
            "title": "Min",
            "description": "Minimum note count for this tier"
          },
          "max": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max",
            "description": "Maximum note count for this tier (null for unlimited)"
          },
          "current": {
            "type": "boolean",
            "title": "Current",
            "description": "Whether this is the currently active tier"
          }
        },
        "type": "object",
        "required": [
          "min",
          "max",
          "current"
        ],
        "title": "TierThreshold"
      },
      "Token": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "default": "bearer"
          },
          "refresh_token": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Refresh Token"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "expires_in"
        ],
        "title": "Token"
      },
      "UserCreate": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 50,
            "minLength": 3,
            "title": "Username"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "password": {
            "type": "string",
            "maxLength": 72,
            "minLength": 8,
            "title": "Password"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          }
        },
        "type": "object",
        "required": [
          "username",
          "email",
          "password"
        ],
        "title": "UserCreate"
      },
      "UserIdentityResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique identity identifier"
          },
          "profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Profile Id",
            "description": "Associated user profile ID"
          },
          "provider": {
            "$ref": "#/components/schemas/AuthProvider",
            "description": "Authentication provider"
          },
          "provider_user_id": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Provider User Id",
            "description": "User's unique ID on the provider"
          },
          "email_verified": {
            "type": "boolean",
            "title": "Email Verified",
            "description": "Whether email address is verified"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "id",
          "profile_id",
          "provider",
          "provider_user_id",
          "email_verified"
        ],
        "title": "UserIdentityResponse",
        "description": "API response schema for user identity (excludes sensitive fields)."
      },
      "UserProfileLookupAttributes": {
        "properties": {
          "platform": {
            "type": "string",
            "title": "Platform"
          },
          "platform_user_id": {
            "type": "string",
            "title": "Platform User Id"
          },
          "display_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name"
          }
        },
        "type": "object",
        "required": [
          "platform",
          "platform_user_id"
        ],
        "title": "UserProfileLookupAttributes",
        "description": "Attributes for user profile lookup response."
      },
      "UserProfileLookupResource": {
        "properties": {
          "type": {
            "type": "string",
            "const": "user-profiles",
            "title": "Type",
            "default": "user-profiles"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/UserProfileLookupAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "UserProfileLookupResource",
        "description": "JSON:API resource object for user profile lookup response."
      },
      "UserProfileLookupResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/UserProfileLookupResource"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "UserProfileLookupResponse",
        "description": "JSON:API response for user profile lookup."
      },
      "UserProfileResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "display_name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Display Name",
            "description": "User's display name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "URL to user's avatar image"
          },
          "bio": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bio",
            "description": "User biography/description"
          },
          "role": {
            "type": "string",
            "title": "Role",
            "description": "Platform-level role (user, moderator, admin)",
            "default": "user"
          },
          "is_opennotes_admin": {
            "type": "boolean",
            "title": "Is Opennotes Admin",
            "description": "OpenNotes-specific admin flag (grants cross-community admin privileges)",
            "default": false
          },
          "is_human": {
            "type": "boolean",
            "title": "Is Human",
            "description": "Distinguishes human users from bot accounts",
            "default": true
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the profile is active",
            "default": true
          },
          "is_banned": {
            "type": "boolean",
            "title": "Is Banned",
            "description": "Whether the profile is banned",
            "default": false
          },
          "banned_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Banned At",
            "description": "Timestamp when profile was banned"
          },
          "banned_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Banned Reason",
            "description": "Reason for ban"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique profile identifier"
          },
          "reputation": {
            "type": "integer",
            "title": "Reputation",
            "description": "Global reputation score",
            "default": 0
          },
          "identities": {
            "items": {
              "$ref": "#/components/schemas/UserIdentityResponse"
            },
            "type": "array",
            "title": "Identities",
            "description": "Linked authentication identities"
          },
          "community_memberships": {
            "items": {
              "$ref": "#/components/schemas/CommunityMemberResponse"
            },
            "type": "array",
            "title": "Community Memberships",
            "description": "Community memberships"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "created_at",
          "display_name",
          "id"
        ],
        "title": "UserProfileResponse",
        "description": "API response schema for user profile with nested relationships."
      },
      "UserProfileSelfUpdate": {
        "properties": {
          "display_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name",
            "description": "User's display name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "URL to user's avatar image"
          },
          "bio": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bio",
            "description": "User biography/description"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "UserProfileSelfUpdate",
        "description": "Schema for users updating their own profile (self-service).\n\nSecurity: This schema only exposes user-editable fields.\nPrivileged fields (role, is_opennotes_admin, is_banned, etc.) are\nintentionally excluded to prevent privilege escalation attacks.\n\nUse UserProfileAdminUpdate for admin operations on user profiles."
      },
      "UserResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "role": {
            "type": "string",
            "title": "Role"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "is_superuser": {
            "type": "boolean",
            "title": "Is Superuser"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "username",
          "email",
          "full_name",
          "role",
          "is_active",
          "is_superuser",
          "created_at",
          "updated_at"
        ],
        "title": "UserResponse"
      },
      "UserUpdate": {
        "properties": {
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "password": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 72,
                "minLength": 8
              },
              {
                "type": "null"
              }
            ],
            "title": "Password"
          }
        },
        "type": "object",
        "title": "UserUpdate"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "VersionResponse": {
        "properties": {
          "git_sha": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Git Sha",
            "description": "Git commit SHA"
          },
          "build_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Build Date",
            "description": "Build timestamp"
          },
          "revision": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Revision",
            "description": "Cloud Run revision name"
          }
        },
        "type": "object",
        "title": "VersionResponse"
      },
      "WebhookConfigResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "url": {
            "type": "string",
            "title": "Url"
          },
          "community_server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Community Server Id"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id"
          },
          "active": {
            "type": "boolean",
            "title": "Active"
          }
        },
        "type": "object",
        "required": [
          "id",
          "url",
          "community_server_id",
          "active"
        ],
        "title": "WebhookConfigResponse"
      },
      "WebhookConfigSecure": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "url": {
            "type": "string",
            "title": "Url"
          },
          "community_server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Community Server Id"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id"
          },
          "active": {
            "type": "boolean",
            "title": "Active"
          },
          "secret": {
            "type": "string",
            "title": "Secret"
          }
        },
        "type": "object",
        "required": [
          "id",
          "url",
          "community_server_id",
          "active",
          "secret"
        ],
        "title": "WebhookConfigSecure"
      },
      "WebhookCreateRequest": {
        "properties": {
          "url": {
            "type": "string",
            "title": "Url",
            "description": "Webhook URL"
          },
          "secret": {
            "type": "string",
            "title": "Secret",
            "description": "Webhook secret"
          },
          "platform_community_server_id": {
            "type": "string",
            "title": "Platform Community Server Id",
            "description": "Platform-specific community server ID (Discord guild ID, subreddit name, etc.)"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Channel ID (Discord channel ID, etc.)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "url",
          "secret",
          "platform_community_server_id"
        ],
        "title": "WebhookCreateRequest"
      },
      "WebhookUpdateRequest": {
        "properties": {
          "url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Url"
          },
          "secret": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Secret"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id"
          },
          "active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Active"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "WebhookUpdateRequest"
      },
      "WelcomeMessageUpdateRequest": {
        "properties": {
          "welcome_message_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 30
              },
              {
                "type": "null"
              }
            ],
            "title": "Welcome Message Id",
            "description": "Discord message ID of the welcome message, or null to clear"
          }
        },
        "type": "object",
        "required": [
          "welcome_message_id"
        ],
        "title": "WelcomeMessageUpdateRequest",
        "description": "Request model for updating welcome message ID."
      },
      "WelcomeMessageUpdateResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Internal community server UUID"
          },
          "platform_community_server_id": {
            "type": "string",
            "title": "Platform Community Server Id",
            "description": "Platform-specific ID (e.g., Discord guild ID)"
          },
          "welcome_message_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Welcome Message Id",
            "description": "Discord message ID of the welcome message"
          }
        },
        "type": "object",
        "required": [
          "id",
          "platform_community_server_id",
          "welcome_message_id"
        ],
        "title": "WelcomeMessageUpdateResponse",
        "description": "Response model for welcome message update."
      }
    },
    "securitySchemes": {
      "OAuth2PasswordBearer": {
        "type": "oauth2",
        "flows": {
          "password": {
            "scopes": {},
            "tokenUrl": "/api/v1/auth/login"
          }
        }
      },
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}
