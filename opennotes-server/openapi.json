{
  "openapi": "3.1.0",
  "info": {
    "title": "Open Notes Scoring API",
    "version": "0.0.1"
  },
  "paths": {
    "/api/v1/auth/register": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Register",
        "operationId": "register_api_v1_auth_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Login",
        "operationId": "login_api_v1_auth_login_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_login_api_v1_auth_login_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/refresh": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Refresh Access Token",
        "description": "Refresh access token using a refresh token.\n\nThe refresh token must be provided in the request body (not as a query parameter)\nto prevent token leakage in server logs, browser history, and referrer headers.",
        "operationId": "refresh_access_token_api_v1_auth_refresh_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshTokenRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/logout": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Logout",
        "description": "Logout by revoking the provided refresh token and current access token.\n\nOnly revokes the token if it belongs to the current user, preventing\ncross-user token revocation attacks.",
        "operationId": "logout_api_v1_auth_logout_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "refresh_token",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Refresh Token"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/logout-all": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Logout All",
        "operationId": "logout_all_api_v1_auth_logout_all_post",
        "responses": {
          "204": {
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/auth/revoke-token": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Revoke Current Token",
        "operationId": "revoke_current_token_api_v1_auth_revoke_token_post",
        "responses": {
          "204": {
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/auth/revoke-all-tokens": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Revoke All Tokens",
        "operationId": "revoke_all_tokens_api_v1_auth_revoke_all_tokens_post",
        "responses": {
          "204": {
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/users/me": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Get Current User Profile",
        "operationId": "get_current_user_profile_api_v1_users_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      },
      "patch": {
        "tags": [
          "auth"
        ],
        "summary": "Update Current User Profile",
        "operationId": "update_current_user_profile_api_v1_users_me_patch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/users/me/login-history": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Get Login History",
        "operationId": "get_login_history_api_v1_users_me_login_history_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AuditLogResponse"
                  },
                  "title": "Response Get Login History Api V1 Users Me Login History Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/me/api-keys": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "List User Api Keys",
        "operationId": "list_user_api_keys_api_v1_users_me_api_keys_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/APIKeyResponse"
                  },
                  "type": "array",
                  "title": "Response List User Api Keys Api V1 Users Me Api Keys Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Create User Api Key",
        "operationId": "create_user_api_key_api_v1_users_me_api_keys_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/APIKeyCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIKeyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/users/me/api-keys/{api_key_id}": {
      "delete": {
        "tags": [
          "auth"
        ],
        "summary": "Revoke User Api Key",
        "operationId": "revoke_user_api_key_api_v1_users_me_api_keys__api_key_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "api_key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Api Key Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/profile/auth/discord/init": {
      "get": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Init Discord Oauth",
        "description": "Initialize Discord OAuth2 flow with CSRF protection.\n\nThis endpoint:\n1. Generates a cryptographically secure state parameter\n2. Stores the state in Redis with a 10-minute TTL\n3. Returns the Discord authorization URL with the state parameter\n\nThe client should:\n1. Store the returned state value\n2. Redirect the user to the authorization_url\n3. On callback, send both the code AND state to register/login endpoints\n\nSecurity: The state parameter prevents CSRF attacks by ensuring the OAuth\ncallback was initiated by this application.",
        "operationId": "init_discord_oauth_api_v1_profile_auth_discord_init_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DiscordOAuthInitResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/profile/auth/register/discord": {
      "post": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Register Discord",
        "description": "Register a new user with Discord OAuth2.\n\nThis endpoint:\n1. Validates the state parameter against stored state (CSRF protection)\n2. Exchanges the authorization code for an access token\n3. Fetches the user's Discord information to verify identity\n4. Creates a new user profile with verified Discord credentials\n5. Stores OAuth tokens securely in the credentials field\n\nSecurity: Prevents CSRF attacks via state validation and identity spoofing\nby verifying Discord ownership via OAuth2.",
        "operationId": "register_discord_api_v1_profile_auth_register_discord_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DiscordOAuthRegisterRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileResponse-Output"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/profile/auth/register/email": {
      "post": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Register Email",
        "operationId": "register_email_api_v1_profile_auth_register_email_post",
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Email"
            }
          },
          {
            "name": "password",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Password"
            }
          },
          {
            "name": "display_name",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Display Name"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileResponse-Output"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/profile/auth/login/discord": {
      "post": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Login Discord",
        "description": "Login with Discord OAuth2.\n\nThis endpoint:\n1. Validates the state parameter against stored state (CSRF protection)\n2. Exchanges the authorization code for an access token\n3. Fetches the user's Discord information to verify identity\n4. Authenticates the user and issues JWT tokens\n\nSecurity: Prevents CSRF attacks via state validation and verifies\nDiscord account ownership via OAuth2 before login.",
        "operationId": "login_discord_api_v1_profile_auth_login_discord_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DiscordOAuthLoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/profile/auth/login/email": {
      "post": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Login Email",
        "operationId": "login_email_api_v1_profile_auth_login_email_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_login_email_api_v1_profile_auth_login_email_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/profile/auth/verify-email": {
      "post": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Verify Email",
        "description": "Verify a user's email address using the verification token.\n\nThis endpoint:\n1. Validates the verification token exists and hasn't expired\n2. Marks the email as verified\n3. Clears the verification token\n4. Returns the updated profile\n\nArgs:\n    token: The email verification token sent to the user's email\n    db: Database session\n\nReturns:\n    UserProfile: The verified user profile\n\nRaises:\n    HTTPException 400: If token is invalid or expired",
        "operationId": "verify_email_api_v1_profile_auth_verify_email_post",
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileResponse-Output"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/profile/auth/resend-verification": {
      "post": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Resend Verification Email",
        "description": "Resend email verification to a user.\n\nThis endpoint:\n1. Finds the identity by email\n2. Checks if email is already verified\n3. Generates new verification token\n4. Sends new verification email\n\nArgs:\n    email: The email address to resend verification to\n    db: Database session\n\nReturns:\n    dict: Success message\n\nRaises:\n    HTTPException 400: If email not found or already verified",
        "operationId": "resend_verification_email_api_v1_profile_auth_resend_verification_post",
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Email"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Resend Verification Email Api V1 Profile Auth Resend Verification Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/profile/auth/migrate-profile": {
      "post": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Migrate Legacy User To Profile",
        "operationId": "migrate_legacy_user_to_profile_api_v1_profile_auth_migrate_profile_post",
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/profile/me": {
      "get": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Get Current Profile Endpoint",
        "operationId": "get_current_profile_endpoint_api_v1_profile_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileResponse-Output"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      },
      "patch": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Update Current Profile Endpoint",
        "operationId": "update_current_profile_endpoint_api_v1_profile_me_patch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserProfileSelfUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileResponse-Output"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/profile/auth/revoke": {
      "post": {
        "tags": [
          "profile-auth"
        ],
        "summary": "Revoke Profile Token",
        "description": "Revoke the current profile access token.\n\nThis endpoint:\n1. Extracts the token from the Authorization header\n2. Adds the token's JTI to the Redis revocation blacklist\n3. The token will be rejected on future verification attempts\n\nUse this endpoint to invalidate the current access token after logout\nor when a token may be compromised.\n\nNote: Existing tokens without jti claim (created before this feature)\ncannot be revoked individually and will expire naturally.",
        "operationId": "revoke_profile_token_api_v1_profile_auth_revoke_post",
        "responses": {
          "204": {
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/admin/profiles/{profile_id}/opennotes-admin": {
      "patch": {
        "tags": [
          "admin"
        ],
        "summary": "Set Opennotes Admin Status",
        "description": "Grant or revoke Open Notes admin status for a user profile.\n\nOpen Notes admins have cross-community administrative privileges. This endpoint\nis restricted to service accounts only.\n\nArgs:\n    profile_id: UUID of the profile to modify\n    is_admin: True to grant admin status, False to revoke\n    db: Database session\n    service_account: Service account making the request\n\nReturns:\n    UserProfileResponse: Updated profile with new admin status\n\nRaises:\n    HTTPException 404: If profile not found\n    HTTPException 403: If requester is not a service account",
        "operationId": "set_opennotes_admin_status_api_v1_admin_profiles__profile_id__opennotes_admin_patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Profile Id"
            }
          },
          {
            "name": "is_admin",
            "in": "query",
            "required": true,
            "schema": {
              "type": "boolean",
              "title": "Is Admin"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileResponse-Output"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get Opennotes Admin Status",
        "description": "Get the Open Notes admin status for a user profile.\n\nArgs:\n    profile_id: UUID of the profile to check\n    db: Database session\n    _service_account: Service account making the request (required)\n\nReturns:\n    dict: {\"is_opennotes_admin\": bool}\n\nRaises:\n    HTTPException 404: If profile not found\n    HTTPException 403: If requester is not a service account",
        "operationId": "get_opennotes_admin_status_api_v1_admin_profiles__profile_id__opennotes_admin_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Profile Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "boolean"
                  },
                  "title": "Response Get Opennotes Admin Status Api V1 Admin Profiles  Profile Id  Opennotes Admin Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/notes": {
      "get": {
        "tags": [
          "notes-jsonapi"
        ],
        "summary": "List Notes Jsonapi",
        "description": "List notes with JSON:API format.\n\nSupports filtering and pagination per JSON:API specification.\n\nQuery Parameters:\n- page[number]: Page number (default: 1)\n- page[size]: Page size (default: 20, max: 100)\n\nFilter Parameters (equality):\n- filter[status]: Filter by note status (exact match)\n- filter[classification]: Filter by classification\n- filter[community_server_id]: Filter by community server UUID\n- filter[author_participant_id]: Filter by author\n- filter[request_id]: Filter by request ID\n\nFilter Parameters (operators):\n- filter[status__neq]: Exclude notes with this status\n- filter[created_at__gte]: Notes created on or after this datetime\n- filter[created_at__lte]: Notes created on or before this datetime\n- filter[rated_by_participant_id__not_in]: Exclude notes rated by these users\n  (comma-separated list of participant IDs)\n\nReturns JSON:API formatted response with data, jsonapi, links, and meta.",
        "operationId": "list_notes_jsonapi_api_v2_notes_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page[number]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page[Number]"
            }
          },
          {
            "name": "page[size]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page[Size]"
            }
          },
          {
            "name": "filter[status]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/NoteStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Status]"
            }
          },
          {
            "name": "filter[status__neq]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/NoteStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Status  Neq]"
            }
          },
          {
            "name": "filter[classification]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/NoteClassification"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Classification]"
            }
          },
          {
            "name": "filter[community_server_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Community Server Id]"
            }
          },
          {
            "name": "filter[author_participant_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Author Participant Id]"
            }
          },
          {
            "name": "filter[request_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Request Id]"
            }
          },
          {
            "name": "filter[created_at__gte]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Created At  Gte]"
            }
          },
          {
            "name": "filter[created_at__lte]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Created At  Lte]"
            }
          },
          {
            "name": "filter[rated_by_participant_id__not_in]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Rated By Participant Id  Not In]"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "notes-jsonapi"
        ],
        "summary": "Create Note Jsonapi",
        "description": "Create a new note with JSON:API format.\n\nJSON:API 1.0 requires:\n- Request body with 'data' object containing 'type' and 'attributes'\n- Response with 201 Created status\n- Response body with 'data' object containing created resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "create_note_jsonapi_api_v2_notes_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NoteCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/notes/{note_id}": {
      "get": {
        "tags": [
          "notes-jsonapi"
        ],
        "summary": "Get Note Jsonapi",
        "description": "Get a single note by ID with JSON:API format.\n\nReturns JSON:API formatted response with data and jsonapi keys.\nReturns JSON:API error format for 404 and other errors.",
        "operationId": "get_note_jsonapi_api_v2_notes__note_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Note Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "notes-jsonapi"
        ],
        "summary": "Update Note Jsonapi",
        "description": "Update a note with JSON:API format.\n\nJSON:API 1.0 requires:\n- Request body with 'data' object containing 'type', 'id', and 'attributes'\n- The 'id' in the body must match the URL parameter\n- Response with 200 OK status\n- Response body with 'data' object containing updated resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "update_note_jsonapi_api_v2_notes__note_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Note Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NoteUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "notes-jsonapi"
        ],
        "summary": "Delete Note Jsonapi",
        "description": "Delete a note with JSON:API format.\n\nJSON:API 1.0 requires:\n- Response with 204 No Content status on success\n- Response with JSON:API error format on failure\n\nReturns None (204 No Content) on success.",
        "operationId": "delete_note_jsonapi_api_v2_notes__note_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Note Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/notes/{note_id}/force-publish": {
      "post": {
        "tags": [
          "notes-jsonapi"
        ],
        "summary": "Force Publish Note Jsonapi",
        "description": "Force-publish a note with JSON:API format (admin only).\n\nThis endpoint allows administrators to manually publish notes that haven't met\nautomatic publication thresholds. The note is marked with force_published flags\nfor transparency, and the action is logged with admin user ID and timestamp.\n\nRequires admin authentication (service accounts, Open Notes admins, or community admins).\n\nReturns JSON:API formatted response with updated note resource.",
        "operationId": "force_publish_note_jsonapi_api_v2_notes__note_id__force_publish_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Note Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/ratings": {
      "post": {
        "tags": [
          "ratings-jsonapi"
        ],
        "summary": "Create Rating Jsonapi",
        "description": "Create or upsert a rating with JSON:API format.\n\nJSON:API 1.0 requires:\n- Request body with 'data' object containing 'type' and 'attributes'\n- Response with 201 Created status for new rating\n- Response body with 'data' object containing created/updated resource\n\nIf a rating already exists for the same note + rater, it will be updated (upsert).",
        "operationId": "create_rating_jsonapi_api_v2_ratings_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RatingCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/notes/{note_id}/ratings": {
      "get": {
        "tags": [
          "ratings-jsonapi"
        ],
        "summary": "List Note Ratings Jsonapi",
        "description": "List all ratings for a note with JSON:API format.\n\nJSON:API 1.0 requires:\n- Response with 200 OK status\n- 'data' array containing rating resource objects\n- Each resource has 'type', 'id', and 'attributes'\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "list_note_ratings_jsonapi_api_v2_notes__note_id__ratings_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Note Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/ratings/{rating_id}": {
      "put": {
        "tags": [
          "ratings-jsonapi"
        ],
        "summary": "Update Rating Jsonapi",
        "description": "Update an existing rating with JSON:API format.\n\nJSON:API 1.0 requires:\n- Request body with 'data' object containing 'type', 'id', and 'attributes'\n- Response with 200 OK status for updated resource\n- Response body with 'data' object containing updated resource\n\nUsers can only update ratings they submitted or if they are a community admin.\nService accounts can update any rating.",
        "operationId": "update_rating_jsonapi_api_v2_ratings__rating_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "rating_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Rating Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RatingUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/notes/{note_id}/ratings/stats": {
      "get": {
        "tags": [
          "ratings-jsonapi"
        ],
        "summary": "Get Rating Stats Jsonapi",
        "description": "Get rating statistics for a note with JSON:API format.\n\nJSON:API 1.0 requires:\n- Response with 200 OK status\n- 'data' object containing singleton/aggregate resource\n- Resource has 'type', 'id', and 'attributes'\n\nUsers can only view rating stats for notes in communities they are members of.\nService accounts can view all rating stats.",
        "operationId": "get_rating_stats_jsonapi_api_v2_notes__note_id__ratings_stats_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Note Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/profiles/me": {
      "get": {
        "tags": [
          "profiles-jsonapi",
          "profiles-jsonapi"
        ],
        "summary": "Get Current Profile Jsonapi",
        "description": "Get the authenticated user's profile with JSON:API format.\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "get_current_profile_jsonapi_api_v2_profiles_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      },
      "patch": {
        "tags": [
          "profiles-jsonapi",
          "profiles-jsonapi"
        ],
        "summary": "Update Profile Jsonapi",
        "description": "Update the authenticated user's profile with JSON:API format.\n\nAccepts JSON:API formatted request body with data object containing\ntype, id, and attributes.\n\nReturns JSON:API formatted response with updated profile.",
        "operationId": "update_profile_jsonapi_api_v2_profiles_me_patch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProfileUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v2/profiles/me/identities": {
      "get": {
        "tags": [
          "profiles-jsonapi",
          "profiles-jsonapi"
        ],
        "summary": "List User Identities Jsonapi",
        "description": "List all identities linked to the current user's profile with JSON:API format.\n\nReturns JSON:API formatted response with data array and jsonapi keys.\n\nQuery Parameters:\n    limit: Maximum number of identities to return (1-100, default 50)\n    offset: Number of identities to skip (>=0, default 0)",
        "operationId": "list_user_identities_jsonapi_api_v2_profiles_me_identities_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "profiles-jsonapi",
          "profiles-jsonapi"
        ],
        "summary": "Link Identity Jsonapi",
        "description": "Link a new authentication identity to the current user's profile.\n\nJSON:API POST request should use standard JSON:API request body format\nwith data object containing type and attributes.\n\nSecurity: Requires oauth_verified in credentials to prevent linking\naccounts the user doesn't own.",
        "operationId": "link_identity_jsonapi_api_v2_profiles_me_identities_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IdentityCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/profiles/me/identities/{identity_id}": {
      "delete": {
        "tags": [
          "profiles-jsonapi",
          "profiles-jsonapi"
        ],
        "summary": "Unlink Identity Jsonapi",
        "description": "Unlink an authentication identity from the current user's profile.\n\nNote: Cannot unlink the last remaining identity. Users must have at least\none authentication method linked to their profile.\n\nReturns 204 No Content on success.",
        "operationId": "unlink_identity_jsonapi_api_v2_profiles_me_identities__identity_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "identity_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Identity Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/profiles/me/communities": {
      "get": {
        "tags": [
          "profiles-jsonapi",
          "profiles-jsonapi"
        ],
        "summary": "List User Communities Jsonapi",
        "description": "List all communities the current user is a member of with JSON:API format.\n\nReturns JSON:API formatted response with data array and jsonapi keys.\n\nQuery Parameters:\n    limit: Maximum number of communities to return (1-100, default 50)\n    offset: Number of communities to skip (>=0, default 0)",
        "operationId": "list_user_communities_jsonapi_api_v2_profiles_me_communities_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/profiles/{profile_id}": {
      "get": {
        "tags": [
          "profiles-jsonapi",
          "profiles-jsonapi"
        ],
        "summary": "Get Public Profile Jsonapi",
        "description": "Get a public profile by ID with JSON:API format.\n\nReturns JSON:API formatted response with data and jsonapi keys.\nReturns JSON:API error format for 404 and other errors.",
        "operationId": "get_public_profile_jsonapi_api_v2_profiles__profile_id__get",
        "parameters": [
          {
            "name": "profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Profile Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/profiles/{profile_id}/opennotes-admin": {
      "get": {
        "tags": [
          "profiles-jsonapi",
          "profiles-jsonapi"
        ],
        "summary": "Get Admin Status Jsonapi",
        "description": "Get the Open Notes admin status for a user profile.\n\nReturns JSON:API formatted response with admin status data.\n\nSecurity: This endpoint is restricted to service accounts only.",
        "operationId": "get_admin_status_jsonapi_api_v2_profiles__profile_id__opennotes_admin_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Profile Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "profiles-jsonapi",
          "profiles-jsonapi"
        ],
        "summary": "Update Admin Status Jsonapi",
        "description": "Grant or revoke Open Notes admin status for a user profile.\n\nJSON:API PATCH request should use standard JSON:API request body format\nwith data object containing type, id, and attributes.\n\nSecurity: This endpoint is restricted to service accounts only.",
        "operationId": "update_admin_status_jsonapi_api_v2_profiles__profile_id__opennotes_admin_patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Profile Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdminStatusUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/community-servers/lookup": {
      "get": {
        "tags": [
          "community-servers-jsonapi",
          "community-servers-jsonapi"
        ],
        "summary": "Lookup Community Server Jsonapi",
        "description": "Look up a community server by platform and platform ID with JSON:API format.\n\nReturns the internal UUID for a community server based on its platform-specific identifier.\nAuto-creates the community server if it doesn't exist (for service accounts/bots).\n\nArgs:\n    platform: Platform type (default: \"discord\")\n    platform_id: Platform-specific ID (e.g., Discord guild ID)\n\nReturns:\n    JSON:API formatted response with community server details\n\nRaises:\n    404: If community server not found and user is not a service account",
        "operationId": "lookup_community_server_jsonapi_api_v2_community_servers_lookup_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Platform type",
              "default": "discord",
              "title": "Platform"
            },
            "description": "Platform type"
          },
          {
            "name": "platform_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Platform-specific ID (e.g., Discord guild ID)",
              "title": "Platform Id"
            },
            "description": "Platform-specific ID (e.g., Discord guild ID)"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/community-servers/{server_id}": {
      "get": {
        "tags": [
          "community-servers-jsonapi",
          "community-servers-jsonapi"
        ],
        "summary": "Get Community Server Jsonapi",
        "description": "Get a community server by ID with JSON:API format.\n\nReturns JSON:API formatted response with data and jsonapi keys.\nReturns JSON:API error format for 404 and other errors.",
        "operationId": "get_community_server_jsonapi_api_v2_community_servers__server_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/stats/notes": {
      "get": {
        "tags": [
          "stats-jsonapi"
        ],
        "summary": "Get Notes Stats Jsonapi",
        "description": "Get aggregated note statistics in JSON:API format.\n\nReturns statistics about notes including total count, helpful/not helpful counts,\npending count, and average helpfulness score.\n\nQuery Parameters:\n- filter[date_from]: Notes created on or after this datetime\n- filter[date_to]: Notes created on or before this datetime\n- filter[community_server_id]: Filter by community server UUID\n\nUsers can only see stats from communities they are members of.\nService accounts can see all stats.",
        "operationId": "get_notes_stats_jsonapi_api_v2_stats_notes_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "filter[date_from]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Date From]"
            }
          },
          {
            "name": "filter[date_to]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Date To]"
            }
          },
          {
            "name": "filter[community_server_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Community Server Id]"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/stats/participant/{participant_id}": {
      "get": {
        "tags": [
          "stats-jsonapi"
        ],
        "summary": "Get Participant Stats Jsonapi",
        "description": "Get statistics for a specific participant in JSON:API format.\n\nReturns statistics about a participant including notes created, ratings given,\naverage helpfulness received, and top classification.\n\nPath Parameters:\n- participant_id: The participant ID to get statistics for\n\nQuery Parameters:\n- filter[community_server_id]: Filter by community server UUID\n\nUsers can only see stats from communities they are members of.\nService accounts can see all stats.",
        "operationId": "get_participant_stats_jsonapi_api_v2_stats_participant__participant_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "participant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Participant Id"
            }
          },
          {
            "name": "filter[community_server_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Community Server Id]"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/requests": {
      "get": {
        "tags": [
          "requests-jsonapi"
        ],
        "summary": "List Requests Jsonapi",
        "description": "List requests with JSON:API format.\n\nSupports filtering and pagination per JSON:API specification.\n\nQuery Parameters:\n- page[number]: Page number (default: 1)\n- page[size]: Page size (default: 20, max: 100)\n\nFilter Parameters:\n- filter[status]: Filter by request status (PENDING, IN_PROGRESS, COMPLETED, FAILED)\n- filter[community_server_id]: Filter by community server UUID\n- filter[requested_by]: Filter by requester participant ID\n- filter[requested_at__gte]: Requests created on or after this datetime\n- filter[requested_at__lte]: Requests created on or before this datetime\n\nReturns JSON:API formatted response with data, jsonapi, links, and meta.",
        "operationId": "list_requests_jsonapi_api_v2_requests_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page[number]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page[Number]"
            }
          },
          {
            "name": "page[size]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page[Size]"
            }
          },
          {
            "name": "filter[status]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/RequestStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Status]"
            }
          },
          {
            "name": "filter[community_server_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Community Server Id]"
            }
          },
          {
            "name": "filter[requested_by]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Requested By]"
            }
          },
          {
            "name": "filter[requested_at__gte]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Requested At  Gte]"
            }
          },
          {
            "name": "filter[requested_at__lte]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Requested At  Lte]"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "requests-jsonapi"
        ],
        "summary": "Create Request Jsonapi",
        "description": "Create a new request with JSON:API format.\n\nJSON:API 1.1 requires:\n- Request body with 'data' object containing 'type' and 'attributes'\n- Response with 201 Created status\n- Response body with 'data' object containing created resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "create_request_jsonapi_api_v2_requests_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RequestCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/requests/{request_id}": {
      "get": {
        "tags": [
          "requests-jsonapi"
        ],
        "summary": "Get Request Jsonapi",
        "description": "Get a single request by ID with JSON:API format.\n\nReturns JSON:API formatted response with data and jsonapi keys.\nReturns JSON:API error format for 404 and other errors.",
        "operationId": "get_request_jsonapi_api_v2_requests__request_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Request Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "requests-jsonapi"
        ],
        "summary": "Update Request Jsonapi",
        "description": "Update a request with JSON:API format.\n\nJSON:API 1.1 requires:\n- Request body with 'data' object containing 'type', 'id', and 'attributes'\n- The 'id' in the body must match the URL parameter\n- Response with 200 OK status\n- Response body with 'data' object containing updated resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "update_request_jsonapi_api_v2_requests__request_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Request Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RequestUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scoring/status": {
      "get": {
        "tags": [
          "scoring-jsonapi"
        ],
        "summary": "Get Scoring Status Jsonapi",
        "description": "Get system scoring status in JSON:API format.\n\nReturns a singleton resource with current scoring system status including:\n- Current note count\n- Active scoring tier\n- Data confidence level\n- Tier thresholds\n- Next tier upgrade information\n- Performance metrics\n- Warnings",
        "operationId": "get_scoring_status_jsonapi_api_v2_scoring_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scoring/notes/{note_id}/score": {
      "get": {
        "tags": [
          "scoring-jsonapi"
        ],
        "summary": "Get Note Score Jsonapi",
        "description": "Get individual note score in JSON:API format.\n\nUsers can only view scores for notes in communities they are members of.\nService accounts can view all scores.\n\nReturns the calculated score for a specific note along with:\n- Algorithm used for scoring\n- Confidence level based on rating count\n- Current scoring tier information\n- Number of ratings\n- Timestamp of calculation",
        "operationId": "get_note_score_jsonapi_api_v2_scoring_notes__note_id__score_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Note Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scoring/notes/batch-scores": {
      "post": {
        "tags": [
          "scoring-jsonapi"
        ],
        "summary": "Get Batch Scores Jsonapi",
        "description": "Get scores for multiple notes in JSON:API format.\n\nJSON:API request body must contain:\n- data.type: \"batch-score-requests\"\n- data.attributes.note_ids: list of note UUIDs\n\nUsers can only get scores for notes in communities they are members of.\nNotes from other communities will be treated as \"not found\" in the response.\nService accounts can access all notes.\n\nReturns a list of note score resources with meta information about\ntotal requested vs found counts.",
        "operationId": "get_batch_scores_jsonapi_api_v2_scoring_notes_batch_scores_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchScoreJSONAPIRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scoring/notes/top": {
      "get": {
        "tags": [
          "scoring-jsonapi"
        ],
        "summary": "Get Top Notes Jsonapi",
        "description": "Get top-scored notes in JSON:API format.\n\nUsers can only see notes from communities they are members of.\nService accounts can see all notes.\n\nReturns the highest-scored notes with:\n- Score and confidence metadata\n- Tier information\n- Rating counts\n- Optional filtering by confidence level and tier\n\nQuery Parameters:\n- limit: Number of results (1-100, default 10)\n- min_confidence: Filter by confidence level (no_data, provisional, standard)\n- tier: Filter by scoring tier (0-5)\n- batch_size: Processing batch size (100-5000, default 1000)\n- community_server_id: Filter by community server UUID",
        "operationId": "get_top_notes_jsonapi_api_v2_scoring_notes_top_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum number of notes to return",
              "default": 10,
              "title": "Limit"
            },
            "description": "Maximum number of notes to return"
          },
          {
            "name": "min_confidence",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/ScoreConfidence"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Minimum confidence level filter",
              "title": "Min Confidence"
            },
            "description": "Minimum confidence level filter"
          },
          {
            "name": "tier",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 5,
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by scoring tier",
              "title": "Tier"
            },
            "description": "Filter by scoring tier"
          },
          {
            "name": "batch_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 5000,
              "minimum": 100,
              "description": "Batch size for processing",
              "default": 1000,
              "title": "Batch Size"
            },
            "description": "Batch size for processing"
          },
          {
            "name": "community_server_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by community server",
              "title": "Community Server Id"
            },
            "description": "Filter by community server"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/monitored-channels": {
      "get": {
        "tags": [
          "monitored-channels-jsonapi"
        ],
        "summary": "List Monitored Channels Jsonapi",
        "description": "List monitored channels with JSON:API format.\n\nSupports filtering and pagination per JSON:API specification.\n\nQuery Parameters:\n- page[number]: Page number (default: 1)\n- page[size]: Page size (default: 20, max: 100)\n\nFilter Parameters:\n- filter[community_server_id]: Filter by community server platform ID (required)\n- filter[enabled]: Filter by enabled status\n\nReturns JSON:API formatted response with data, jsonapi, links, and meta.",
        "operationId": "list_monitored_channels_jsonapi_api_v2_monitored_channels_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page[number]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page[Number]"
            }
          },
          {
            "name": "page[size]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page[Size]"
            }
          },
          {
            "name": "filter[community_server_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Community Server Id]"
            }
          },
          {
            "name": "filter[enabled]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Enabled]"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "monitored-channels-jsonapi"
        ],
        "summary": "Create Monitored Channel Jsonapi",
        "description": "Create a new monitored channel with JSON:API format.\n\nJSON:API 1.1 requires:\n- Request body with 'data' object containing 'type' and 'attributes'\n- Response with 201 Created status\n- Response body with 'data' object containing created resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "create_monitored_channel_jsonapi_api_v2_monitored_channels_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MonitoredChannelCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/monitored-channels/{channel_uuid}": {
      "get": {
        "tags": [
          "monitored-channels-jsonapi"
        ],
        "summary": "Get Monitored Channel Jsonapi",
        "description": "Get a single monitored channel by ID with JSON:API format.\n\nReturns JSON:API formatted response with data and jsonapi keys.\nReturns JSON:API error format for 404 and other errors.",
        "operationId": "get_monitored_channel_jsonapi_api_v2_monitored_channels__channel_uuid__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "channel_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Channel Uuid"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "monitored-channels-jsonapi"
        ],
        "summary": "Update Monitored Channel Jsonapi",
        "description": "Update a monitored channel with JSON:API format.\n\nJSON:API 1.1 requires:\n- Request body with 'data' object containing 'type', 'id', and 'attributes'\n- The 'id' in the body must match the URL parameter\n- Response with 200 OK status\n- Response body with 'data' object containing updated resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "update_monitored_channel_jsonapi_api_v2_monitored_channels__channel_uuid__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "channel_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Channel Uuid"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MonitoredChannelUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "monitored-channels-jsonapi"
        ],
        "summary": "Delete Monitored Channel Jsonapi",
        "description": "Delete a monitored channel with JSON:API format.\n\nJSON:API 1.1 requires:\n- Response with 204 No Content status on success\n- No response body on success\n- JSON:API error format for errors\n\nReturns 204 No Content on success, JSON:API error on failure.",
        "operationId": "delete_monitored_channel_jsonapi_api_v2_monitored_channels__channel_uuid__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "channel_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Channel Uuid"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/note-publisher-configs": {
      "get": {
        "tags": [
          "note-publisher-jsonapi"
        ],
        "summary": "List Note Publisher Configs Jsonapi",
        "description": "List note publisher configs with JSON:API format.\n\nSupports filtering and pagination per JSON:API specification.\n\nQuery Parameters:\n- page[number]: Page number (default: 1)\n- page[size]: Page size (default: 20, max: 100)\n\nFilter Parameters:\n- filter[community_server_id]: Filter by community server platform ID (required)\n- filter[enabled]: Filter by enabled status\n\nReturns JSON:API formatted response with data, jsonapi, links, and meta.",
        "operationId": "list_note_publisher_configs_jsonapi_api_v2_note_publisher_configs_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page[number]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page[Number]"
            }
          },
          {
            "name": "page[size]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page[Size]"
            }
          },
          {
            "name": "filter[community_server_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Community Server Id]"
            }
          },
          {
            "name": "filter[enabled]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Enabled]"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "note-publisher-jsonapi"
        ],
        "summary": "Create Note Publisher Config Jsonapi",
        "description": "Create a new note publisher config with JSON:API format.\n\nJSON:API 1.1 requires:\n- Request body with 'data' object containing 'type' and 'attributes'\n- Response with 201 Created status\n- Response body with 'data' object containing created resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "create_note_publisher_config_jsonapi_api_v2_note_publisher_configs_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotePublisherConfigCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/note-publisher-configs/{config_uuid}": {
      "get": {
        "tags": [
          "note-publisher-jsonapi"
        ],
        "summary": "Get Note Publisher Config Jsonapi",
        "description": "Get a single note publisher config by ID with JSON:API format.\n\nReturns JSON:API formatted response with data and jsonapi keys.\nReturns JSON:API error format for 404 and other errors.",
        "operationId": "get_note_publisher_config_jsonapi_api_v2_note_publisher_configs__config_uuid__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "config_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Config Uuid"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "note-publisher-jsonapi"
        ],
        "summary": "Update Note Publisher Config Jsonapi",
        "description": "Update a note publisher config with JSON:API format.\n\nJSON:API 1.1 requires:\n- Request body with 'data' object containing 'type', 'id', and 'attributes'\n- The 'id' in the body must match the URL parameter\n- Response with 200 OK status\n- Response body with 'data' object containing updated resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "update_note_publisher_config_jsonapi_api_v2_note_publisher_configs__config_uuid__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "config_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Config Uuid"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotePublisherConfigUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "note-publisher-jsonapi"
        ],
        "summary": "Delete Note Publisher Config Jsonapi",
        "description": "Delete a note publisher config with JSON:API format.\n\nJSON:API 1.1 requires:\n- Response with 204 No Content status on success\n- No response body on success\n- JSON:API error format for errors\n\nReturns 204 No Content on success, JSON:API error on failure.",
        "operationId": "delete_note_publisher_config_jsonapi_api_v2_note_publisher_configs__config_uuid__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "config_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Config Uuid"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/note-publisher-posts": {
      "get": {
        "tags": [
          "note-publisher-jsonapi"
        ],
        "summary": "List Note Publisher Posts Jsonapi",
        "description": "List note publisher posts with JSON:API format.\n\nSupports filtering and pagination per JSON:API specification.\n\nQuery Parameters:\n- page[number]: Page number (default: 1)\n- page[size]: Page size (default: 20, max: 100)\n\nFilter Parameters:\n- filter[community_server_id]: Filter by community server platform ID (required)\n- filter[channel_id]: Filter by Discord channel ID\n- filter[success]: Filter by success status\n\nReturns JSON:API formatted response with data, jsonapi, links, and meta.",
        "operationId": "list_note_publisher_posts_jsonapi_api_v2_note_publisher_posts_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page[number]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page[Number]"
            }
          },
          {
            "name": "page[size]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page[Size]"
            }
          },
          {
            "name": "filter[community_server_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Community Server Id]"
            }
          },
          {
            "name": "filter[channel_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Channel Id]"
            }
          },
          {
            "name": "filter[success]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Success]"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "note-publisher-jsonapi"
        ],
        "summary": "Create Note Publisher Post Jsonapi",
        "description": "Create a new note publisher post record with JSON:API format.\n\nJSON:API 1.1 requires:\n- Request body with 'data' object containing 'type' and 'attributes'\n- Response with 201 Created status\n- Response body with 'data' object containing created resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "create_note_publisher_post_jsonapi_api_v2_note_publisher_posts_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotePublisherPostCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/note-publisher-posts/{post_uuid}": {
      "get": {
        "tags": [
          "note-publisher-jsonapi"
        ],
        "summary": "Get Note Publisher Post Jsonapi",
        "description": "Get a single note publisher post by ID with JSON:API format.\n\nReturns JSON:API formatted response with data and jsonapi keys.\nReturns JSON:API error format for 404 and other errors.",
        "operationId": "get_note_publisher_post_jsonapi_api_v2_note_publisher_posts__post_uuid__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Post Uuid"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/previously-seen-messages": {
      "get": {
        "tags": [
          "previously-seen-jsonapi"
        ],
        "summary": "List Previously Seen Messages Jsonapi",
        "description": "List previously seen messages with JSON:API format.\n\nSupports filtering and pagination per JSON:API specification.\n\nQuery Parameters:\n- page[number]: Page number (default: 1)\n- page[size]: Page size (default: 20, max: 100)\n\nFilter Parameters:\n- filter[community_server_id]: Filter by community server UUID (required)\n\nReturns JSON:API formatted response with data, jsonapi, links, and meta.",
        "operationId": "list_previously_seen_messages_jsonapi_api_v2_previously_seen_messages_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page[number]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page[Number]"
            }
          },
          {
            "name": "page[size]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page[Size]"
            }
          },
          {
            "name": "filter[community_server_id]",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter[Community Server Id]"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "previously-seen-jsonapi"
        ],
        "summary": "Create Previously Seen Message Jsonapi",
        "description": "Create a new previously seen message with JSON:API format.\n\nJSON:API 1.1 requires:\n- Request body with 'data' object containing 'type' and 'attributes'\n- Response with 201 Created status\n- Response body with 'data' object containing created resource\n\nReturns JSON:API formatted response with data and jsonapi keys.",
        "operationId": "create_previously_seen_message_jsonapi_api_v2_previously_seen_messages_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PreviouslySeenMessageCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/previously-seen-messages/{message_uuid}": {
      "get": {
        "tags": [
          "previously-seen-jsonapi"
        ],
        "summary": "Get Previously Seen Message Jsonapi",
        "description": "Get a single previously seen message by ID with JSON:API format.\n\nReturns JSON:API formatted response with data and jsonapi keys.\nReturns JSON:API error format for 404 and other errors.",
        "operationId": "get_previously_seen_message_jsonapi_api_v2_previously_seen_messages__message_uuid__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "message_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Message Uuid"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/previously-seen-messages/check": {
      "post": {
        "tags": [
          "previously-seen-jsonapi"
        ],
        "summary": "Check Previously Seen Jsonapi",
        "description": "Check if a message has been seen before with JSON:API format.\n\nThis endpoint:\n1. Generates an embedding for the message text\n2. Searches for similar previously seen messages\n3. Resolves thresholds (channel override or global config)\n4. Returns action recommendations (auto-publish/auto-request)\n\nJSON:API 1.1 action endpoint that returns check results.",
        "operationId": "check_previously_seen_jsonapi_api_v2_previously_seen_messages_check_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/src__fact_checking__previously_seen_jsonapi_router__PreviouslySeenCheckRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/similarity-searches": {
      "post": {
        "tags": [
          "embeddings-jsonapi"
        ],
        "summary": "Similarity Search Jsonapi",
        "description": "Perform semantic similarity search on fact-check items.\n\nThis endpoint:\n1. Verifies user is authorized member of community server\n2. Validates community server has OpenAI configuration\n3. Generates embedding using text-embedding-3-small (1536 dimensions)\n4. Queries fact_check_items table with pgvector cosine similarity\n5. Filters by dataset_tags (e.g., 'snopes', 'politifact')\n6. Returns top matches above similarity threshold\n\nJSON:API 1.1 action endpoint that returns search results.\n\nRate Limiting:\n- Per-user rate limit: 100 requests/hour\n- Per-community rate limits: Based on configured LLM usage limits\n- OpenAI API rate limits: Automatic detection with retry guidance",
        "operationId": "similarity_search_jsonapi_api_v2_similarity_searches_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/src__fact_checking__embeddings_jsonapi_router__SimilaritySearchRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/hybrid-searches": {
      "post": {
        "tags": [
          "hybrid-searches-jsonapi"
        ],
        "summary": "Hybrid Search Jsonapi",
        "description": "Perform hybrid search on fact-check items combining FTS and semantic similarity.\n\nThis endpoint:\n1. Verifies user is authorized member of community server\n2. Validates community server has OpenAI configuration\n3. Generates embedding using text-embedding-3-small (1536 dimensions)\n4. Executes hybrid search combining:\n   - PostgreSQL full-text search (ts_rank_cd with weighted tsvector)\n   - pgvector embedding similarity (cosine distance)\n5. Uses Reciprocal Rank Fusion (RRF) to combine rankings\n6. Returns top matches ranked by combined RRF score\n\nThe RRF formula: score = 1/(k + rank_semantic) + 1/(k + rank_keyword)\nwhere k=60 is the standard RRF constant.\n\nJSON:API 1.1 action endpoint that returns search results.\n\nRate Limiting:\n- Per-user rate limit: 100 requests/hour\n- Per-community rate limits: Based on configured LLM usage limits\n- OpenAI API rate limits: Automatic detection with retry guidance",
        "operationId": "hybrid_search_jsonapi_api_v2_hybrid_searches_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HybridSearchRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/bulk-scans": {
      "post": {
        "tags": [
          "bulk-scans-jsonapi"
        ],
        "summary": "Initiate Scan",
        "description": "Initiate a new bulk content scan.\n\nJSON:API request body must contain:\n- data.type: \"bulk-scans\"\n- data.attributes.community_server_id: UUID of community to scan\n- data.attributes.scan_window_days: Number of days to scan back (1-30)\n- data.attributes.channel_ids: Optional list of specific channel IDs\n\nAuthorization: Requires admin access to the target community.\nService accounts have unrestricted access.\n\nReturns a bulk-scans resource with scan_id and initial status.",
        "operationId": "initiate_scan_api_v2_bulk_scans_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkScanCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/bulk-scans/{scan_id}": {
      "get": {
        "tags": [
          "bulk-scans-jsonapi"
        ],
        "summary": "Get Scan Results",
        "description": "Get scan status and flagged results.\n\nAuthorization: Requires admin access to the community that was scanned.\nService accounts have unrestricted access.\n\nReturns the bulk scan resource with flagged messages included as related resources.\nUses JSON:API compound documents with 'included' array.",
        "operationId": "get_scan_results_api_v2_bulk_scans__scan_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "scan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Scan Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/bulk-scans/communities/{community_server_id}/recent": {
      "get": {
        "tags": [
          "bulk-scans-jsonapi"
        ],
        "summary": "Check Recent Scan",
        "description": "Check if community has a recent scan within the configured window.\n\nAuthorization: Requires admin access to the specified community.\nService accounts have unrestricted access.\n\nReturns a bulk-scan-status singleton resource with has_recent_scan boolean.",
        "operationId": "check_recent_scan_api_v2_bulk_scans_communities__community_server_id__recent_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/bulk-scans/communities/{community_server_id}/latest": {
      "get": {
        "tags": [
          "bulk-scans-jsonapi"
        ],
        "summary": "Get Latest Scan",
        "description": "Get the most recent scan for a community server.\n\nReturns the latest bulk content scan with full details including:\n- Scan status (pending, in_progress, completed, failed)\n- Message counts (scanned and flagged)\n- Timestamps (initiated_at, completed_at)\n- Flagged messages with match details (if scan is completed)\n\nAuthorization: Requires admin access to the specified community.\nService accounts have unrestricted access.",
        "operationId": "get_latest_scan_api_v2_bulk_scans_communities__community_server_id__latest_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LatestScanResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/bulk-scans/{scan_id}/note-requests": {
      "post": {
        "tags": [
          "bulk-scans-jsonapi"
        ],
        "summary": "Create Note Requests",
        "description": "Create note requests for selected flagged messages.\n\nJSON:API request body must contain:\n- data.type: \"note-requests\"\n- data.attributes.message_ids: List of message IDs from flagged results\n- data.attributes.generate_ai_notes: Whether to generate AI drafts\n\nAuthorization: User must be the scan initiator OR a community admin.\nService accounts have unrestricted access.\n\nReturns a note-request-batches resource with created count and IDs.",
        "operationId": "create_note_requests_api_v2_bulk_scans__scan_id__note_requests_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "scan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Scan Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NoteRequestsCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/notes": {
      "post": {
        "tags": [
          "notes"
        ],
        "summary": "Create Note",
        "description": "Create a new community note",
        "operationId": "create_note_api_v1_notes_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NoteCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "notes"
        ],
        "summary": "List Notes",
        "description": "List notes with filters and pagination.\n\nUsers can only see notes from communities they are members of.\nService accounts can see all notes.",
        "operationId": "list_notes_api_v1_notes_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Size"
            }
          },
          {
            "name": "author_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Author Id"
            }
          },
          {
            "name": "request_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Request Id"
            }
          },
          {
            "name": "status_filter",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/NoteStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status Filter"
            }
          },
          {
            "name": "classification",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/NoteClassification"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Classification"
            }
          },
          {
            "name": "date_from",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Date From"
            }
          },
          {
            "name": "date_to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Date To"
            }
          },
          {
            "name": "community_server_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Community Server Id"
            }
          },
          {
            "name": "rated_by_participant_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Rated By Participant Id"
            }
          },
          {
            "name": "exclude_status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/NoteStatus"
                  }
                },
                {
                  "type": "null"
                }
              ],
              "title": "Exclude Status"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/notes/{note_id}": {
      "get": {
        "tags": [
          "notes"
        ],
        "summary": "Get Note",
        "description": "Get a specific note by ID.\n\nUsers can only view notes from communities they are members of.\nService accounts can view all notes.",
        "operationId": "get_note_api_v1_notes__note_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Note Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "notes"
        ],
        "summary": "Update Note",
        "description": "Update a note.\n\nDeprecated: Use JSON:API endpoint PATCH /jsonapi/notes/{note_id} instead.\n\nUsers can only update notes they authored or if they are a community admin.\nService accounts can update any note.",
        "operationId": "update_note_api_v1_notes__note_id__patch",
        "deprecated": true,
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Note Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NoteUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "notes"
        ],
        "summary": "Delete Note",
        "description": "Delete a note.\n\nUsers can only delete notes they authored or if they are a community admin.\nService accounts can delete any note.",
        "operationId": "delete_note_api_v1_notes__note_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Note Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/notes/{note_id}/force-publish": {
      "post": {
        "tags": [
          "notes"
        ],
        "summary": "Force Publish Note",
        "description": "Force-publish a note (admin only).\n\nThis endpoint allows administrators to manually publish notes that haven't met\nautomatic publication thresholds. The note is marked with force_published flags\nfor transparency, and the action is logged with admin user ID and timestamp.\n\nRequires admin authentication (service accounts, Open Notes admins, or community admins).",
        "operationId": "force_publish_note_api_v1_notes__note_id__force_publish_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Note Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/requests": {
      "post": {
        "tags": [
          "requests"
        ],
        "summary": "Create Request",
        "description": "Create a new note request",
        "operationId": "create_request_api_v1_requests_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RequestCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RequestResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "requests"
        ],
        "summary": "List Requests",
        "description": "List requests with filters and pagination.\n\nUsers can only see requests from communities they are members of.\nService accounts can see all requests.",
        "operationId": "list_requests_api_v1_requests_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Size"
            }
          },
          {
            "name": "status_filter",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/RequestStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status Filter"
            }
          },
          {
            "name": "requested_by",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Requested By"
            }
          },
          {
            "name": "date_from",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Date From"
            }
          },
          {
            "name": "date_to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Date To"
            }
          },
          {
            "name": "community_server_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RequestListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/requests/{request_id}": {
      "get": {
        "tags": [
          "requests"
        ],
        "summary": "Get Request",
        "description": "Get a specific request.\n\nUsers can only view requests from communities they are members of.\nService accounts can view all requests.",
        "operationId": "get_request_api_v1_requests__request_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Request Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RequestResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "requests"
        ],
        "summary": "Update Request",
        "description": "Update a request status.\n\nUsers can only update requests they created or if they are a community admin.\nService accounts can update any request.",
        "operationId": "update_request_api_v1_requests__request_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Request Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RequestUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RequestResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/requests/{request_id}/generate-ai-note": {
      "post": {
        "tags": [
          "requests"
        ],
        "summary": "Generate Ai Note",
        "description": "Generate an AI-powered note for a specific request.\n\nThis endpoint triggers on-demand AI note generation for requests that have\nassociated fact-check data. The AI will analyze the original message and\nthe matched fact-check information to generate a helpful community note.\n\nRequirements:\n- Request must exist and have fact-check metadata (dataset_item_id, similarity_score, dataset_name)\n- AI note writing must be enabled for the community server\n- Rate limits: 5 per minute, 20 per hour\n\nReturns:\n    NoteResponse: The generated AI note",
        "operationId": "generate_ai_note_api_v1_requests__request_id__generate_ai_note_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Request Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/stats/notes": {
      "get": {
        "tags": [
          "stats"
        ],
        "summary": "Get Notes Stats",
        "description": "Get aggregated note statistics.\n\nUsers can only see stats from communities they are members of.\nService accounts can see all stats.",
        "operationId": "get_notes_stats_api_v1_stats_notes_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "date_from",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Date From"
            }
          },
          {
            "name": "date_to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Date To"
            }
          },
          {
            "name": "community_server_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteSummaryStats"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/stats/participant/{participant_id}": {
      "get": {
        "tags": [
          "stats"
        ],
        "summary": "Get Participant Stats",
        "description": "Get statistics for a specific participant.\n\nUsers can only see stats from communities they are members of.\nService accounts can see all stats.",
        "operationId": "get_participant_stats_api_v1_stats_participant__participant_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "participant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Participant Id"
            }
          },
          {
            "name": "community_server_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ParticipantStats"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/scoring/status": {
      "get": {
        "tags": [
          "scoring"
        ],
        "summary": "Get Scoring Status",
        "operationId": "get_scoring_status_api_v1_scoring_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScoringStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/scoring/notes/{note_id}/score": {
      "get": {
        "tags": [
          "scoring"
        ],
        "summary": "Get Note Score",
        "description": "Get individual note score with metadata.\n\nUsers can only view scores for notes in communities they are members of.\nService accounts can view all scores.\n\nReturns the calculated score for a specific note along with:\n- Algorithm used for scoring\n- Confidence level based on rating count\n- Current scoring tier information\n- Number of ratings\n- Timestamp of calculation\n\nReturns:\n    - 200: Score calculated successfully\n    - 403: User not member of note's community\n    - 404: Note not found\n    - 500: Server error",
        "operationId": "get_note_score_api_v1_scoring_notes__note_id__score_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Note Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteScoreResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/scoring/notes/batch-scores": {
      "post": {
        "tags": [
          "scoring"
        ],
        "summary": "Get Batch Note Scores",
        "description": "Get scores for multiple notes in a single request.\n\nUsers can only get scores for notes in communities they are members of.\nNotes from other communities will be treated as \"not found\" in the response.\nService accounts can access all notes.\n\nEfficiently retrieves scores for multiple notes to prevent N+1 query patterns.\nReturns a map of note IDs to their score responses, along with a list of\nnote IDs that were not found.\n\nArgs:\n    request: BatchScoreRequest containing list of note IDs\n\nReturns:\n    - 200: Scores retrieved successfully (includes partial results)\n    - 400: Invalid request (empty list, too many IDs)\n    - 500: Server error\n\nPerformance: This endpoint processes all notes in a single database query\nand calculates scores efficiently, reducing overhead compared to individual\nrequests for each note.",
        "operationId": "get_batch_note_scores_api_v1_scoring_notes_batch_scores_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchScoreRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchScoreResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/scoring/notes/top": {
      "get": {
        "tags": [
          "scoring"
        ],
        "summary": "Get Top Notes",
        "description": "Get top-scored notes with optional filtering.\n\nUsers can only see notes from communities they are members of.\nService accounts can see all notes.\n\nReturns the highest-scored notes in the system with:\n- Score and confidence metadata\n- Tier information\n- Rating counts\n- Optional filtering by confidence level and tier\n\nUses batch processing to prevent memory exhaustion with large note counts.\n\nQuery Parameters:\n    - limit: Number of results (1-100, default 10)\n    - min_confidence: Filter by confidence level\n    - tier: Filter by scoring tier (0-5)\n    - batch_size: Number of notes to process per batch (100-5000, default 1000)\n    - community_server_id: Filter by community server (UUID)\n\nReturns:\n    - 200: Top notes retrieved successfully\n    - 403: User not member of specified community\n    - 500: Server error",
        "operationId": "get_top_notes_api_v1_scoring_notes_top_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum number of notes to return",
              "default": 10,
              "title": "Limit"
            },
            "description": "Maximum number of notes to return"
          },
          {
            "name": "min_confidence",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/ScoreConfidence"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Minimum confidence level filter (no_data, provisional, standard)",
              "title": "Min Confidence"
            },
            "description": "Minimum confidence level filter (no_data, provisional, standard)"
          },
          {
            "name": "tier",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 5,
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by scoring tier (0-5)",
              "title": "Tier"
            },
            "description": "Filter by scoring tier (0-5)"
          },
          {
            "name": "batch_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 5000,
              "minimum": 100,
              "description": "Batch size for processing notes",
              "default": 1000,
              "title": "Batch Size"
            },
            "description": "Batch size for processing notes"
          },
          {
            "name": "community_server_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by community server",
              "title": "Community Server Id"
            },
            "description": "Filter by community server"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TopNotesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/scoring/score": {
      "post": {
        "tags": [
          "scoring"
        ],
        "summary": "Score Notes",
        "operationId": "score_notes_api_v1_scoring_score_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScoringRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScoringResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/scoring/health": {
      "get": {
        "tags": [
          "scoring"
        ],
        "summary": "Scoring Health",
        "operationId": "scoring_health_api_v1_scoring_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Scoring Health Api V1 Scoring Health Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/note-publisher/config": {
      "post": {
        "tags": [
          "note-publisher"
        ],
        "summary": "Set Note Publisher Config",
        "description": "Create or update auto-post configuration for a server or channel.\n\nChannel-specific configs (channel_id set) override server-wide configs (channel_id=None).",
        "operationId": "set_note_publisher_config_api_v1_note_publisher_config_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotePublisherConfigRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotePublisherConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "note-publisher"
        ],
        "summary": "Get Note Publisher Config",
        "description": "Get auto-post configuration for a server or channel.\n\nUsers can only view config for communities they are members of.\nService accounts can view all configs.\n\nIf channel_id is provided, returns channel-specific config if it exists,\notherwise returns server-wide config.",
        "operationId": "get_note_publisher_config_api_v1_note_publisher_config_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "maxLength": 64,
              "title": "Community Server Id"
            }
          },
          {
            "name": "channel_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "maxLength": 64
                },
                {
                  "type": "null"
                }
              ],
              "title": "Channel Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotePublisherConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/note-publisher/record": {
      "post": {
        "tags": [
          "note-publisher"
        ],
        "summary": "Record Note Publisher",
        "description": "Record an auto-post attempt (successful or failed) for audit trail.\n\nIf the post was successful and embedding data is provided, also stores\nthe message embedding for duplicate detection.",
        "operationId": "record_note_publisher_api_v1_note_publisher_record_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotePublisherRecordRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Record Note Publisher Api V1 Note Publisher Record Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/note-publisher/check-duplicate/{original_message_id}": {
      "get": {
        "tags": [
          "note-publisher"
        ],
        "summary": "Check Duplicate",
        "description": "Check if an auto-post already exists for the given original message ID.",
        "operationId": "check_duplicate_api_v1_note_publisher_check_duplicate__original_message_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "original_message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Original Message Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DuplicateCheckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/note-publisher/last-post/{channel_id}": {
      "get": {
        "tags": [
          "note-publisher"
        ],
        "summary": "Get Last Post",
        "description": "Get the most recent auto-post in a channel (for cooldown checking).\n\nUsers can only view posts for communities they are members of.\nService accounts can view all posts.\n\nRequires community_server_id query parameter for membership verification.",
        "operationId": "get_last_post_api_v1_note_publisher_last_post__channel_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "channel_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Channel Id"
            }
          },
          {
            "name": "community_server_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "maxLength": 64,
              "description": "Discord guild ID for membership verification",
              "title": "Community Server Id"
            },
            "description": "Discord guild ID for membership verification"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LastPostResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/webhooks/register": {
      "post": {
        "tags": [
          "webhooks"
        ],
        "summary": "Register Webhook",
        "operationId": "register_webhook_api_v1_webhooks_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebhookCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookConfigSecure"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/webhooks/{community_server_id}": {
      "get": {
        "tags": [
          "webhooks"
        ],
        "summary": "Get Webhooks By Community Server",
        "operationId": "get_webhooks_by_community_server_api_v1_webhooks__community_server_id__get",
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Community Server Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WebhookConfigResponse"
                  },
                  "title": "Response Get Webhooks By Community Server Api V1 Webhooks  Community Server Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/webhooks/{webhook_id}": {
      "put": {
        "tags": [
          "webhooks"
        ],
        "summary": "Update Webhook",
        "operationId": "update_webhook_api_v1_webhooks__webhook_id__put",
        "parameters": [
          {
            "name": "webhook_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Webhook Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebhookUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "webhooks"
        ],
        "summary": "Delete Webhook",
        "operationId": "delete_webhook_api_v1_webhooks__webhook_id__delete",
        "parameters": [
          {
            "name": "webhook_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Webhook Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Delete Webhook Api V1 Webhooks  Webhook Id  Delete"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/webhooks/stats/{community_server_id}": {
      "get": {
        "tags": [
          "webhooks"
        ],
        "summary": "Get Community Server Stats",
        "operationId": "get_community_server_stats_api_v1_webhooks_stats__community_server_id__get",
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Community Server Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Community Server Stats Api V1 Webhooks Stats  Community Server Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/config/rating-thresholds": {
      "get": {
        "tags": [
          "config"
        ],
        "summary": "Get Rating Thresholds",
        "description": "Get rating threshold configuration values.\n\nThese values define the minimum number of ratings and unique raters required\nbefore a note can receive CURRENTLY_RATED_HELPFUL or CURRENTLY_RATED_NOT_HELPFUL status.\n\nThe thresholds should match the Community Notes scoring algorithm defaults.",
        "operationId": "get_rating_thresholds_api_v1_config_rating_thresholds_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RatingThresholdsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/community-config/{community_server_id}": {
      "get": {
        "tags": [
          "community-config"
        ],
        "summary": "Get Community Config",
        "description": "Get all configuration settings for a specific community server.\n\nAccepts a platform-specific community ID (e.g., Discord guild ID) and looks up\nthe corresponding community server.\n\nReturns a dictionary of config_key: config_value pairs for the community server.\nIf no configuration exists, returns an empty dictionary.\n\nRequires: User must be a member of the community server.\nService accounts can view all configs.",
        "operationId": "get_community_config_api_v1_community_config__community_server_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "community-config"
        ],
        "summary": "Set Community Config",
        "description": "Set or update a configuration value for a specific community server.\n\nAccepts a platform-specific community ID (e.g., Discord guild ID) and looks up\nthe corresponding community server. If the key already exists, it will be updated.\nOtherwise, a new entry is created. The updated_by field tracks who made the change\nfor audit purposes.\n\nRequires: User must be an admin or moderator of the community server.",
        "operationId": "set_community_config_api_v1_community_config__community_server_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetConfigRequest"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "community-config"
        ],
        "summary": "Reset Community Config",
        "description": "Reset community server configuration to defaults.\n\nAccepts a platform-specific community ID (e.g., Discord guild ID) and looks up\nthe corresponding community server. If config_key is provided, only that specific\nkey is deleted. If config_key is None, all configuration for the community server\nis deleted.\n\nRequires: User must be an admin or moderator of the community server.",
        "operationId": "reset_community_config_api_v1_community_config__community_server_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Community Server Id"
            }
          },
          {
            "name": "config_key",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Specific config key to reset (leave empty to reset all)",
              "title": "Config Key"
            },
            "description": "Specific config key to reset (leave empty to reset all)"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/community-servers/lookup": {
      "get": {
        "tags": [
          "community-servers"
        ],
        "summary": "Lookup Community Server",
        "description": "Look up a community server by platform and platform ID.\n\nReturns the internal UUID for a community server based on its platform-specific identifier.\nAuto-creates the community server if it doesn't exist (for service accounts/bots).\n\nArgs:\n    platform: Platform type (default: \"discord\")\n    platform_id: Platform-specific ID (e.g., Discord guild ID)\n\nReturns:\n    Community server details including internal UUID\n\nRaises:\n    404: If community server not found and user is not a service account",
        "operationId": "lookup_community_server_api_v1_community_servers_lookup_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Platform type",
              "default": "discord",
              "title": "Platform"
            },
            "description": "Platform type"
          },
          {
            "name": "platform_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Platform-specific ID (e.g., Discord guild ID)",
              "title": "Platform Id"
            },
            "description": "Platform-specific ID (e.g., Discord guild ID)"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityServerLookupResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/community-servers/{community_server_id}/admins": {
      "post": {
        "tags": [
          "community-admin"
        ],
        "summary": "Add Community Admin",
        "description": "Add a user as admin for a specific community server.\n\nSets CommunityMember.role = 'admin' for the specified user. Requires the requester\nto have existing admin privileges (service account, Open Notes admin, community admin,\nor Discord Manage Server permission).\n\nArgs:\n    community_server_id: Discord guild ID\n    request_body: Request containing user_discord_id\n    db: Database session\n    current_user: Current authenticated user\n    http_request: FastAPI Request object\n\nReturns:\n    CommunityAdminResponse: Updated community member information\n\nRaises:\n    HTTPException 404: Community server or user not found\n    HTTPException 403: Not authorized (not an admin)\n    HTTPException 400: Invalid input",
        "operationId": "add_community_admin_api_v1_community_servers__community_server_id__admins_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddCommunityAdminRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityAdminResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "community-admin"
        ],
        "summary": "List Community Admins",
        "description": "List all admins for a specific community server.\n\nReturns admins with their sources of admin privileges:\n- Open Notes platform admin (is_opennotes_admin=True)\n- Community admin (role='admin')\n- Discord Manage Server permission (checked by Discord bot)\n\nArgs:\n    community_server_id: Discord guild ID\n    db: Database session\n    current_user: Current authenticated user\n    http_request: FastAPI Request object\n\nReturns:\n    List of CommunityAdminResponse with admin information\n\nRaises:\n    HTTPException 404: Community server not found\n    HTTPException 403: Not authorized",
        "operationId": "list_community_admins_api_v1_community_servers__community_server_id__admins_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CommunityAdminResponse"
                  },
                  "title": "Response List Community Admins Api V1 Community Servers  Community Server Id  Admins Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/community-servers/{community_server_id}/admins/{user_discord_id}": {
      "delete": {
        "tags": [
          "community-admin"
        ],
        "summary": "Remove Community Admin",
        "description": "Remove admin status from a user in a specific community server.\n\nSets CommunityMember.role = 'member'. Prevents removing the last admin to ensure\nthe community always has at least one admin.\n\nArgs:\n    community_server_id: Discord guild ID\n    user_discord_id: Discord ID of user to demote\n    db: Database session\n    current_user: Current authenticated user\n    http_request: FastAPI Request object\n\nReturns:\n    RemoveCommunityAdminResponse: Operation result\n\nRaises:\n    HTTPException 404: Community server or user not found\n    HTTPException 403: Not authorized (not an admin)\n    HTTPException 409: Cannot remove last admin",
        "operationId": "remove_community_admin_api_v1_community_servers__community_server_id__admins__user_discord_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Community Server Id"
            }
          },
          {
            "name": "user_discord_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Discord Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RemoveCommunityAdminResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/community-servers/{community_server_id}/llm-config": {
      "post": {
        "tags": [
          "llm-config"
        ],
        "summary": "Create Llm Config",
        "description": "Create a new LLM configuration for a community server.\n\nRequires admin or moderator access to the community server.",
        "operationId": "create_llm_config_api_v1_community_servers__community_server_id__llm_config_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LLMConfigCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LLMConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "llm-config"
        ],
        "summary": "List Llm Configs",
        "description": "List all LLM configurations for a community server.\n\nRequires admin or moderator access to the community server.",
        "operationId": "list_llm_configs_api_v1_community_servers__community_server_id__llm_config_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LLMConfigResponse"
                  },
                  "title": "Response List Llm Configs Api V1 Community Servers  Community Server Id  Llm Config Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/community-servers/{community_server_id}/llm-config/{provider}": {
      "get": {
        "tags": [
          "llm-config"
        ],
        "summary": "Get Llm Config",
        "description": "Get a specific LLM configuration.\n\nRequires admin or moderator access to the community server.",
        "operationId": "get_llm_config_api_v1_community_servers__community_server_id__llm_config__provider__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LLMConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "llm-config"
        ],
        "summary": "Update Llm Config",
        "description": "Update an existing LLM configuration.\n\nRequires admin or moderator access to the community server.",
        "operationId": "update_llm_config_api_v1_community_servers__community_server_id__llm_config__provider__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LLMConfigUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LLMConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "llm-config"
        ],
        "summary": "Delete Llm Config",
        "description": "Delete an LLM configuration.\n\nRequires admin or moderator access to the community server.",
        "operationId": "delete_llm_config_api_v1_community_servers__community_server_id__llm_config__provider__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/community-servers/{community_server_id}/llm-config/test": {
      "post": {
        "tags": [
          "llm-config"
        ],
        "summary": "Test Llm Config",
        "description": "Test an LLM configuration without saving it.\n\nValidates the API key and checks connectivity.\nRequires admin or moderator access to the community server.",
        "operationId": "test_llm_config_api_v1_community_servers__community_server_id__llm_config_test_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LLMConfigTestRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LLMConfigTestResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/community-servers/{community_server_id}/llm-config/{provider}/usage": {
      "get": {
        "tags": [
          "llm-config"
        ],
        "summary": "Get Usage Stats",
        "description": "Get usage statistics for an LLM configuration.\n\nRequires admin or moderator access to the community server.",
        "operationId": "get_usage_stats_api_v1_community_servers__community_server_id__llm_config__provider__usage_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Community Server Id"
            }
          },
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LLMUsageStatsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/monitored-channels": {
      "get": {
        "tags": [
          "monitored-channels"
        ],
        "summary": "List Monitored Channels",
        "description": "List monitored channel configurations for a specific community server.\n\nRequires the community_server_id parameter and user must be an admin or moderator\nof that community server to view its monitored channels.\n\nReturns paginated results filtered by community server and optionally by enabled status.",
        "operationId": "list_monitored_channels_api_v1_monitored_channels_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "community_server_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by community server ID (platform ID, e.g., Discord guild ID). Required - user must be admin of this server.",
              "title": "Community Server Id"
            },
            "description": "Filter by community server ID (platform ID, e.g., Discord guild ID). Required - user must be admin of this server."
          },
          {
            "name": "enabled_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Only return enabled channels",
              "default": false,
              "title": "Enabled Only"
            },
            "description": "Only return enabled channels"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 20,
              "title": "Size"
            },
            "description": "Items per page"
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MonitoredChannelListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "monitored-channels"
        ],
        "summary": "Create Monitored Channel",
        "description": "Create a new monitored channel configuration.\n\nRequires user to be an admin or moderator of the community server.\nReturns 409 if channel is already monitored.\nReturns 403 if user is not authorized to manage this community server.",
        "operationId": "create_monitored_channel_api_v1_monitored_channels_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MonitoredChannelCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MonitoredChannelResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/monitored-channels/{channel_id}": {
      "get": {
        "tags": [
          "monitored-channels"
        ],
        "summary": "Get Monitored Channel",
        "description": "Get configuration for a specific monitored channel.\n\nRequires user to be an admin or moderator of the community server that owns the channel.\nReturns 404 if the channel is not monitored.\nReturns 403 if the user is not authorized to access this channel.",
        "operationId": "get_monitored_channel_api_v1_monitored_channels__channel_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "channel_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Channel Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MonitoredChannelResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "monitored-channels"
        ],
        "summary": "Update Monitored Channel",
        "description": "Update configuration for a monitored channel.\n\nRequires user to be an admin or moderator of the community server that owns the channel.\nOnly provided fields are updated.\nReturns 404 if channel is not monitored.\nReturns 403 if user is not authorized to manage this channel.",
        "operationId": "update_monitored_channel_api_v1_monitored_channels__channel_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "channel_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Channel Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MonitoredChannelUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MonitoredChannelResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "monitored-channels"
        ],
        "summary": "Delete Monitored Channel",
        "description": "Remove a channel from monitoring.\n\nRequires user to be an admin or moderator of the community server that owns the channel.\nReturns 404 if channel is not monitored.\nReturns 403 if user is not authorized to manage this channel.",
        "operationId": "delete_monitored_channel_api_v1_monitored_channels__channel_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "channel_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Channel Id"
            }
          },
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/embeddings/similarity-search": {
      "post": {
        "tags": [
          "embeddings"
        ],
        "summary": "Similarity Search",
        "description": "Search for similar fact-check items using semantic similarity.\n\nGenerates an embedding for the input text using the community server's\nOpenAI API key, then performs cosine similarity search against the\nfact_check_items table using pgvector.\n\n**Authorization:**\n- User must be an active member of the specified community server\n- Banned users are rejected with 403 Forbidden\n- External users without membership are rejected with 403 Forbidden\n- Prevents cost abuse by verifying community membership before API calls\n\n**Process:**\n1. Verifies user is authorized member of community server\n2. Validates community server has OpenAI configuration\n3. Generates embedding using text-embedding-3-small (1536 dimensions)\n4. Queries fact_check_items table with pgvector cosine similarity\n5. Filters by dataset_tags (e.g., 'snopes', 'politifact')\n6. Returns top matches above similarity threshold\n\n**Performance:**\n- Embedding generation: ~100-200ms (cached for 1 hour)\n- Similarity search: ~10-50ms (with pgvector indexing)\n\n**Rate Limiting:**\n- Per-user rate limit: 100 requests/hour\n- Per-community rate limits: Based on configured LLM usage limits\n- OpenAI API rate limits: Automatic detection with retry guidance\n\n**Audit Logging:**\n- All requests logged with user_id, profile_id, and community_server_id\n- Community role logged for authorization tracking\n- Cost attribution tracked per community server\n\nArgs:\n    request: FastAPI request object (required by SlowAPI rate limiter)\n    search_request: Similarity search request with text and parameters\n    current_user: Authenticated user or API key\n    db: Database session\n    embedding_service: Embedding service instance\n    usage_tracker: LLM usage tracker instance\n\nReturns:\n    List of matching fact-check items with similarity scores\n\nRaises:\n    400: Invalid request parameters\n    403: User not authorized (not a member, banned, or inactive)\n    404: Community server or OpenAI configuration not found\n    429: Rate limit exceeded (per-user, per-community, or OpenAI API)\n    500: Internal server error",
        "operationId": "similarity_search_api_v1_embeddings_similarity_search_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/src__fact_checking__embedding_schemas__SimilaritySearchRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SimilaritySearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/previously-seen/check": {
      "post": {
        "tags": [
          "previously-seen"
        ],
        "summary": "Check Previously Seen",
        "description": "Check if a message has been seen before and get action recommendations.\n\nThis endpoint:\n1. Generates an embedding for the message text\n2. Searches for similar previously seen messages\n3. Resolves thresholds (channel override or global config)\n4. Returns action recommendations (auto-publish/auto-request)\n\nAuto-publish (default 0.9): High similarity - automatically reply with existing note\nAuto-request (default 0.75): Moderate similarity - trigger auto-request for new note",
        "operationId": "check_previously_seen_api_v1_previously_seen_check_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/src__fact_checking__previously_seen_router__PreviouslySeenCheckRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PreviouslySeenCheckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Health Check",
        "description": "Comprehensive health check that checks all registered components.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "title": "Response Health Check Health Get"
                }
              }
            }
          }
        }
      }
    },
    "/health/live": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Liveness Check",
        "description": "Kubernetes liveness probe endpoint.",
        "operationId": "liveness_check_health_live_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "boolean"
                  },
                  "type": "object",
                  "title": "Response Liveness Check Health Live Get"
                }
              }
            }
          }
        }
      }
    },
    "/health/ready": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Readiness Check",
        "description": "Kubernetes readiness probe endpoint.",
        "operationId": "readiness_check_health_ready_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "boolean"
                  },
                  "type": "object",
                  "title": "Response Readiness Check Health Ready Get"
                }
              }
            }
          }
        }
      }
    },
    "/health/distributed": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Distributed Health Check",
        "description": "Get aggregated health status across all instances.",
        "operationId": "distributed_health_check_health_distributed_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Distributed Health Check Health Distributed Get"
                }
              }
            }
          }
        }
      }
    },
    "/health/instances": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Instances Health Check",
        "description": "Get health status of all instances.",
        "operationId": "instances_health_check_health_instances_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Instances Health Check Health Instances Get"
                }
              }
            }
          }
        }
      }
    },
    "/health/instances/{instance_id}": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Instance Health Check",
        "description": "Get health status of a specific instance.",
        "operationId": "instance_health_check_health_instances__instance_id__get",
        "parameters": [
          {
            "name": "instance_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Instance Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Instance Health Check Health Instances  Instance Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/health/simple": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Simple Health Check",
        "description": "Simple health check that returns basic status without checking components.",
        "operationId": "simple_health_check_health_simple_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthCheckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/health/redis": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Redis Health",
        "operationId": "redis_health_health_redis_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceStatus"
                }
              }
            }
          }
        }
      }
    },
    "/health/nats": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Nats Health",
        "operationId": "nats_health_health_nats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceStatus"
                }
              }
            }
          }
        }
      }
    },
    "/health/detailed": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Detailed Health",
        "operationId": "detailed_health_health_detailed_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthCheckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/health/circuit-breakers": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Circuit Breakers Status",
        "operationId": "circuit_breakers_status_health_circuit_breakers_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Circuit Breakers Status Health Circuit Breakers Get"
                }
              }
            }
          }
        }
      }
    },
    "/metrics": {
      "get": {
        "summary": "Metrics",
        "operationId": "metrics_metrics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "APIKeyCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "expires_in_days": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 365.0,
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires In Days"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "APIKeyCreate"
      },
      "APIKeyResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "key": {
            "type": "string",
            "title": "Key"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          },
          "last_used_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Used At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "key",
          "created_at",
          "expires_at",
          "last_used_at"
        ],
        "title": "APIKeyResponse"
      },
      "AddCommunityAdminRequest": {
        "properties": {
          "user_discord_id": {
            "type": "string",
            "maxLength": 64,
            "minLength": 1,
            "title": "User Discord Id",
            "description": "Discord ID of the user to promote to admin"
          },
          "username": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Username",
            "description": "Discord username (for auto-creating profile if user doesn't exist)"
          },
          "display_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name",
            "description": "Display name (for auto-creating profile if user doesn't exist)"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "Avatar URL (for auto-creating profile if user doesn't exist)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "user_discord_id"
        ],
        "title": "AddCommunityAdminRequest",
        "description": "Request schema for adding a community admin."
      },
      "AdminSource": {
        "type": "string",
        "enum": [
          "opennotes_platform",
          "community_role",
          "discord_manage_server"
        ],
        "title": "AdminSource",
        "description": "Source of admin privileges."
      },
      "AdminStatusUpdateAttributes": {
        "properties": {
          "is_opennotes_admin": {
            "type": "boolean",
            "title": "Is Opennotes Admin"
          }
        },
        "type": "object",
        "required": [
          "is_opennotes_admin"
        ],
        "title": "AdminStatusUpdateAttributes",
        "description": "Attributes for admin status update request."
      },
      "AdminStatusUpdateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "admin-status",
            "title": "Type",
            "default": "admin-status"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/AdminStatusUpdateAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "AdminStatusUpdateData",
        "description": "JSON:API data object for admin status update request."
      },
      "AdminStatusUpdateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/AdminStatusUpdateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "AdminStatusUpdateRequest",
        "description": "JSON:API request for updating admin status."
      },
      "AuditLogResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "action": {
            "type": "string",
            "title": "Action"
          },
          "resource": {
            "type": "string",
            "title": "Resource"
          },
          "resource_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resource Id"
          },
          "details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details"
          },
          "ip_address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ip Address"
          },
          "user_agent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Agent"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_id",
          "action",
          "resource",
          "resource_id",
          "details",
          "ip_address",
          "user_agent",
          "created_at"
        ],
        "title": "AuditLogResponse"
      },
      "AuthProvider": {
        "type": "string",
        "enum": [
          "discord",
          "github",
          "email"
        ],
        "title": "AuthProvider",
        "description": "Supported authentication providers."
      },
      "BatchScoreJSONAPIRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/BatchScoreRequestData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "BatchScoreJSONAPIRequest",
        "description": "JSON:API request body for batch scores."
      },
      "BatchScoreRequest": {
        "properties": {
          "note_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "maxItems": 100,
            "minItems": 1,
            "title": "Note Ids",
            "description": "List of note IDs to retrieve scores for"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "note_ids"
        ],
        "title": "BatchScoreRequest"
      },
      "BatchScoreRequestAttributes": {
        "properties": {
          "note_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "maxItems": 100,
            "minItems": 1,
            "title": "Note Ids",
            "description": "List of note IDs to retrieve scores for"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "note_ids"
        ],
        "title": "BatchScoreRequestAttributes",
        "description": "Attributes for batch score request via JSON:API."
      },
      "BatchScoreRequestData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "batch-score-requests",
            "title": "Type",
            "description": "Resource type must be 'batch-score-requests'"
          },
          "attributes": {
            "$ref": "#/components/schemas/BatchScoreRequestAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "BatchScoreRequestData",
        "description": "JSON:API data object for batch score request."
      },
      "BatchScoreResponse": {
        "properties": {
          "scores": {
            "additionalProperties": {
              "$ref": "#/components/schemas/NoteScoreResponse"
            },
            "propertyNames": {
              "format": "uuid"
            },
            "type": "object",
            "title": "Scores",
            "description": "Map of note IDs to their score responses"
          },
          "not_found": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "title": "Not Found",
            "description": "List of note IDs that were not found"
          },
          "total_requested": {
            "type": "integer",
            "title": "Total Requested",
            "description": "Total number of note IDs requested"
          },
          "total_found": {
            "type": "integer",
            "title": "Total Found",
            "description": "Total number of scores successfully retrieved"
          }
        },
        "type": "object",
        "required": [
          "scores",
          "total_requested",
          "total_found"
        ],
        "title": "BatchScoreResponse"
      },
      "Body_login_api_v1_auth_login_post": {
        "properties": {
          "grant_type": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^password$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Grant Type"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "format": "password",
            "title": "Password"
          },
          "scope": {
            "type": "string",
            "title": "Scope",
            "default": ""
          },
          "client_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id"
          },
          "client_secret": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "format": "password",
            "title": "Client Secret"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "Body_login_api_v1_auth_login_post"
      },
      "Body_login_email_api_v1_profile_auth_login_email_post": {
        "properties": {
          "grant_type": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^password$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Grant Type"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "format": "password",
            "title": "Password"
          },
          "scope": {
            "type": "string",
            "title": "Scope",
            "default": ""
          },
          "client_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id"
          },
          "client_secret": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "format": "password",
            "title": "Client Secret"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "Body_login_email_api_v1_profile_auth_login_email_post"
      },
      "BulkScanCreateAttributes": {
        "properties": {
          "community_server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Community Server Id",
            "description": "Community server UUID to scan"
          },
          "scan_window_days": {
            "type": "integer",
            "maximum": 30.0,
            "minimum": 1.0,
            "title": "Scan Window Days",
            "description": "Number of days to scan back",
            "default": 7
          },
          "channel_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Channel Ids",
            "description": "Specific channel IDs to scan (empty = all channels)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "community_server_id"
        ],
        "title": "BulkScanCreateAttributes",
        "description": "Attributes for creating a bulk scan."
      },
      "BulkScanCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "bulk-scans",
            "title": "Type",
            "description": "Resource type must be 'bulk-scans'"
          },
          "attributes": {
            "$ref": "#/components/schemas/BulkScanCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "BulkScanCreateData",
        "description": "JSON:API data object for bulk scan creation."
      },
      "BulkScanCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/BulkScanCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "BulkScanCreateRequest",
        "description": "JSON:API request body for creating a bulk scan."
      },
      "CommunityAdminResponse": {
        "properties": {
          "profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Profile Id",
            "description": "User profile identifier"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name",
            "description": "User's display name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "URL to user's avatar image"
          },
          "discord_id": {
            "type": "string",
            "title": "Discord Id",
            "description": "User's Discord ID"
          },
          "admin_sources": {
            "items": {
              "$ref": "#/components/schemas/AdminSource"
            },
            "type": "array",
            "title": "Admin Sources",
            "description": "Sources of admin privileges (can have multiple)"
          },
          "is_opennotes_admin": {
            "type": "boolean",
            "title": "Is Opennotes Admin",
            "description": "Whether user is an Open Notes platform admin",
            "default": false
          },
          "community_role": {
            "type": "string",
            "title": "Community Role",
            "description": "User's role in the community",
            "default": "member"
          },
          "joined_at": {
            "type": "string",
            "format": "date-time",
            "title": "Joined At",
            "description": "When the user joined the community"
          }
        },
        "type": "object",
        "required": [
          "profile_id",
          "display_name",
          "discord_id",
          "admin_sources",
          "joined_at"
        ],
        "title": "CommunityAdminResponse",
        "description": "Response schema for community admin information."
      },
      "CommunityConfigResponse": {
        "properties": {
          "community_server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Community Server Id"
          },
          "config": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Config",
            "description": "Community server configuration key-value pairs"
          }
        },
        "type": "object",
        "required": [
          "community_server_id"
        ],
        "title": "CommunityConfigResponse"
      },
      "CommunityMemberResponse-Input": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "community_id": {
            "type": "string",
            "format": "uuid",
            "title": "Community Id",
            "description": "Community identifier"
          },
          "is_external": {
            "type": "boolean",
            "title": "Is External",
            "description": "True for external participants, False for internal members",
            "default": false
          },
          "role": {
            "$ref": "#/components/schemas/CommunityRole",
            "description": "Member role in the community",
            "default": "member"
          },
          "permissions": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Permissions",
            "description": "Role-specific permissions (JSON object). Kept as dict[str, Any] - permission structures vary by community platform (Discord roles, Reddit mod powers, etc.)"
          },
          "invitation_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invitation Reason",
            "description": "Reason/context for invitation"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique membership identifier"
          },
          "profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Profile Id",
            "description": "User profile identifier"
          },
          "reputation_in_community": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reputation In Community",
            "description": "Community-specific reputation"
          },
          "joined_at": {
            "type": "string",
            "format": "date-time",
            "title": "Joined At",
            "description": "When the user joined"
          },
          "invited_by": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invited By",
            "description": "Profile ID of the user who invited this member"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether membership is active",
            "default": true
          },
          "banned_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Banned At",
            "description": "Ban timestamp"
          },
          "banned_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Banned Reason",
            "description": "Reason for ban"
          },
          "profile": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UserProfileResponse-Input"
              },
              {
                "type": "null"
              }
            ],
            "description": "Associated user profile"
          },
          "inviter": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UserProfileResponse-Input"
              },
              {
                "type": "null"
              }
            ],
            "description": "Profile of the user who invited this member"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "created_at",
          "community_id",
          "id",
          "profile_id",
          "joined_at"
        ],
        "title": "CommunityMemberResponse",
        "description": "API response schema for community membership with nested profile."
      },
      "CommunityMemberResponse-Output": {
        "properties": {
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "community_id": {
            "type": "string",
            "format": "uuid",
            "title": "Community Id",
            "description": "Community identifier"
          },
          "is_external": {
            "type": "boolean",
            "title": "Is External",
            "description": "True for external participants, False for internal members",
            "default": false
          },
          "role": {
            "$ref": "#/components/schemas/CommunityRole",
            "description": "Member role in the community",
            "default": "member"
          },
          "permissions": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Permissions",
            "description": "Role-specific permissions (JSON object). Kept as dict[str, Any] - permission structures vary by community platform (Discord roles, Reddit mod powers, etc.)"
          },
          "invitation_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invitation Reason",
            "description": "Reason/context for invitation"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique membership identifier"
          },
          "profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Profile Id",
            "description": "User profile identifier"
          },
          "reputation_in_community": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reputation In Community",
            "description": "Community-specific reputation"
          },
          "joined_at": {
            "type": "string",
            "format": "date-time",
            "title": "Joined At",
            "description": "When the user joined"
          },
          "invited_by": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invited By",
            "description": "Profile ID of the user who invited this member"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether membership is active",
            "default": true
          },
          "banned_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Banned At",
            "description": "Ban timestamp"
          },
          "banned_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Banned Reason",
            "description": "Reason for ban"
          },
          "profile": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UserProfileResponse-Output"
              },
              {
                "type": "null"
              }
            ],
            "description": "Associated user profile"
          },
          "inviter": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UserProfileResponse-Output"
              },
              {
                "type": "null"
              }
            ],
            "description": "Profile of the user who invited this member"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "created_at",
          "community_id",
          "id",
          "profile_id",
          "joined_at"
        ],
        "title": "CommunityMemberResponse",
        "description": "API response schema for community membership with nested profile."
      },
      "CommunityRole": {
        "type": "string",
        "enum": [
          "admin",
          "moderator",
          "member"
        ],
        "title": "CommunityRole",
        "description": "Community membership roles."
      },
      "CommunityServerLookupResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Internal community server UUID"
          },
          "platform": {
            "type": "string",
            "title": "Platform",
            "description": "Platform type (e.g., 'discord')"
          },
          "platform_id": {
            "type": "string",
            "title": "Platform Id",
            "description": "Platform-specific ID (e.g., Discord guild ID)"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Community server name"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the community server is active"
          }
        },
        "type": "object",
        "required": [
          "id",
          "platform",
          "platform_id",
          "name",
          "is_active"
        ],
        "title": "CommunityServerLookupResponse",
        "description": "Response model for community server lookup."
      },
      "DataConfidence": {
        "type": "string",
        "enum": [
          "none",
          "low",
          "medium",
          "high",
          "very_high"
        ],
        "title": "DataConfidence"
      },
      "DiscordOAuthInitResponse": {
        "properties": {
          "authorization_url": {
            "type": "string",
            "title": "Authorization Url",
            "description": "Discord OAuth2 authorization URL to redirect user to"
          },
          "state": {
            "type": "string",
            "title": "State",
            "description": "OAuth2 state parameter for CSRF protection (store for callback validation)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "authorization_url",
          "state"
        ],
        "title": "DiscordOAuthInitResponse",
        "description": "Response schema for Discord OAuth2 flow initialization."
      },
      "DiscordOAuthLoginRequest": {
        "properties": {
          "code": {
            "type": "string",
            "minLength": 1,
            "title": "Code",
            "description": "OAuth2 authorization code from Discord"
          },
          "state": {
            "type": "string",
            "minLength": 1,
            "title": "State",
            "description": "OAuth2 state parameter for CSRF protection (must match state from init)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "code",
          "state"
        ],
        "title": "DiscordOAuthLoginRequest",
        "description": "Request schema for Discord OAuth2 login."
      },
      "DiscordOAuthRegisterRequest": {
        "properties": {
          "code": {
            "type": "string",
            "minLength": 1,
            "title": "Code",
            "description": "OAuth2 authorization code from Discord"
          },
          "state": {
            "type": "string",
            "minLength": 1,
            "title": "State",
            "description": "OAuth2 state parameter for CSRF protection (must match state from init)"
          },
          "display_name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Display Name",
            "description": "User's desired display name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "URL to user's avatar image (optional override)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "code",
          "state",
          "display_name"
        ],
        "title": "DiscordOAuthRegisterRequest",
        "description": "Request schema for Discord OAuth2 registration."
      },
      "DuplicateCheckResponse": {
        "properties": {
          "exists": {
            "type": "boolean",
            "title": "Exists"
          },
          "note_publisher_post_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note Publisher Post Id"
          }
        },
        "type": "object",
        "required": [
          "exists"
        ],
        "title": "DuplicateCheckResponse"
      },
      "EnrollmentData": {
        "properties": {
          "participantId": {
            "type": "string",
            "title": "Participantid"
          },
          "enrollmentState": {
            "type": "string",
            "title": "Enrollmentstate"
          },
          "successfulRatingNeededToEarnIn": {
            "type": "integer",
            "title": "Successfulratingneededtoearnin"
          },
          "timestampOfLastStateChange": {
            "type": "integer",
            "title": "Timestampoflaststatechange"
          }
        },
        "type": "object",
        "required": [
          "participantId",
          "enrollmentState",
          "successfulRatingNeededToEarnIn",
          "timestampOfLastStateChange"
        ],
        "title": "EnrollmentData"
      },
      "FactCheckMatch": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Fact-check item UUID"
          },
          "dataset_name": {
            "type": "string",
            "title": "Dataset Name",
            "description": "Source dataset (e.g., 'snopes')"
          },
          "dataset_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Dataset Tags",
            "description": "Dataset tags"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Fact-check article title"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Fact-check content"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary",
            "description": "Brief summary"
          },
          "rating": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating",
            "description": "Fact-check verdict"
          },
          "source_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Url",
            "description": "URL to original article"
          },
          "published_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Published Date",
            "description": "Publication date"
          },
          "author": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Author",
            "description": "Author name"
          },
          "embedding_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding Provider",
            "description": "LLM provider used for embedding (e.g., 'openai')"
          },
          "embedding_model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding Model",
            "description": "Model name used for embedding (e.g., 'text-embedding-3-small')"
          },
          "similarity_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Similarity Score",
            "description": "Cosine similarity score (0.0-1.0)"
          }
        },
        "type": "object",
        "required": [
          "id",
          "dataset_name",
          "dataset_tags",
          "title",
          "content",
          "similarity_score"
        ],
        "title": "FactCheckMatch",
        "description": "Single fact-check similarity match result."
      },
      "FlaggedMessageAttributes": {
        "properties": {
          "channel_id": {
            "type": "string",
            "title": "Channel Id",
            "description": "Channel ID where message was found"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Message content"
          },
          "author_id": {
            "type": "string",
            "title": "Author Id",
            "description": "Author ID"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "Message timestamp"
          },
          "match_score": {
            "type": "number",
            "title": "Match Score",
            "description": "Similarity match score"
          },
          "matched_claim": {
            "type": "string",
            "title": "Matched Claim",
            "description": "The claim that was matched"
          },
          "matched_source": {
            "type": "string",
            "title": "Matched Source",
            "description": "Source of the matched claim"
          },
          "scan_type": {
            "type": "string",
            "title": "Scan Type",
            "description": "Type of scan that flagged this",
            "default": "similarity"
          }
        },
        "type": "object",
        "required": [
          "channel_id",
          "content",
          "author_id",
          "timestamp",
          "match_score",
          "matched_claim",
          "matched_source"
        ],
        "title": "FlaggedMessageAttributes",
        "description": "Attributes for a flagged message resource."
      },
      "FlaggedMessageResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "flagged-messages"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/FlaggedMessageAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "FlaggedMessageResource",
        "description": "JSON:API resource object for a flagged message."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthCheckResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Overall system status"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "API version"
          },
          "environment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Environment",
            "description": "Environment name"
          },
          "services": {
            "additionalProperties": {
              "$ref": "#/components/schemas/ServiceStatus"
            },
            "type": "object",
            "title": "Services",
            "description": "Individual service statuses"
          },
          "components": {
            "anyOf": [
              {
                "additionalProperties": {
                  "$ref": "#/components/schemas/ServiceStatus"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Components",
            "description": "Component statuses (alias for services)"
          }
        },
        "type": "object",
        "required": [
          "status",
          "version"
        ],
        "title": "HealthCheckResponse"
      },
      "HelpfulnessLevel": {
        "type": "string",
        "enum": [
          "HELPFUL",
          "SOMEWHAT_HELPFUL",
          "NOT_HELPFUL"
        ],
        "title": "HelpfulnessLevel"
      },
      "HybridSearchCreateAttributes": {
        "properties": {
          "text": {
            "type": "string",
            "maxLength": 50000,
            "minLength": 3,
            "title": "Text",
            "description": "Query text to search for (minimum 3 characters). Uses hybrid search combining FTS and semantic similarity."
          },
          "community_server_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Community Server Id",
            "description": "Community server (guild) ID"
          },
          "limit": {
            "type": "integer",
            "maximum": 20.0,
            "minimum": 1.0,
            "title": "Limit",
            "description": "Maximum number of results to return",
            "default": 10
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "text",
          "community_server_id"
        ],
        "title": "HybridSearchCreateAttributes",
        "description": "Attributes for performing a hybrid search via JSON:API."
      },
      "HybridSearchCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "hybrid-searches",
            "title": "Type",
            "description": "Resource type must be 'hybrid-searches'"
          },
          "attributes": {
            "$ref": "#/components/schemas/HybridSearchCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "HybridSearchCreateData",
        "description": "JSON:API data object for hybrid search."
      },
      "HybridSearchRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/HybridSearchCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "HybridSearchRequest",
        "description": "JSON:API request body for performing a hybrid search."
      },
      "IdentityCreateAttributes": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider"
          },
          "provider_user_id": {
            "type": "string",
            "title": "Provider User Id"
          },
          "credentials": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Credentials"
          }
        },
        "type": "object",
        "required": [
          "provider",
          "provider_user_id"
        ],
        "title": "IdentityCreateAttributes",
        "description": "Attributes for identity create request."
      },
      "IdentityCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "identities",
            "title": "Type",
            "default": "identities"
          },
          "attributes": {
            "$ref": "#/components/schemas/IdentityCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "attributes"
        ],
        "title": "IdentityCreateData",
        "description": "JSON:API data object for identity create request."
      },
      "IdentityCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/IdentityCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "IdentityCreateRequest",
        "description": "JSON:API request for creating an identity."
      },
      "JSONAPILinks-Input": {
        "properties": {
          "self_": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Self"
          },
          "first": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "First"
          },
          "last": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last"
          },
          "prev": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prev"
          },
          "next_": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next"
          },
          "describedby": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Describedby"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "title": "JSONAPILinks",
        "description": "JSON:API links object for pagination and resource links.\n\nUses field aliases for 'self' and 'next' which are Python reserved words.\nAlways use by_alias=True when serializing.\nIncludes JSON:API 1.1 'describedby' link for API documentation."
      },
      "JSONAPILinks-Output": {
        "properties": {
          "self": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Self"
          },
          "first": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "First"
          },
          "last": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last"
          },
          "prev": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prev"
          },
          "next": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next"
          },
          "describedby": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Describedby"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "title": "JSONAPILinks",
        "description": "JSON:API links object for pagination and resource links.\n\nUses field aliases for 'self' and 'next' which are Python reserved words.\nAlways use by_alias=True when serializing.\nIncludes JSON:API 1.1 'describedby' link for API documentation."
      },
      "LLMConfigCreate": {
        "properties": {
          "provider": {
            "type": "string",
            "enum": [
              "openai",
              "anthropic",
              "google",
              "cohere",
              "custom"
            ],
            "title": "Provider"
          },
          "api_key": {
            "type": "string",
            "minLength": 1,
            "title": "Api Key",
            "description": "API key for the LLM provider"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether this configuration is enabled",
            "default": true
          },
          "settings": {
            "additionalProperties": true,
            "type": "object",
            "title": "Settings",
            "description": "Provider-specific settings (model, temperature, etc.). Kept as dict[str, Any] - each LLM provider has different configuration options and parameters."
          },
          "daily_request_limit": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Request Limit",
            "description": "Maximum daily API requests (None = unlimited)"
          },
          "monthly_request_limit": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Request Limit",
            "description": "Maximum monthly API requests (None = unlimited)"
          },
          "daily_token_limit": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Token Limit",
            "description": "Maximum daily tokens (None = unlimited)"
          },
          "monthly_token_limit": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Token Limit",
            "description": "Maximum monthly tokens (None = unlimited)"
          },
          "daily_spend_limit": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Spend Limit",
            "description": "Maximum daily spending in USD (None = unlimited)"
          },
          "monthly_spend_limit": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Spend Limit",
            "description": "Maximum monthly spending in USD (None = unlimited)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "provider",
          "api_key"
        ],
        "title": "LLMConfigCreate",
        "description": "Schema for creating a new LLM configuration."
      },
      "LLMConfigResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "community_server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Community Server Id"
          },
          "provider": {
            "type": "string",
            "title": "Provider"
          },
          "api_key_preview": {
            "type": "string",
            "title": "Api Key Preview",
            "description": "Last 4 characters of API key"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled"
          },
          "settings": {
            "additionalProperties": true,
            "type": "object",
            "title": "Settings"
          },
          "daily_request_limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Request Limit"
          },
          "monthly_request_limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Request Limit"
          },
          "daily_token_limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Token Limit"
          },
          "monthly_token_limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Token Limit"
          },
          "daily_spend_limit": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Spend Limit"
          },
          "monthly_spend_limit": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Spend Limit"
          },
          "current_daily_requests": {
            "type": "integer",
            "title": "Current Daily Requests"
          },
          "current_monthly_requests": {
            "type": "integer",
            "title": "Current Monthly Requests"
          },
          "current_daily_tokens": {
            "type": "integer",
            "title": "Current Daily Tokens"
          },
          "current_monthly_tokens": {
            "type": "integer",
            "title": "Current Monthly Tokens"
          },
          "current_daily_spend": {
            "type": "number",
            "title": "Current Daily Spend"
          },
          "current_monthly_spend": {
            "type": "number",
            "title": "Current Monthly Spend"
          },
          "last_daily_reset": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Daily Reset"
          },
          "last_monthly_reset": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Monthly Reset"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "created_by": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created By"
          }
        },
        "type": "object",
        "required": [
          "id",
          "community_server_id",
          "provider",
          "api_key_preview",
          "enabled",
          "settings",
          "daily_request_limit",
          "monthly_request_limit",
          "daily_token_limit",
          "monthly_token_limit",
          "daily_spend_limit",
          "monthly_spend_limit",
          "current_daily_requests",
          "current_monthly_requests",
          "current_daily_tokens",
          "current_monthly_tokens",
          "current_daily_spend",
          "current_monthly_spend",
          "last_daily_reset",
          "last_monthly_reset",
          "created_at",
          "updated_at",
          "created_by"
        ],
        "title": "LLMConfigResponse",
        "description": "Schema for LLM configuration response (excludes full API key)."
      },
      "LLMConfigTestRequest": {
        "properties": {
          "provider": {
            "type": "string",
            "enum": [
              "openai",
              "anthropic",
              "google",
              "cohere",
              "custom"
            ],
            "title": "Provider"
          },
          "api_key": {
            "type": "string",
            "minLength": 1,
            "title": "Api Key"
          },
          "settings": {
            "additionalProperties": true,
            "type": "object",
            "title": "Settings"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "provider",
          "api_key"
        ],
        "title": "LLMConfigTestRequest",
        "description": "Schema for testing an LLM configuration."
      },
      "LLMConfigTestResponse": {
        "properties": {
          "valid": {
            "type": "boolean",
            "title": "Valid"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          }
        },
        "type": "object",
        "required": [
          "valid"
        ],
        "title": "LLMConfigTestResponse"
      },
      "LLMConfigUpdate": {
        "properties": {
          "api_key": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key"
          },
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled"
          },
          "settings": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Settings"
          },
          "daily_request_limit": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Request Limit"
          },
          "monthly_request_limit": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Request Limit"
          },
          "daily_token_limit": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Token Limit"
          },
          "monthly_token_limit": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Token Limit"
          },
          "daily_spend_limit": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Spend Limit"
          },
          "monthly_spend_limit": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Spend Limit"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "LLMConfigUpdate",
        "description": "Schema for updating an existing LLM configuration."
      },
      "LLMUsageStatsResponse": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider"
          },
          "daily_requests": {
            "additionalProperties": true,
            "type": "object",
            "title": "Daily Requests"
          },
          "monthly_requests": {
            "additionalProperties": true,
            "type": "object",
            "title": "Monthly Requests"
          },
          "daily_tokens": {
            "additionalProperties": true,
            "type": "object",
            "title": "Daily Tokens"
          },
          "monthly_tokens": {
            "additionalProperties": true,
            "type": "object",
            "title": "Monthly Tokens"
          },
          "daily_spend": {
            "additionalProperties": true,
            "type": "object",
            "title": "Daily Spend"
          },
          "monthly_spend": {
            "additionalProperties": true,
            "type": "object",
            "title": "Monthly Spend"
          },
          "last_daily_reset": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Daily Reset"
          },
          "last_monthly_reset": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Monthly Reset"
          }
        },
        "type": "object",
        "required": [
          "provider",
          "daily_requests",
          "monthly_requests",
          "daily_tokens",
          "monthly_tokens",
          "daily_spend",
          "monthly_spend",
          "last_daily_reset",
          "last_monthly_reset"
        ],
        "title": "LLMUsageStatsResponse"
      },
      "LastPostResponse": {
        "properties": {
          "posted_at": {
            "type": "string",
            "title": "Posted At"
          },
          "note_id": {
            "type": "string",
            "title": "Note Id"
          },
          "channel_id": {
            "type": "string",
            "title": "Channel Id"
          }
        },
        "type": "object",
        "required": [
          "posted_at",
          "note_id",
          "channel_id"
        ],
        "title": "LastPostResponse"
      },
      "LatestScanAttributes": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Scan status: pending, in_progress, completed, failed"
          },
          "initiated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Initiated At",
            "description": "When the scan was initiated"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "When the scan completed"
          },
          "messages_scanned": {
            "type": "integer",
            "title": "Messages Scanned",
            "description": "Total messages scanned",
            "default": 0
          },
          "messages_flagged": {
            "type": "integer",
            "title": "Messages Flagged",
            "description": "Number of flagged messages",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "status",
          "initiated_at"
        ],
        "title": "LatestScanAttributes",
        "description": "Attributes for the latest scan resource."
      },
      "LatestScanResource": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "default": "bulk-scans"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/LatestScanAttributes"
          },
          "relationships": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Relationships"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "LatestScanResource",
        "description": "JSON:API resource object for the latest scan."
      },
      "LatestScanResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/LatestScanResource"
          },
          "included": {
            "items": {
              "$ref": "#/components/schemas/FlaggedMessageResource"
            },
            "type": "array",
            "title": "Included"
          },
          "jsonapi": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Jsonapi",
            "default": {
              "version": "1.1"
            }
          },
          "links": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JSONAPILinks-Output"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "LatestScanResponse",
        "description": "JSON:API response for the latest scan with included flagged messages."
      },
      "MonitoredChannelCreate": {
        "properties": {
          "community_server_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Community Server Id",
            "description": "Discord server/guild ID"
          },
          "channel_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Channel Id",
            "description": "Discord channel ID"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether monitoring is active",
            "default": true
          },
          "similarity_threshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Similarity Threshold",
            "description": "Minimum similarity score (0.0-1.0) for fact-check matches"
          },
          "dataset_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Dataset Tags",
            "description": "Dataset tags to check against (e.g., ['snopes', 'politifact'])"
          },
          "previously_seen_autopublish_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Previously Seen Autopublish Threshold",
            "description": "Per-channel override for auto-publish threshold (NULL = use global config default)"
          },
          "previously_seen_autorequest_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Previously Seen Autorequest Threshold",
            "description": "Per-channel override for auto-request threshold (NULL = use global config default)"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By",
            "description": "Discord user ID of admin creating config"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "community_server_id",
          "channel_id"
        ],
        "title": "MonitoredChannelCreate",
        "description": "Schema for creating a monitored channel configuration."
      },
      "MonitoredChannelCreateAttributes": {
        "properties": {
          "community_server_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Community Server Id",
            "description": "Discord server/guild ID (platform ID)"
          },
          "channel_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Channel Id",
            "description": "Discord channel ID"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether monitoring is active",
            "default": true
          },
          "similarity_threshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Similarity Threshold",
            "description": "Minimum similarity score (0.0-1.0) for matches"
          },
          "dataset_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Dataset Tags",
            "description": "Dataset tags to check against"
          },
          "previously_seen_autopublish_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Previously Seen Autopublish Threshold",
            "description": "Per-channel override for auto-publish threshold"
          },
          "previously_seen_autorequest_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Previously Seen Autorequest Threshold",
            "description": "Per-channel override for auto-request threshold"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By",
            "description": "Discord user ID of admin creating config"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "community_server_id",
          "channel_id"
        ],
        "title": "MonitoredChannelCreateAttributes",
        "description": "Attributes for creating a monitored channel via JSON:API."
      },
      "MonitoredChannelCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "monitored-channels",
            "title": "Type",
            "description": "Resource type must be 'monitored-channels'"
          },
          "attributes": {
            "$ref": "#/components/schemas/MonitoredChannelCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "MonitoredChannelCreateData",
        "description": "JSON:API data object for monitored channel creation."
      },
      "MonitoredChannelCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/MonitoredChannelCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "MonitoredChannelCreateRequest",
        "description": "JSON:API request body for creating a monitored channel."
      },
      "MonitoredChannelListResponse": {
        "properties": {
          "channels": {
            "items": {
              "$ref": "#/components/schemas/MonitoredChannelResponse"
            },
            "type": "array",
            "title": "Channels",
            "description": "List of monitored channels"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total count of channels"
          },
          "page": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Page",
            "description": "Current page number",
            "default": 1
          },
          "size": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 1.0,
            "title": "Size",
            "description": "Items per page",
            "default": 20
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "channels",
          "total"
        ],
        "title": "MonitoredChannelListResponse",
        "description": "Schema for paginated list of monitored channels."
      },
      "MonitoredChannelResponse": {
        "properties": {
          "community_server_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Community Server Id",
            "description": "Discord server/guild ID"
          },
          "channel_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Channel Id",
            "description": "Discord channel ID"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether monitoring is active",
            "default": true
          },
          "similarity_threshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Similarity Threshold",
            "description": "Minimum similarity score (0.0-1.0) for fact-check matches"
          },
          "dataset_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Dataset Tags",
            "description": "Dataset tags to check against (e.g., ['snopes', 'politifact'])"
          },
          "previously_seen_autopublish_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Previously Seen Autopublish Threshold",
            "description": "Per-channel override for auto-publish threshold (NULL = use global config default)"
          },
          "previously_seen_autorequest_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Previously Seen Autorequest Threshold",
            "description": "Per-channel override for auto-request threshold (NULL = use global config default)"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique identifier"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When monitoring was configured"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last configuration update"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By",
            "description": "Discord user ID of last admin to update"
          }
        },
        "type": "object",
        "required": [
          "community_server_id",
          "channel_id",
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "MonitoredChannelResponse",
        "description": "Schema for monitored channel configuration responses."
      },
      "MonitoredChannelUpdate": {
        "properties": {
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled",
            "description": "Whether monitoring is active"
          },
          "similarity_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Similarity Threshold",
            "description": "Minimum similarity score (0.0-1.0) for fact-check matches"
          },
          "dataset_tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dataset Tags",
            "description": "Dataset tags to check against (e.g., ['snopes', 'politifact'])"
          },
          "previously_seen_autopublish_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Previously Seen Autopublish Threshold",
            "description": "Per-channel override for auto-publish threshold (NULL = use global config default)"
          },
          "previously_seen_autorequest_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Previously Seen Autorequest Threshold",
            "description": "Per-channel override for auto-request threshold (NULL = use global config default)"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By",
            "description": "Discord user ID of admin updating config"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "MonitoredChannelUpdate",
        "description": "Schema for updating a monitored channel configuration."
      },
      "MonitoredChannelUpdateAttributes": {
        "properties": {
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled",
            "description": "Whether monitoring is active"
          },
          "similarity_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Similarity Threshold",
            "description": "Minimum similarity score (0.0-1.0) for matches"
          },
          "dataset_tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dataset Tags",
            "description": "Dataset tags to check against"
          },
          "previously_seen_autopublish_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Previously Seen Autopublish Threshold",
            "description": "Per-channel override for auto-publish threshold"
          },
          "previously_seen_autorequest_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Previously Seen Autorequest Threshold",
            "description": "Per-channel override for auto-request threshold"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By",
            "description": "Discord user ID of admin updating config"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "MonitoredChannelUpdateAttributes",
        "description": "Attributes for updating a monitored channel via JSON:API."
      },
      "MonitoredChannelUpdateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "monitored-channels",
            "title": "Type",
            "description": "Resource type must be 'monitored-channels'"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Monitored channel ID"
          },
          "attributes": {
            "$ref": "#/components/schemas/MonitoredChannelUpdateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "id",
          "attributes"
        ],
        "title": "MonitoredChannelUpdateData",
        "description": "JSON:API data object for monitored channel update."
      },
      "MonitoredChannelUpdateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/MonitoredChannelUpdateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "MonitoredChannelUpdateRequest",
        "description": "JSON:API request body for updating a monitored channel."
      },
      "NextTierInfo": {
        "properties": {
          "tier": {
            "type": "string",
            "title": "Tier",
            "description": "Name of the next tier"
          },
          "notes_needed": {
            "type": "integer",
            "title": "Notes Needed",
            "description": "Total notes needed to reach next tier"
          },
          "notes_to_upgrade": {
            "type": "integer",
            "title": "Notes To Upgrade",
            "description": "Additional notes needed (negative means already exceeded)"
          }
        },
        "type": "object",
        "required": [
          "tier",
          "notes_needed",
          "notes_to_upgrade"
        ],
        "title": "NextTierInfo"
      },
      "NoteClassification": {
        "type": "string",
        "enum": [
          "NOT_MISLEADING",
          "MISINFORMED_OR_POTENTIALLY_MISLEADING"
        ],
        "title": "NoteClassification"
      },
      "NoteCreate": {
        "properties": {
          "author_participant_id": {
            "type": "string",
            "title": "Author Participant Id",
            "description": "Author's participant ID"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Discord channel ID where the message is located"
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Id",
            "description": "Request ID this note responds to"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Note summary text"
          },
          "classification": {
            "$ref": "#/components/schemas/NoteClassification",
            "description": "Note classification"
          },
          "community_server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Community Server Id",
            "description": "Community server ID (required)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "author_participant_id",
          "summary",
          "classification",
          "community_server_id"
        ],
        "title": "NoteCreate"
      },
      "NoteCreateAttributes": {
        "properties": {
          "summary": {
            "type": "string",
            "minLength": 1,
            "title": "Summary",
            "description": "Note summary text"
          },
          "classification": {
            "$ref": "#/components/schemas/NoteClassification",
            "description": "Note classification"
          },
          "community_server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Community Server Id",
            "description": "Community server ID"
          },
          "author_participant_id": {
            "type": "string",
            "title": "Author Participant Id",
            "description": "Author's participant ID"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Discord channel ID"
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Id",
            "description": "Request ID this note responds to"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "summary",
          "classification",
          "community_server_id",
          "author_participant_id"
        ],
        "title": "NoteCreateAttributes",
        "description": "Attributes for creating a note via JSON:API."
      },
      "NoteCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "notes",
            "title": "Type",
            "description": "Resource type must be 'notes'"
          },
          "attributes": {
            "$ref": "#/components/schemas/NoteCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "NoteCreateData",
        "description": "JSON:API data object for note creation."
      },
      "NoteCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/NoteCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NoteCreateRequest",
        "description": "JSON:API request body for creating a note."
      },
      "NoteData": {
        "properties": {
          "noteId": {
            "type": "integer",
            "title": "Noteid"
          },
          "noteAuthorParticipantId": {
            "type": "string",
            "title": "Noteauthorparticipantid"
          },
          "createdAtMillis": {
            "type": "integer",
            "title": "Createdatmillis"
          },
          "tweetId": {
            "type": "integer",
            "title": "Tweetid"
          },
          "summary": {
            "type": "string",
            "title": "Summary"
          },
          "classification": {
            "type": "string",
            "title": "Classification"
          }
        },
        "type": "object",
        "required": [
          "noteId",
          "noteAuthorParticipantId",
          "createdAtMillis",
          "tweetId",
          "summary",
          "classification"
        ],
        "title": "NoteData"
      },
      "NoteListResponse": {
        "properties": {
          "notes": {
            "items": {
              "$ref": "#/components/schemas/NoteResponse"
            },
            "type": "array",
            "title": "Notes"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "notes",
          "total",
          "page",
          "size"
        ],
        "title": "NoteListResponse"
      },
      "NotePublisherConfigCreateAttributes": {
        "properties": {
          "community_server_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Community Server Id",
            "description": "Discord server/guild ID (platform ID)"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Discord channel ID (None for server-wide)"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether auto-publishing is enabled",
            "default": true
          },
          "threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Threshold",
            "description": "Score threshold for auto-publishing (0.0-1.0)"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By",
            "description": "Discord user ID of admin"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "community_server_id"
        ],
        "title": "NotePublisherConfigCreateAttributes",
        "description": "Attributes for creating a note publisher config via JSON:API."
      },
      "NotePublisherConfigCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "note-publisher-configs",
            "title": "Type",
            "description": "Resource type must be 'note-publisher-configs'"
          },
          "attributes": {
            "$ref": "#/components/schemas/NotePublisherConfigCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "NotePublisherConfigCreateData",
        "description": "JSON:API data object for config creation."
      },
      "NotePublisherConfigCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/NotePublisherConfigCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NotePublisherConfigCreateRequest",
        "description": "JSON:API request body for creating a config."
      },
      "NotePublisherConfigRequest": {
        "properties": {
          "community_server_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Community Server Id"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled"
          },
          "threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Threshold"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By"
          }
        },
        "type": "object",
        "required": [
          "community_server_id",
          "enabled"
        ],
        "title": "NotePublisherConfigRequest"
      },
      "NotePublisherConfigResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "community_server_id": {
            "type": "string",
            "title": "Community Server Id"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled"
          },
          "threshold": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Threshold"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By"
          }
        },
        "type": "object",
        "required": [
          "id",
          "community_server_id",
          "channel_id",
          "enabled",
          "threshold",
          "updated_at",
          "updated_by"
        ],
        "title": "NotePublisherConfigResponse"
      },
      "NotePublisherConfigUpdateAttributes": {
        "properties": {
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled",
            "description": "Whether auto-publishing is enabled"
          },
          "threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Threshold",
            "description": "Score threshold for auto-publishing (0.0-1.0)"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By",
            "description": "Discord user ID of admin"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "NotePublisherConfigUpdateAttributes",
        "description": "Attributes for updating a note publisher config via JSON:API."
      },
      "NotePublisherConfigUpdateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "note-publisher-configs",
            "title": "Type",
            "description": "Resource type must be 'note-publisher-configs'"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Config ID"
          },
          "attributes": {
            "$ref": "#/components/schemas/NotePublisherConfigUpdateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "id",
          "attributes"
        ],
        "title": "NotePublisherConfigUpdateData",
        "description": "JSON:API data object for config update."
      },
      "NotePublisherConfigUpdateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/NotePublisherConfigUpdateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NotePublisherConfigUpdateRequest",
        "description": "JSON:API request body for updating a config."
      },
      "NotePublisherPostCreateAttributes": {
        "properties": {
          "note_id": {
            "type": "string",
            "title": "Note Id",
            "description": "UUID of the published note"
          },
          "original_message_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Original Message Id",
            "description": "Original Discord message ID"
          },
          "auto_post_message_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64
              },
              {
                "type": "null"
              }
            ],
            "title": "Auto Post Message Id",
            "description": "Auto-posted Discord message ID"
          },
          "channel_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Channel Id",
            "description": "Discord channel ID"
          },
          "community_server_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Community Server Id",
            "description": "Discord server/guild ID (platform ID)"
          },
          "score_at_post": {
            "type": "number",
            "title": "Score At Post",
            "description": "Score at time of posting"
          },
          "confidence_at_post": {
            "type": "string",
            "maxLength": 32,
            "title": "Confidence At Post",
            "description": "Confidence level at posting"
          },
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether the post was successful"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error message if post failed"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "note_id",
          "original_message_id",
          "channel_id",
          "community_server_id",
          "score_at_post",
          "confidence_at_post",
          "success"
        ],
        "title": "NotePublisherPostCreateAttributes",
        "description": "Attributes for creating a note publisher post via JSON:API."
      },
      "NotePublisherPostCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "note-publisher-posts",
            "title": "Type",
            "description": "Resource type must be 'note-publisher-posts'"
          },
          "attributes": {
            "$ref": "#/components/schemas/NotePublisherPostCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "NotePublisherPostCreateData",
        "description": "JSON:API data object for post creation."
      },
      "NotePublisherPostCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/NotePublisherPostCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NotePublisherPostCreateRequest",
        "description": "JSON:API request body for creating a post record."
      },
      "NotePublisherRecordRequest": {
        "properties": {
          "noteId": {
            "type": "string",
            "title": "Noteid",
            "description": "UUID of the published note"
          },
          "originalMessageId": {
            "type": "string",
            "maxLength": 64,
            "title": "Originalmessageid"
          },
          "channelId": {
            "type": "string",
            "maxLength": 64,
            "title": "Channelid"
          },
          "guildId": {
            "type": "string",
            "maxLength": 64,
            "title": "Guildid"
          },
          "scoreAtPost": {
            "type": "number",
            "title": "Scoreatpost"
          },
          "confidenceAtPost": {
            "type": "string",
            "maxLength": 32,
            "title": "Confidenceatpost"
          },
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "errorMessage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errormessage"
          },
          "messageEmbedding": {
            "anyOf": [
              {
                "items": {
                  "type": "number"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Messageembedding"
          },
          "embeddingProvider": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Embeddingprovider"
          },
          "embeddingModel": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Embeddingmodel"
          }
        },
        "type": "object",
        "required": [
          "noteId",
          "originalMessageId",
          "channelId",
          "guildId",
          "scoreAtPost",
          "confidenceAtPost",
          "success"
        ],
        "title": "NotePublisherRecordRequest"
      },
      "NoteRequestsCreateAttributes": {
        "properties": {
          "message_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 1,
            "title": "Message Ids",
            "description": "List of message IDs to create note requests for"
          },
          "generate_ai_notes": {
            "type": "boolean",
            "title": "Generate Ai Notes",
            "description": "Whether to generate AI draft notes",
            "default": false
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "message_ids"
        ],
        "title": "NoteRequestsCreateAttributes",
        "description": "Attributes for creating note requests from flagged messages."
      },
      "NoteRequestsCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "note-requests",
            "title": "Type",
            "description": "Resource type must be 'note-requests'"
          },
          "attributes": {
            "$ref": "#/components/schemas/NoteRequestsCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "NoteRequestsCreateData",
        "description": "JSON:API data object for note requests creation."
      },
      "NoteRequestsCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/NoteRequestsCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NoteRequestsCreateRequest",
        "description": "JSON:API request body for creating note requests."
      },
      "NoteResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "author_participant_id": {
            "type": "string",
            "title": "Author Participant Id",
            "description": "Author's participant ID"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Discord channel ID where the message is located"
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Id",
            "description": "Request ID this note responds to"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Note summary text"
          },
          "classification": {
            "$ref": "#/components/schemas/NoteClassification",
            "description": "Note classification"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "community_server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Community Server Id"
          },
          "helpfulness_score": {
            "type": "integer",
            "title": "Helpfulness Score"
          },
          "status": {
            "$ref": "#/components/schemas/NoteStatus"
          },
          "force_published": {
            "type": "boolean",
            "title": "Force Published",
            "default": false
          },
          "force_published_by": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Force Published By"
          },
          "force_published_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Force Published At"
          },
          "ratings": {
            "items": {
              "$ref": "#/components/schemas/RatingResponse"
            },
            "type": "array",
            "title": "Ratings",
            "default": []
          },
          "request": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RequestInfo"
              },
              {
                "type": "null"
              }
            ]
          },
          "ratings_count": {
            "type": "integer",
            "title": "Ratings Count",
            "description": "Compute ratings count from loaded ratings relationship.",
            "readOnly": true
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "created_at",
          "author_participant_id",
          "summary",
          "classification",
          "id",
          "community_server_id",
          "helpfulness_score",
          "status",
          "ratings_count"
        ],
        "title": "NoteResponse"
      },
      "NoteScoreResponse": {
        "properties": {
          "note_id": {
            "type": "string",
            "format": "uuid",
            "title": "Note Id",
            "description": "Unique note identifier"
          },
          "score": {
            "type": "number",
            "title": "Score",
            "description": "Normalized score value (0.0-1.0)"
          },
          "confidence": {
            "$ref": "#/components/schemas/ScoreConfidence",
            "description": "Confidence level: no_data (0 ratings), provisional (<5 ratings), or standard (5+ ratings)"
          },
          "algorithm": {
            "type": "string",
            "title": "Algorithm",
            "description": "Scoring algorithm used (e.g., 'bayesian_average_tier0', 'MFCoreScorer')"
          },
          "rating_count": {
            "type": "integer",
            "title": "Rating Count",
            "description": "Number of ratings contributing to the score"
          },
          "tier": {
            "type": "integer",
            "title": "Tier",
            "description": "Current scoring tier level (0-5)"
          },
          "tier_name": {
            "type": "string",
            "title": "Tier Name",
            "description": "Human-readable tier name (e.g., 'Minimal', 'Limited')"
          },
          "calculated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Calculated At",
            "description": "Timestamp when score was calculated (null if not yet calculated)"
          },
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content",
            "description": "Message content that the note was written about (from message archive)"
          }
        },
        "type": "object",
        "required": [
          "note_id",
          "score",
          "confidence",
          "algorithm",
          "rating_count",
          "tier",
          "tier_name"
        ],
        "title": "NoteScoreResponse"
      },
      "NoteStatus": {
        "type": "string",
        "enum": [
          "NEEDS_MORE_RATINGS",
          "CURRENTLY_RATED_HELPFUL",
          "CURRENTLY_RATED_NOT_HELPFUL"
        ],
        "title": "NoteStatus"
      },
      "NoteSummaryStats": {
        "properties": {
          "total_notes": {
            "type": "integer",
            "title": "Total Notes"
          },
          "helpful_notes": {
            "type": "integer",
            "title": "Helpful Notes"
          },
          "not_helpful_notes": {
            "type": "integer",
            "title": "Not Helpful Notes"
          },
          "pending_notes": {
            "type": "integer",
            "title": "Pending Notes"
          },
          "average_helpfulness_score": {
            "type": "number",
            "title": "Average Helpfulness Score"
          }
        },
        "type": "object",
        "required": [
          "total_notes",
          "helpful_notes",
          "not_helpful_notes",
          "pending_notes",
          "average_helpfulness_score"
        ],
        "title": "NoteSummaryStats"
      },
      "NoteUpdate": {
        "properties": {
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          },
          "classification": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/NoteClassification"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "NoteUpdate"
      },
      "NoteUpdateAttributes": {
        "properties": {
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary",
            "description": "Updated note summary"
          },
          "classification": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/NoteClassification"
              },
              {
                "type": "null"
              }
            ],
            "description": "Updated classification"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "NoteUpdateAttributes",
        "description": "Attributes for updating a note via JSON:API."
      },
      "NoteUpdateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "notes",
            "title": "Type",
            "description": "Resource type must be 'notes'"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Note ID being updated"
          },
          "attributes": {
            "$ref": "#/components/schemas/NoteUpdateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "id",
          "attributes"
        ],
        "title": "NoteUpdateData",
        "description": "JSON:API data object for note update."
      },
      "NoteUpdateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/NoteUpdateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "NoteUpdateRequest",
        "description": "JSON:API request body for updating a note."
      },
      "ParticipantStats": {
        "properties": {
          "participant_id": {
            "type": "string",
            "title": "Participant Id"
          },
          "notes_created": {
            "type": "integer",
            "title": "Notes Created"
          },
          "ratings_given": {
            "type": "integer",
            "title": "Ratings Given"
          },
          "average_helpfulness_received": {
            "type": "number",
            "title": "Average Helpfulness Received"
          },
          "top_classification": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/NoteClassification"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "participant_id",
          "notes_created",
          "ratings_given",
          "average_helpfulness_received"
        ],
        "title": "ParticipantStats"
      },
      "PerformanceMetrics": {
        "properties": {
          "avg_scoring_time_ms": {
            "type": "number",
            "title": "Avg Scoring Time Ms",
            "description": "Average scoring time in milliseconds"
          },
          "last_scoring_time_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Scoring Time Ms",
            "description": "Last scoring operation time in milliseconds"
          },
          "scorer_success_rate": {
            "type": "number",
            "title": "Scorer Success Rate",
            "description": "Success rate for scoring operations (0.0-1.0)"
          },
          "total_scoring_operations": {
            "type": "integer",
            "title": "Total Scoring Operations",
            "description": "Total number of scoring operations performed",
            "default": 0
          },
          "failed_scoring_operations": {
            "type": "integer",
            "title": "Failed Scoring Operations",
            "description": "Number of failed scoring operations",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "avg_scoring_time_ms",
          "scorer_success_rate"
        ],
        "title": "PerformanceMetrics"
      },
      "PreviouslySeenCheckAttributes": {
        "properties": {
          "message_text": {
            "type": "string",
            "maxLength": 50000,
            "minLength": 1,
            "title": "Message Text",
            "description": "Message text to check"
          },
          "guild_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Guild Id",
            "description": "Discord guild ID"
          },
          "channel_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Channel Id",
            "description": "Discord channel ID"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "message_text",
          "guild_id",
          "channel_id"
        ],
        "title": "PreviouslySeenCheckAttributes",
        "description": "Attributes for checking previously seen messages via JSON:API."
      },
      "PreviouslySeenCheckData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "previously-seen-check",
            "title": "Type",
            "description": "Resource type must be 'previously-seen-check'"
          },
          "attributes": {
            "$ref": "#/components/schemas/PreviouslySeenCheckAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "PreviouslySeenCheckData",
        "description": "JSON:API data object for previously seen message check."
      },
      "PreviouslySeenCheckResponse": {
        "properties": {
          "shouldAutoPublish": {
            "type": "boolean",
            "title": "Shouldautopublish",
            "description": "Whether to auto-publish existing note"
          },
          "shouldAutoRequest": {
            "type": "boolean",
            "title": "Shouldautorequest",
            "description": "Whether to auto-request new note"
          },
          "autopublishThreshold": {
            "type": "number",
            "title": "Autopublishthreshold",
            "description": "Threshold used for auto-publish decision"
          },
          "autorequestThreshold": {
            "type": "number",
            "title": "Autorequestthreshold",
            "description": "Threshold used for auto-request decision"
          },
          "matches": {
            "items": {
              "$ref": "#/components/schemas/PreviouslySeenMessageMatch"
            },
            "type": "array",
            "title": "Matches",
            "description": "Matching previously seen messages (ordered by similarity)"
          },
          "topMatch": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PreviouslySeenMessageMatch"
              },
              {
                "type": "null"
              }
            ],
            "description": "Best matching message if any"
          }
        },
        "type": "object",
        "required": [
          "shouldAutoPublish",
          "shouldAutoRequest",
          "autopublishThreshold",
          "autorequestThreshold",
          "matches"
        ],
        "title": "PreviouslySeenCheckResponse",
        "description": "Response with previously seen message matches and action recommendations."
      },
      "PreviouslySeenMessageCreateAttributes": {
        "properties": {
          "community_server_id": {
            "type": "string",
            "title": "Community Server Id",
            "description": "Community server UUID"
          },
          "original_message_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Original Message Id",
            "description": "Platform-specific message ID"
          },
          "published_note_id": {
            "type": "string",
            "title": "Published Note Id",
            "description": "Note ID that was published for this message"
          },
          "embedding": {
            "anyOf": [
              {
                "items": {
                  "type": "number"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding",
            "description": "Vector embedding for semantic similarity search (1536 dimensions)"
          },
          "embedding_provider": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding Provider",
            "description": "LLM provider used for embedding generation"
          },
          "embedding_model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding Model",
            "description": "Model name used for embedding generation"
          },
          "extra_metadata": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extra Metadata",
            "description": "Additional context metadata"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "community_server_id",
          "original_message_id",
          "published_note_id"
        ],
        "title": "PreviouslySeenMessageCreateAttributes",
        "description": "Attributes for creating a previously seen message via JSON:API."
      },
      "PreviouslySeenMessageCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "previously-seen-messages",
            "title": "Type",
            "description": "Resource type must be 'previously-seen-messages'"
          },
          "attributes": {
            "$ref": "#/components/schemas/PreviouslySeenMessageCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "PreviouslySeenMessageCreateData",
        "description": "JSON:API data object for previously seen message creation."
      },
      "PreviouslySeenMessageCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/PreviouslySeenMessageCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "PreviouslySeenMessageCreateRequest",
        "description": "JSON:API request body for creating a previously seen message."
      },
      "PreviouslySeenMessageMatch": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique identifier"
          },
          "community_server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Community Server Id",
            "description": "Community server UUID"
          },
          "original_message_id": {
            "type": "string",
            "title": "Original Message Id",
            "description": "Platform-specific message ID"
          },
          "published_note_id": {
            "type": "string",
            "format": "uuid",
            "title": "Published Note Id",
            "description": "Note ID that was published"
          },
          "embedding_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding Provider",
            "description": "LLM provider used"
          },
          "embedding_model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding Model",
            "description": "Model name used"
          },
          "extra_metadata": {
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                },
                {
                  "type": "number"
                },
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": "object",
            "title": "Extra Metadata",
            "description": "Additional context metadata"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When record was created"
          },
          "similarity_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Similarity Score",
            "description": "Cosine similarity score (0.0-1.0)"
          }
        },
        "type": "object",
        "required": [
          "id",
          "community_server_id",
          "original_message_id",
          "published_note_id",
          "created_at",
          "similarity_score"
        ],
        "title": "PreviouslySeenMessageMatch",
        "description": "Previously seen message with similarity score (used in search results)."
      },
      "ProfileUpdateAttributes": {
        "properties": {
          "display_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url"
          },
          "bio": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bio"
          }
        },
        "type": "object",
        "title": "ProfileUpdateAttributes",
        "description": "Attributes for profile update request."
      },
      "ProfileUpdateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "profiles",
            "title": "Type",
            "default": "profiles"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "attributes": {
            "$ref": "#/components/schemas/ProfileUpdateAttributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "title": "ProfileUpdateData",
        "description": "JSON:API data object for profile update request."
      },
      "ProfileUpdateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ProfileUpdateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ProfileUpdateRequest",
        "description": "JSON:API request for updating a profile."
      },
      "RatingCreateAttributes": {
        "properties": {
          "note_id": {
            "type": "string",
            "format": "uuid",
            "title": "Note Id",
            "description": "Note ID to rate"
          },
          "rater_participant_id": {
            "type": "string",
            "title": "Rater Participant Id",
            "description": "Rater's participant ID"
          },
          "helpfulness_level": {
            "$ref": "#/components/schemas/HelpfulnessLevel",
            "description": "Rating level"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "note_id",
          "rater_participant_id",
          "helpfulness_level"
        ],
        "title": "RatingCreateAttributes",
        "description": "Attributes for creating a rating via JSON:API."
      },
      "RatingCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "ratings",
            "title": "Type",
            "description": "Resource type must be 'ratings'"
          },
          "attributes": {
            "$ref": "#/components/schemas/RatingCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "RatingCreateData",
        "description": "JSON:API data object for rating creation."
      },
      "RatingCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/RatingCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "RatingCreateRequest",
        "description": "JSON:API request body for creating a rating."
      },
      "RatingData": {
        "properties": {
          "raterParticipantId": {
            "type": "string",
            "title": "Raterparticipantid"
          },
          "noteId": {
            "type": "integer",
            "title": "Noteid"
          },
          "createdAtMillis": {
            "type": "integer",
            "title": "Createdatmillis"
          },
          "helpfulnessLevel": {
            "type": "string",
            "title": "Helpfulnesslevel"
          }
        },
        "type": "object",
        "required": [
          "raterParticipantId",
          "noteId",
          "createdAtMillis",
          "helpfulnessLevel"
        ],
        "title": "RatingData"
      },
      "RatingResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "note_id": {
            "type": "string",
            "format": "uuid",
            "title": "Note Id",
            "description": "Note ID to rate"
          },
          "helpfulness_level": {
            "$ref": "#/components/schemas/HelpfulnessLevel",
            "description": "Rating level"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "rater_participant_id": {
            "type": "string",
            "title": "Rater Participant Id"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "created_at",
          "note_id",
          "helpfulness_level",
          "id",
          "rater_participant_id"
        ],
        "title": "RatingResponse"
      },
      "RatingThresholdsResponse": {
        "properties": {
          "min_ratings_needed": {
            "type": "integer",
            "title": "Min Ratings Needed",
            "description": "Minimum number of ratings before a note can receive CRH/CRNH status"
          },
          "min_raters_per_note": {
            "type": "integer",
            "title": "Min Raters Per Note",
            "description": "Minimum number of unique raters required per note"
          }
        },
        "type": "object",
        "required": [
          "min_ratings_needed",
          "min_raters_per_note"
        ],
        "title": "RatingThresholdsResponse"
      },
      "RatingUpdateAttributes": {
        "properties": {
          "helpfulness_level": {
            "$ref": "#/components/schemas/HelpfulnessLevel",
            "description": "Rating level"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "helpfulness_level"
        ],
        "title": "RatingUpdateAttributes",
        "description": "Attributes for updating a rating via JSON:API."
      },
      "RatingUpdateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "ratings",
            "title": "Type",
            "description": "Resource type must be 'ratings'"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Rating ID"
          },
          "attributes": {
            "$ref": "#/components/schemas/RatingUpdateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "id",
          "attributes"
        ],
        "title": "RatingUpdateData",
        "description": "JSON:API data object for rating update."
      },
      "RatingUpdateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/RatingUpdateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "RatingUpdateRequest",
        "description": "JSON:API request body for updating a rating."
      },
      "RefreshTokenRequest": {
        "properties": {
          "refresh_token": {
            "type": "string",
            "title": "Refresh Token",
            "description": "The refresh token to use for getting a new access token"
          }
        },
        "type": "object",
        "required": [
          "refresh_token"
        ],
        "title": "RefreshTokenRequest",
        "description": "Request body for refresh token endpoint."
      },
      "RemoveCommunityAdminResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether the operation succeeded"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable result message"
          },
          "profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Profile Id",
            "description": "Profile ID of the affected user"
          },
          "previous_role": {
            "type": "string",
            "title": "Previous Role",
            "description": "User's previous role"
          },
          "new_role": {
            "type": "string",
            "title": "New Role",
            "description": "User's new role"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "success",
          "message",
          "profile_id",
          "previous_role",
          "new_role"
        ],
        "title": "RemoveCommunityAdminResponse",
        "description": "Response schema for admin removal."
      },
      "RequestCreate": {
        "properties": {
          "request_id": {
            "type": "string",
            "title": "Request Id",
            "description": "Unique request identifier"
          },
          "requested_by": {
            "type": "string",
            "title": "Requested By",
            "description": "Requester's participant ID"
          },
          "community_server_id": {
            "type": "string",
            "title": "Community Server Id",
            "description": "Community server ID (Discord guild ID, subreddit, etc.)"
          },
          "original_message_content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Original Message Content",
            "description": "Original message content"
          },
          "platform_message_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Message Id",
            "description": "Platform message ID"
          },
          "platform_channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Channel Id",
            "description": "Platform channel ID"
          },
          "platform_author_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Author Id",
            "description": "Platform author ID"
          },
          "platform_timestamp": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Timestamp",
            "description": "Platform message timestamp"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Request metadata (e.g., fact-check match info)"
          },
          "attachment_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attachment Url",
            "description": "URL of the first attachment (image, video, or file)"
          },
          "attachment_type": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "image",
                  "video",
                  "file"
                ]
              },
              {
                "type": "null"
              }
            ],
            "title": "Attachment Type",
            "description": "Type of attachment"
          },
          "attachment_metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attachment Metadata",
            "description": "Attachment metadata (width, height, size, filename)"
          },
          "embedded_image_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedded Image Url",
            "description": "URL of embedded image (from Discord embeds or text links)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "request_id",
          "requested_by",
          "community_server_id"
        ],
        "title": "RequestCreate"
      },
      "RequestCreateAttributes": {
        "properties": {
          "request_id": {
            "type": "string",
            "minLength": 1,
            "title": "Request Id",
            "description": "Unique request identifier"
          },
          "requested_by": {
            "type": "string",
            "title": "Requested By",
            "description": "Requester's participant ID"
          },
          "community_server_id": {
            "type": "string",
            "title": "Community Server Id",
            "description": "Community server ID (Discord guild ID, subreddit, etc.)"
          },
          "original_message_content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Original Message Content",
            "description": "Original message content"
          },
          "platform_message_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Message Id",
            "description": "Platform message ID"
          },
          "platform_channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Channel Id",
            "description": "Platform channel ID"
          },
          "platform_author_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Author Id",
            "description": "Platform author ID"
          },
          "platform_timestamp": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Timestamp",
            "description": "Platform message timestamp"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Request metadata"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "request_id",
          "requested_by",
          "community_server_id"
        ],
        "title": "RequestCreateAttributes",
        "description": "Attributes for creating a request via JSON:API."
      },
      "RequestCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "requests",
            "title": "Type",
            "description": "Resource type must be 'requests'"
          },
          "attributes": {
            "$ref": "#/components/schemas/RequestCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "RequestCreateData",
        "description": "JSON:API data object for request creation."
      },
      "RequestCreateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/RequestCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "RequestCreateRequest",
        "description": "JSON:API request body for creating a request."
      },
      "RequestInfo": {
        "properties": {
          "request_id": {
            "type": "string",
            "title": "Request Id"
          },
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content"
          },
          "requested_by": {
            "type": "string",
            "title": "Requested By"
          },
          "requested_at": {
            "type": "string",
            "format": "date-time",
            "title": "Requested At"
          }
        },
        "type": "object",
        "required": [
          "request_id",
          "requested_by",
          "requested_at"
        ],
        "title": "RequestInfo",
        "description": "Simplified request info for embedding in note responses"
      },
      "RequestListResponse": {
        "properties": {
          "requests": {
            "items": {
              "$ref": "#/components/schemas/RequestResponse"
            },
            "type": "array",
            "title": "Requests"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "requests",
          "total",
          "page",
          "size"
        ],
        "title": "RequestListResponse"
      },
      "RequestResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "request_id": {
            "type": "string",
            "title": "Request Id",
            "description": "Unique request identifier"
          },
          "requested_by": {
            "type": "string",
            "title": "Requested By",
            "description": "Requester's participant ID"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "community_server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Community Server Id",
            "description": "Community server ID"
          },
          "requested_at": {
            "type": "string",
            "title": "Requested At"
          },
          "status": {
            "$ref": "#/components/schemas/RequestStatus"
          },
          "note_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note Id"
          },
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content",
            "description": "Message content from archive or legacy field"
          },
          "platform_message_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Message Id",
            "description": "Platform message ID from message archive"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Request metadata (e.g., fact-check match info)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "created_at",
          "request_id",
          "requested_by",
          "id",
          "community_server_id",
          "requested_at",
          "status"
        ],
        "title": "RequestResponse"
      },
      "RequestStatus": {
        "type": "string",
        "enum": [
          "PENDING",
          "IN_PROGRESS",
          "COMPLETED",
          "FAILED"
        ],
        "title": "RequestStatus"
      },
      "RequestUpdate": {
        "properties": {
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RequestStatus"
              },
              {
                "type": "null"
              }
            ]
          },
          "note_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note Id"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "RequestUpdate"
      },
      "RequestUpdateAttributes": {
        "properties": {
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RequestStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "Updated request status"
          },
          "note_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note Id",
            "description": "Associated note ID"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "RequestUpdateAttributes",
        "description": "Attributes for updating a request via JSON:API."
      },
      "RequestUpdateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "requests",
            "title": "Type",
            "description": "Resource type must be 'requests'"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Request ID being updated"
          },
          "attributes": {
            "$ref": "#/components/schemas/RequestUpdateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "id",
          "attributes"
        ],
        "title": "RequestUpdateData",
        "description": "JSON:API data object for request update."
      },
      "RequestUpdateRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/RequestUpdateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "RequestUpdateRequest",
        "description": "JSON:API request body for updating a request."
      },
      "ScoreConfidence": {
        "type": "string",
        "enum": [
          "no_data",
          "provisional",
          "standard"
        ],
        "title": "ScoreConfidence"
      },
      "ScoringRequest": {
        "properties": {
          "notes": {
            "items": {
              "$ref": "#/components/schemas/NoteData"
            },
            "type": "array",
            "title": "Notes",
            "description": "List of community notes to score"
          },
          "ratings": {
            "items": {
              "$ref": "#/components/schemas/RatingData"
            },
            "type": "array",
            "title": "Ratings",
            "description": "List of ratings for the notes"
          },
          "enrollment": {
            "items": {
              "$ref": "#/components/schemas/EnrollmentData"
            },
            "type": "array",
            "title": "Enrollment",
            "description": "List of user enrollment data"
          },
          "status": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "description": "Optional note status history"
          }
        },
        "type": "object",
        "required": [
          "notes",
          "ratings",
          "enrollment"
        ],
        "title": "ScoringRequest"
      },
      "ScoringResponse": {
        "properties": {
          "scored_notes": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Scored Notes"
          },
          "helpful_scores": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Helpful Scores"
          },
          "auxiliary_info": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Auxiliary Info"
          }
        },
        "type": "object",
        "required": [
          "scored_notes",
          "helpful_scores",
          "auxiliary_info"
        ],
        "title": "ScoringResponse"
      },
      "ScoringStatusResponse": {
        "properties": {
          "current_note_count": {
            "type": "integer",
            "title": "Current Note Count",
            "description": "Current total number of notes in the system"
          },
          "active_tier": {
            "$ref": "#/components/schemas/TierInfo",
            "description": "Currently active scoring tier information"
          },
          "data_confidence": {
            "$ref": "#/components/schemas/DataConfidence",
            "description": "Confidence level in scoring results based on data volume"
          },
          "tier_thresholds": {
            "additionalProperties": {
              "$ref": "#/components/schemas/TierThreshold"
            },
            "type": "object",
            "title": "Tier Thresholds",
            "description": "Threshold information for all tiers"
          },
          "next_tier_upgrade": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/NextTierInfo"
              },
              {
                "type": "null"
              }
            ],
            "description": "Information about the next tier upgrade (null if at max tier)"
          },
          "performance_metrics": {
            "$ref": "#/components/schemas/PerformanceMetrics",
            "description": "Performance metrics for the scoring system"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Warnings",
            "description": "Any warnings about data quality or scoring limitations"
          },
          "configuration": {
            "additionalProperties": true,
            "type": "object",
            "title": "Configuration",
            "description": "Current scoring configuration overrides"
          }
        },
        "type": "object",
        "required": [
          "current_note_count",
          "active_tier",
          "data_confidence",
          "tier_thresholds",
          "performance_metrics"
        ],
        "title": "ScoringStatusResponse"
      },
      "ServiceStatus": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Service status: 'healthy', 'degraded', or 'unhealthy'"
          },
          "latency_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latency Ms",
            "description": "Response latency in milliseconds"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Additional status message"
          },
          "details": {
            "additionalProperties": true,
            "type": "object",
            "title": "Details",
            "description": "Additional details"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "ServiceStatus"
      },
      "SetConfigRequest": {
        "properties": {
          "key": {
            "type": "string",
            "maxLength": 128,
            "minLength": 1,
            "pattern": "^[a-z][a-z0-9_]*$",
            "title": "Key",
            "description": "Configuration key to set (snake_case: lowercase letters, numbers, underscores, must start with letter)"
          },
          "value": {
            "type": "string",
            "maxLength": 10240,
            "title": "Value",
            "description": "Configuration value (stringified)"
          }
        },
        "type": "object",
        "required": [
          "key",
          "value"
        ],
        "title": "SetConfigRequest"
      },
      "SimilaritySearchCreateAttributes": {
        "properties": {
          "text": {
            "type": "string",
            "maxLength": 50000,
            "minLength": 1,
            "title": "Text",
            "description": "Message text to search for similar fact-checks"
          },
          "community_server_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Community Server Id",
            "description": "Community server (guild) ID"
          },
          "dataset_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Dataset Tags",
            "description": "Dataset tags to filter by (e.g., ['snopes', 'politifact'])"
          },
          "similarity_threshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Similarity Threshold",
            "description": "Minimum cosine similarity (0.0-1.0) for semantic search pre-filtering"
          },
          "rrf_score_threshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Rrf Score Threshold",
            "description": "Minimum scaled RRF score (0.0-1.0) for post-fusion filtering",
            "default": 0.1
          },
          "limit": {
            "type": "integer",
            "maximum": 20.0,
            "minimum": 1.0,
            "title": "Limit",
            "description": "Maximum number of results to return",
            "default": 5
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "text",
          "community_server_id"
        ],
        "title": "SimilaritySearchCreateAttributes",
        "description": "Attributes for performing a similarity search via JSON:API."
      },
      "SimilaritySearchCreateData": {
        "properties": {
          "type": {
            "type": "string",
            "const": "similarity-searches",
            "title": "Type",
            "description": "Resource type must be 'similarity-searches'"
          },
          "attributes": {
            "$ref": "#/components/schemas/SimilaritySearchCreateAttributes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "attributes"
        ],
        "title": "SimilaritySearchCreateData",
        "description": "JSON:API data object for similarity search."
      },
      "SimilaritySearchResponse": {
        "properties": {
          "matches": {
            "items": {
              "$ref": "#/components/schemas/FactCheckMatch"
            },
            "type": "array",
            "title": "Matches",
            "description": "Matching fact-check items"
          },
          "query_text": {
            "type": "string",
            "title": "Query Text",
            "description": "Original query text"
          },
          "dataset_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Dataset Tags",
            "description": "Dataset tags used for filtering"
          },
          "similarity_threshold": {
            "type": "number",
            "title": "Similarity Threshold",
            "description": "Cosine similarity threshold applied"
          },
          "rrf_score_threshold": {
            "type": "number",
            "title": "Rrf Score Threshold",
            "description": "Scaled RRF score threshold applied"
          },
          "total_matches": {
            "type": "integer",
            "title": "Total Matches",
            "description": "Number of matches found"
          }
        },
        "type": "object",
        "required": [
          "matches",
          "query_text",
          "dataset_tags",
          "similarity_threshold",
          "rrf_score_threshold",
          "total_matches"
        ],
        "title": "SimilaritySearchResponse"
      },
      "TierInfo": {
        "properties": {
          "level": {
            "type": "integer",
            "title": "Level",
            "description": "Numeric tier level (0-5)"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Human-readable tier name"
          },
          "scorer_components": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scorer Components",
            "description": "List of scorer components active in this tier"
          }
        },
        "type": "object",
        "required": [
          "level",
          "name",
          "scorer_components"
        ],
        "title": "TierInfo"
      },
      "TierThreshold": {
        "properties": {
          "min": {
            "type": "integer",
            "title": "Min",
            "description": "Minimum note count for this tier"
          },
          "max": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max",
            "description": "Maximum note count for this tier (null for unlimited)"
          },
          "current": {
            "type": "boolean",
            "title": "Current",
            "description": "Whether this is the currently active tier"
          }
        },
        "type": "object",
        "required": [
          "min",
          "max",
          "current"
        ],
        "title": "TierThreshold"
      },
      "Token": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "default": "bearer"
          },
          "refresh_token": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Refresh Token"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "expires_in"
        ],
        "title": "Token"
      },
      "TopNotesResponse": {
        "properties": {
          "notes": {
            "items": {
              "$ref": "#/components/schemas/NoteScoreResponse"
            },
            "type": "array",
            "title": "Notes",
            "description": "List of top-scored notes with metadata"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "description": "Total number of notes matching filters (before pagination)"
          },
          "filters_applied": {
            "additionalProperties": true,
            "type": "object",
            "title": "Filters Applied",
            "description": "Filters that were applied to the query"
          },
          "current_tier": {
            "type": "integer",
            "title": "Current Tier",
            "description": "Current scoring tier level for the system"
          }
        },
        "type": "object",
        "required": [
          "notes",
          "total_count",
          "current_tier"
        ],
        "title": "TopNotesResponse"
      },
      "UserCreate": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 50,
            "minLength": 3,
            "title": "Username"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "password": {
            "type": "string",
            "maxLength": 72,
            "minLength": 8,
            "title": "Password"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          }
        },
        "type": "object",
        "required": [
          "username",
          "email",
          "password"
        ],
        "title": "UserCreate"
      },
      "UserIdentityResponse-Input": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique identity identifier"
          },
          "profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Profile Id",
            "description": "Associated user profile ID"
          },
          "provider": {
            "$ref": "#/components/schemas/AuthProvider",
            "description": "Authentication provider"
          },
          "provider_user_id": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Provider User Id",
            "description": "User's unique ID on the provider"
          },
          "email_verified": {
            "type": "boolean",
            "title": "Email Verified",
            "description": "Whether email address is verified"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "id",
          "profile_id",
          "provider",
          "provider_user_id",
          "email_verified"
        ],
        "title": "UserIdentityResponse",
        "description": "API response schema for user identity (excludes sensitive fields)."
      },
      "UserIdentityResponse-Output": {
        "properties": {
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique identity identifier"
          },
          "profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Profile Id",
            "description": "Associated user profile ID"
          },
          "provider": {
            "$ref": "#/components/schemas/AuthProvider",
            "description": "Authentication provider"
          },
          "provider_user_id": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Provider User Id",
            "description": "User's unique ID on the provider"
          },
          "email_verified": {
            "type": "boolean",
            "title": "Email Verified",
            "description": "Whether email address is verified"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "id",
          "profile_id",
          "provider",
          "provider_user_id",
          "email_verified"
        ],
        "title": "UserIdentityResponse",
        "description": "API response schema for user identity (excludes sensitive fields)."
      },
      "UserProfileResponse-Input": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "display_name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Display Name",
            "description": "User's display name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "URL to user's avatar image"
          },
          "bio": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bio",
            "description": "User biography/description"
          },
          "role": {
            "type": "string",
            "title": "Role",
            "description": "Platform-level role (user, moderator, admin)",
            "default": "user"
          },
          "is_opennotes_admin": {
            "type": "boolean",
            "title": "Is Opennotes Admin",
            "description": "OpenNotes-specific admin flag (grants cross-community admin privileges)",
            "default": false
          },
          "is_human": {
            "type": "boolean",
            "title": "Is Human",
            "description": "Distinguishes human users from bot accounts",
            "default": true
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the profile is active",
            "default": true
          },
          "is_banned": {
            "type": "boolean",
            "title": "Is Banned",
            "description": "Whether the profile is banned",
            "default": false
          },
          "banned_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Banned At",
            "description": "Timestamp when profile was banned"
          },
          "banned_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Banned Reason",
            "description": "Reason for ban"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique profile identifier"
          },
          "reputation": {
            "type": "integer",
            "title": "Reputation",
            "description": "Global reputation score",
            "default": 0
          },
          "identities": {
            "items": {
              "$ref": "#/components/schemas/UserIdentityResponse-Input"
            },
            "type": "array",
            "title": "Identities",
            "description": "Linked authentication identities"
          },
          "community_memberships": {
            "items": {
              "$ref": "#/components/schemas/CommunityMemberResponse-Input"
            },
            "type": "array",
            "title": "Community Memberships",
            "description": "Community memberships"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "created_at",
          "display_name",
          "id"
        ],
        "title": "UserProfileResponse",
        "description": "API response schema for user profile with nested relationships."
      },
      "UserProfileResponse-Output": {
        "properties": {
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "display_name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Display Name",
            "description": "User's display name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "URL to user's avatar image"
          },
          "bio": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bio",
            "description": "User biography/description"
          },
          "role": {
            "type": "string",
            "title": "Role",
            "description": "Platform-level role (user, moderator, admin)",
            "default": "user"
          },
          "is_opennotes_admin": {
            "type": "boolean",
            "title": "Is Opennotes Admin",
            "description": "OpenNotes-specific admin flag (grants cross-community admin privileges)",
            "default": false
          },
          "is_human": {
            "type": "boolean",
            "title": "Is Human",
            "description": "Distinguishes human users from bot accounts",
            "default": true
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the profile is active",
            "default": true
          },
          "is_banned": {
            "type": "boolean",
            "title": "Is Banned",
            "description": "Whether the profile is banned",
            "default": false
          },
          "banned_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Banned At",
            "description": "Timestamp when profile was banned"
          },
          "banned_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Banned Reason",
            "description": "Reason for ban"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique profile identifier"
          },
          "reputation": {
            "type": "integer",
            "title": "Reputation",
            "description": "Global reputation score",
            "default": 0
          },
          "identities": {
            "items": {
              "$ref": "#/components/schemas/UserIdentityResponse-Output"
            },
            "type": "array",
            "title": "Identities",
            "description": "Linked authentication identities"
          },
          "community_memberships": {
            "items": {
              "$ref": "#/components/schemas/CommunityMemberResponse-Output"
            },
            "type": "array",
            "title": "Community Memberships",
            "description": "Community memberships"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "created_at",
          "display_name",
          "id"
        ],
        "title": "UserProfileResponse",
        "description": "API response schema for user profile with nested relationships."
      },
      "UserProfileSelfUpdate": {
        "properties": {
          "display_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name",
            "description": "User's display name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "URL to user's avatar image"
          },
          "bio": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bio",
            "description": "User biography/description"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "UserProfileSelfUpdate",
        "description": "Schema for users updating their own profile (self-service).\n\nSecurity: This schema only exposes user-editable fields.\nPrivileged fields (role, is_opennotes_admin, is_banned, etc.) are\nintentionally excluded to prevent privilege escalation attacks.\n\nUse UserProfileAdminUpdate for admin operations on user profiles."
      },
      "UserResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "role": {
            "type": "string",
            "title": "Role"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "is_superuser": {
            "type": "boolean",
            "title": "Is Superuser"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "username",
          "email",
          "full_name",
          "role",
          "is_active",
          "is_superuser",
          "created_at",
          "updated_at"
        ],
        "title": "UserResponse"
      },
      "UserUpdate": {
        "properties": {
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "password": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 72,
                "minLength": 8
              },
              {
                "type": "null"
              }
            ],
            "title": "Password"
          }
        },
        "type": "object",
        "title": "UserUpdate"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "WebhookConfigResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "url": {
            "type": "string",
            "title": "Url"
          },
          "community_server_id": {
            "type": "string",
            "title": "Community Server Id"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id"
          },
          "active": {
            "type": "boolean",
            "title": "Active"
          }
        },
        "type": "object",
        "required": [
          "id",
          "url",
          "community_server_id",
          "active"
        ],
        "title": "WebhookConfigResponse"
      },
      "WebhookConfigSecure": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "url": {
            "type": "string",
            "title": "Url"
          },
          "community_server_id": {
            "type": "string",
            "title": "Community Server Id"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id"
          },
          "active": {
            "type": "boolean",
            "title": "Active"
          },
          "secret": {
            "type": "string",
            "title": "Secret"
          }
        },
        "type": "object",
        "required": [
          "id",
          "url",
          "community_server_id",
          "active",
          "secret"
        ],
        "title": "WebhookConfigSecure"
      },
      "WebhookCreateRequest": {
        "properties": {
          "url": {
            "type": "string",
            "title": "Url",
            "description": "Webhook URL"
          },
          "secret": {
            "type": "string",
            "title": "Secret",
            "description": "Webhook secret"
          },
          "community_server_id": {
            "type": "string",
            "title": "Community Server Id",
            "description": "Community server ID (Discord guild ID, subreddit name, etc.)"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Channel ID (Discord channel ID, etc.)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "url",
          "secret",
          "community_server_id"
        ],
        "title": "WebhookCreateRequest"
      },
      "WebhookUpdateRequest": {
        "properties": {
          "url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Url"
          },
          "secret": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Secret"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id"
          },
          "active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Active"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "WebhookUpdateRequest"
      },
      "src__fact_checking__embedding_schemas__SimilaritySearchRequest": {
        "properties": {
          "text": {
            "type": "string",
            "maxLength": 50000,
            "minLength": 1,
            "title": "Text",
            "description": "Message text to search for similar fact-checks"
          },
          "community_server_id": {
            "type": "string",
            "maxLength": 64,
            "title": "Community Server Id",
            "description": "Community server (guild) ID"
          },
          "dataset_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Dataset Tags",
            "description": "Dataset tags to filter by (e.g., ['snopes', 'politifact'])"
          },
          "similarity_threshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Similarity Threshold",
            "description": "Minimum cosine similarity (0.0-1.0) for semantic search pre-filtering"
          },
          "rrf_score_threshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Rrf Score Threshold",
            "description": "Minimum scaled RRF score (0.0-1.0) for post-fusion filtering",
            "default": 0.1
          },
          "limit": {
            "type": "integer",
            "maximum": 20.0,
            "minimum": 1.0,
            "title": "Limit",
            "description": "Maximum number of results to return",
            "default": 5
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "text",
          "community_server_id"
        ],
        "title": "SimilaritySearchRequest",
        "description": "Request schema for similarity search against fact-check items."
      },
      "src__fact_checking__embeddings_jsonapi_router__SimilaritySearchRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/SimilaritySearchCreateData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "SimilaritySearchRequest",
        "description": "JSON:API request body for performing a similarity search."
      },
      "src__fact_checking__previously_seen_jsonapi_router__PreviouslySeenCheckRequest": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/PreviouslySeenCheckData"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "PreviouslySeenCheckRequest",
        "description": "JSON:API request body for checking previously seen messages."
      },
      "src__fact_checking__previously_seen_router__PreviouslySeenCheckRequest": {
        "properties": {
          "messageText": {
            "type": "string",
            "maxLength": 50000,
            "minLength": 1,
            "title": "Messagetext",
            "description": "Message text to check"
          },
          "guildId": {
            "type": "string",
            "maxLength": 64,
            "title": "Guildid",
            "description": "Discord guild ID"
          },
          "channelId": {
            "type": "string",
            "maxLength": 64,
            "title": "Channelid",
            "description": "Discord channel ID"
          }
        },
        "type": "object",
        "required": [
          "messageText",
          "guildId",
          "channelId"
        ],
        "title": "PreviouslySeenCheckRequest",
        "description": "Request to check for previously seen messages."
      }
    },
    "securitySchemes": {
      "OAuth2PasswordBearer": {
        "type": "oauth2",
        "flows": {
          "password": {
            "scopes": {},
            "tokenUrl": "/api/v1/auth/login"
          }
        }
      },
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}
